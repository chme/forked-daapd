import{c as Ks,o as l,a as _,b as t,r as I,d as y,n as A,e as C,t as u,S as B,f as c,w as d,g,T as N,h as E,i as D,v as V,j as Ys,k as m,l as x,s as Qs,m as ys,P as Qt,p as z,F as R,q as L,u as Y,x as Q,y as Jt,z as Js,A as Vt,B as Xt,C as Xs,D as Zs,E as te,G as K,H as se,R as ee,I as ie,J as oe,V as ae,K as ne,L as le,M as re}from"./vendor.js";const de=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function a(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=a(o);fetch(o.href,i)}};de();const gs="UPDATE_CONFIG",bs="UPDATE_SETTINGS",Bt="UPDATE_SETTINGS_OPTION",ks="UPDATE_LIBRARY_STATS",ws="UPDATE_LIBRARY_AUDIOBOOKS_COUNT",vs="UPDATE_LIBRARY_PODCASTS_COUNT",$s="UPDATE_LIBRARY_RSS_COUNT",xs="UPDATE_OUTPUTS",Zt="UPDATE_PLAYER_STATUS",Cs="UPDATE_QUEUE",As="UPDATE_LASTFM",Ss="UPDATE_SPOTIFY",qs="UPDATE_PAIRING",ts="SPOTIFY_NEW_RELEASES",ss="SPOTIFY_FEATURED_PLAYLISTS",fs="ADD_NOTIFICATION",Wt="DELETE_NOTIFICATION",es="ADD_RECENT_SEARCH",Ft="HIDE_SINGLES",is="HIDE_SPOTIFY",Ps="ARTISTS_SORT",Ts="ARTIST_ALBUMS_SORT",Rs="ALBUMS_SORT",Ls="SHOW_ONLY_NEXT_ITEMS",J="SHOW_BURGER_MENU",X="SHOW_PLAYER_MENU",et="SHOW_UPDATE_DIALOG",os="UPDATE_DIALOG_SCAN_KIND";var T=Ks({state(){return{config:{websocket_port:0,version:"",buildoptions:[]},settings:{categories:[]},library:{artists:0,albums:0,songs:0,db_playtime:0,updating:!1},audiobooks_count:{},podcasts_count:{},rss_count:{},outputs:[],player:{state:"stop",repeat:"off",consume:!1,shuffle:!1,volume:0,item_id:0,item_length_ms:0,item_progress_ms:0},queue:{version:0,count:0,items:[]},lastfm:{},spotify:{},pairing:{},spotify_new_releases:[],spotify_featured_playlists:[],notifications:{next_id:1,list:[]},recent_searches:[],hide_singles:!1,hide_spotify:!1,artists_sort:"Name",artist_albums_sort:"Name",albums_sort:"Name",show_only_next_items:!1,show_burger_menu:!1,show_player_menu:!1,show_update_dialog:!1,update_dialog_scan_kind:""}},getters:{now_playing:e=>{const s=e.queue.items.find(function(a){return a.id===e.player.item_id});return s===void 0?{}:s},settings_webinterface:e=>e.settings?e.settings.categories.find(s=>s.name==="webinterface"):null,settings_option_recently_added_limit:(e,s)=>{if(s.settings_webinterface){const a=s.settings_webinterface.options.find(r=>r.name==="recently_added_limit");if(a)return a.value}return 100},settings_option_show_composer_now_playing:(e,s)=>{if(s.settings_webinterface){const a=s.settings_webinterface.options.find(r=>r.name==="show_composer_now_playing");if(a)return a.value}return!1},settings_option_show_composer_for_genre:(e,s)=>{if(s.settings_webinterface){const a=s.settings_webinterface.options.find(r=>r.name==="show_composer_for_genre");if(a)return a.value}return null},settings_category:e=>s=>e.settings.categories.find(a=>a.name===s),settings_option:e=>(s,a)=>{const r=e.settings.categories.find(o=>o.name===s);return r?r.options.find(o=>o.name===a):{}}},mutations:{[gs](e,s){e.config=s},[bs](e,s){e.settings=s},[Bt](e,s){const r=e.settings.categories.find(o=>o.name===s.category).options.find(o=>o.name===s.name);r.value=s.value},[ks](e,s){e.library=s},[ws](e,s){e.audiobooks_count=s},[vs](e,s){e.podcasts_count=s},[$s](e,s){e.rss_count=s},[xs](e,s){e.outputs=s},[Zt](e,s){e.player=s},[Cs](e,s){e.queue=s},[As](e,s){e.lastfm=s},[Ss](e,s){e.spotify=s},[qs](e,s){e.pairing=s},[ts](e,s){e.spotify_new_releases=s},[ss](e,s){e.spotify_featured_playlists=s},[fs](e,s){if(s.topic){const a=e.notifications.list.findIndex(r=>r.topic===s.topic);if(a>=0){e.notifications.list.splice(a,1,s);return}}e.notifications.list.push(s)},[Wt](e,s){const a=e.notifications.list.indexOf(s);a!==-1&&e.notifications.list.splice(a,1)},[es](e,s){const a=e.recent_searches.findIndex(r=>r===s);a>=0&&e.recent_searches.splice(a,1),e.recent_searches.splice(0,0,s),e.recent_searches.length>5&&e.recent_searches.pop()},[Ft](e,s){e.hide_singles=s},[is](e,s){e.hide_spotify=s},[Ps](e,s){e.artists_sort=s},[Ts](e,s){e.artist_albums_sort=s},[Rs](e,s){e.albums_sort=s},[Ls](e,s){e.show_only_next_items=s},[J](e,s){e.show_burger_menu=s},[X](e,s){e.show_player_menu=s},[et](e,s){e.show_update_dialog=s},[os](e,s){e.update_dialog_scan_kind=s}},actions:{add_notification({commit:e,state:s},a){const r={id:s.notifications.next_id++,type:a.type,text:a.text,topic:a.topic,timeout:a.timeout};e(fs,r),a.timeout>0&&setTimeout(()=>{e(Wt,r)},a.timeout)}}}),v=(e,s)=>{const a=e.__vccOpts||e;for(const[r,o]of s)a[r]=o;return a};const _e={name:"ContentWithHeading",data(){return{options_visible:!1}},mounted(){this.$slots.options&&(this.observer=new IntersectionObserver(this.onElementObserved,{rootMargin:"-100px",threshold:1}),this.observer.observe(this.$refs.options_ref))},methods:{onElementObserved(e){e.forEach(({target:s,isIntersecting:a})=>{this.options_visible=a})},scroll_to_top:function(){window.scrollTo({top:0,behavior:"smooth"})},scroll_to_content:function(){this.$route.meta.has_tabs?this.$scrollTo("#top",{offset:-140}):this.$scrollTo("#top",{offset:-100})},visibilityChanged:function(e){this.options_visible=e}}},ce={class:"section fd-content"},ue={class:"container"},me={class:"columns is-centered"},he={class:"column is-four-fifths"},pe={key:0},fe={style:{height:"1px"},ref:"options_ref"},ye={class:"buttons is-centered",style:{"margin-bottom":"6px","margin-top":"16px"}},ge=t("span",{class:"icon is-small"},[t("i",{class:"mdi mdi-chevron-up"})],-1),be=[ge],ke=t("span",{class:"icon is-small"},[t("i",{class:"mdi mdi-chevron-down"})],-1),we=[ke],ve={class:"level",id:"top"},$e={class:"level-left"},xe={class:"level-item has-text-centered-mobile"},Ce={class:"level-right has-text-centered-mobile"},Ae={style:{"margin-top":"16px"}};function Se(e,s,a,r,o,i){return l(),_("section",ce,[t("div",ue,[t("div",me,[t("div",he,[e.$slots.options?(l(),_("section",pe,[t("div",fe,null,512),I(e.$slots,"options"),t("nav",ye,[o.options_visible?(l(),_("a",{key:1,class:"button is-small is-white",onClick:s[1]||(s[1]=(...n)=>i.scroll_to_content&&i.scroll_to_content(...n))},we)):(l(),_("a",{key:0,class:"button is-small is-white",onClick:s[0]||(s[0]=(...n)=>i.scroll_to_top&&i.scroll_to_top(...n))},be))])])):y("",!0),t("div",{class:A({"fd-content-with-option":e.$slots.options})},[t("nav",ve,[t("div",$e,[t("div",xe,[t("div",null,[I(e.$slots,"heading-left")])])]),t("div",Ce,[I(e.$slots,"heading-right")])]),I(e.$slots,"content"),t("div",Ae,[I(e.$slots,"footer")])],2)])])])])}var U=v(_e,[["render",Se]]);C.interceptors.response.use(function(e){return e},function(e){return e.request.status&&e.request.responseURL&&T.dispatch("add_notification",{text:"Request failed (status: "+e.request.status+" "+e.request.statusText+", url: "+e.request.responseURL+")",type:"danger"}),Promise.reject(e)});var f={config(){return C.get("./api/config")},settings(){return C.get("./api/settings")},settings_update(e,s){return C.put("./api/settings/"+e+"/"+s.name,s)},library_stats(){return C.get("./api/library")},library_update(e){const s={};return e&&(s.scan_kind=e),C.put("./api/update",void 0,{params:s})},library_rescan(e){const s={};return e&&(s.scan_kind=e),C.put("./api/rescan",void 0,{params:s})},library_count(e){return C.get("./api/library/count?expression="+e)},queue(){return C.get("./api/queue")},queue_clear(){return C.put("./api/queue/clear")},queue_remove(e){return C.delete("./api/queue/items/"+e)},queue_move(e,s){return C.put("./api/queue/items/"+e+"?new_position="+s)},queue_add(e){return C.post("./api/queue/items/add?uris="+e).then(s=>(T.dispatch("add_notification",{text:s.data.count+" tracks appended to queue",type:"info",timeout:2e3}),Promise.resolve(s)))},queue_add_next(e){let s=0;return T.getters.now_playing&&T.getters.now_playing.id&&(s=T.getters.now_playing.position+1),C.post("./api/queue/items/add?uris="+e+"&position="+s).then(a=>(T.dispatch("add_notification",{text:a.data.count+" tracks appended to queue",type:"info",timeout:2e3}),Promise.resolve(a)))},queue_expression_add(e){const s={};return s.expression=e,C.post("./api/queue/items/add",void 0,{params:s}).then(a=>(T.dispatch("add_notification",{text:a.data.count+" tracks appended to queue",type:"info",timeout:2e3}),Promise.resolve(a)))},queue_expression_add_next(e){const s={};return s.expression=e,s.position=0,T.getters.now_playing&&T.getters.now_playing.id&&(s.position=T.getters.now_playing.position+1),C.post("./api/queue/items/add",void 0,{params:s}).then(a=>(T.dispatch("add_notification",{text:a.data.count+" tracks appended to queue",type:"info",timeout:2e3}),Promise.resolve(a)))},queue_save_playlist(e){return C.post("./api/queue/save",void 0,{params:{name:e}}).then(s=>(T.dispatch("add_notification",{text:'Queue saved to playlist "'+e+'"',type:"info",timeout:2e3}),Promise.resolve(s)))},player_status(){return C.get("./api/player")},player_play_uri(e,s,a=void 0){const r={};return r.uris=e,r.shuffle=s?"true":"false",r.clear="true",r.playback="start",r.playback_from_position=a,C.post("./api/queue/items/add",void 0,{params:r})},player_play_expression(e,s,a=void 0){const r={};return r.expression=e,r.shuffle=s?"true":"false",r.clear="true",r.playback="start",r.playback_from_position=a,C.post("./api/queue/items/add",void 0,{params:r})},player_play(e={}){return C.put("./api/player/play",void 0,{params:e})},player_playpos(e){return C.put("./api/player/play?position="+e)},player_playid(e){return C.put("./api/player/play?item_id="+e)},player_pause(){return C.put("./api/player/pause")},player_stop(){return C.put("./api/player/stop")},player_next(){return C.put("./api/player/next")},player_previous(){return C.put("./api/player/previous")},player_shuffle(e){const s=e?"true":"false";return C.put("./api/player/shuffle?state="+s)},player_consume(e){const s=e?"true":"false";return C.put("./api/player/consume?state="+s)},player_repeat(e){return C.put("./api/player/repeat?state="+e)},player_volume(e){return C.put("./api/player/volume?volume="+e)},player_output_volume(e,s){return C.put("./api/player/volume?volume="+s+"&output_id="+e)},player_seek_to_pos(e){return C.put("./api/player/seek?position_ms="+e)},player_seek(e){return C.put("./api/player/seek?seek_ms="+e)},outputs(){return C.get("./api/outputs")},output_update(e,s){return C.put("./api/outputs/"+e,s)},output_toggle(e){return C.put("./api/outputs/"+e+"/toggle")},library_artists(e=void 0){return C.get("./api/library/artists",{params:{media_kind:e}})},library_artist(e){return C.get("./api/library/artists/"+e)},library_artist_albums(e){return C.get("./api/library/artists/"+e+"/albums")},library_albums(e=void 0){return C.get("./api/library/albums",{params:{media_kind:e}})},library_album(e){return C.get("./api/library/albums/"+e)},library_album_tracks(e,s={limit:-1,offset:0}){return C.get("./api/library/albums/"+e+"/tracks",{params:s})},library_album_track_update(e,s){return C.put("./api/library/albums/"+e+"/tracks",void 0,{params:s})},library_genres(){return C.get("./api/library/genres")},library_genre(e){const s={type:"albums",media_kind:"music",expression:'genre is "'+e+'"'};return C.get("./api/search",{params:s})},library_genre_tracks(e){const s={type:"tracks",media_kind:"music",expression:'genre is "'+e+'"'};return C.get("./api/search",{params:s})},library_radio_streams(){const e={type:"tracks",media_kind:"music",expression:"data_kind is url and song_length = 0"};return C.get("./api/search",{params:e})},library_composers(){return C.get("./api/library/composers")},library_composer(e){const s={type:"albums",media_kind:"music",expression:'composer is "'+e+'"'};return C.get("./api/search",{params:s})},library_composer_tracks(e){const s={type:"tracks",media_kind:"music",expression:'composer is "'+e+'"'};return C.get("./api/search",{params:s})},library_artist_tracks(e){if(e){const s={type:"tracks",expression:'songartistid is "'+e+'"'};return C.get("./api/search",{params:s})}},library_podcasts_new_episodes(){const e={type:"tracks",expression:"media_kind is podcast and play_count = 0 ORDER BY time_added DESC"};return C.get("./api/search",{params:e})},library_podcast_episodes(e){const s={type:"tracks",expression:'media_kind is podcast and songalbumid is "'+e+'" ORDER BY date_released DESC'};return C.get("./api/search",{params:s})},library_add(e){return C.post("./api/library/add",void 0,{params:{url:e}})},library_playlist_delete(e){return C.delete("./api/library/playlists/"+e,void 0)},library_playlists(){return C.get("./api/library/playlists")},library_playlist_folder(e=0){return C.get("./api/library/playlists/"+e+"/playlists")},library_playlist(e){return C.get("./api/library/playlists/"+e)},library_playlist_tracks(e){return C.get("./api/library/playlists/"+e+"/tracks")},library_track(e){return C.get("./api/library/tracks/"+e)},library_track_playlists(e){return C.get("./api/library/tracks/"+e+"/playlists")},library_track_update(e,s={}){return C.put("./api/library/tracks/"+e,void 0,{params:s})},library_files(e=void 0){const s={directory:e};return C.get("./api/library/files",{params:s})},search(e){return C.get("./api/search",{params:e})},spotify(){return C.get("./api/spotify")},spotify_login(e){return C.post("./api/spotify-login",e)},spotify_logout(){return C.get("./api/spotify-logout")},lastfm(){return C.get("./api/lastfm")},lastfm_login(e){return C.post("./api/lastfm-login",e)},lastfm_logout(e){return C.get("./api/lastfm-logout")},pairing(){return C.get("./api/pairing")},pairing_kickoff(e){return C.post("./api/pairing",e)},artwork_url_append_size_params(e,s=600,a=600){return e&&e.startsWith("/")?e.includes("?")?e+"&maxwidth="+s+"&maxheight="+a:e+"?maxwidth="+s+"&maxheight="+a:e}};const qe={name:"ListItemQueueItem",props:["item","position","current_position","show_only_next_items","edit_mode"],computed:{state(){return this.$store.state.player},is_next(){return this.current_position<0||this.position>=this.current_position}},methods:{play:function(){f.player_play({item_id:this.item.id})}}},Pe={key:0,class:"media"},Te={key:0,class:"media-left"},Re=t("span",{class:"icon has-text-grey fd-is-movable handle"},[t("i",{class:"mdi mdi-drag-horizontal mdi-18px"})],-1),Le=[Re],Ie={class:"media-right"};function Ue(e,s,a,r,o,i){return i.is_next||!a.show_only_next_items?(l(),_("div",Pe,[a.edit_mode?(l(),_("div",Te,Le)):y("",!0),t("div",{class:"media-content fd-has-action is-clipped",onClick:s[0]||(s[0]=(...n)=>i.play&&i.play(...n))},[t("h1",{class:A(["title is-6",{"has-text-primary":a.item.id===i.state.item_id,"has-text-grey-light":!i.is_next}])},u(a.item.title),3),t("h2",{class:A(["subtitle is-7",{"has-text-primary":a.item.id===i.state.item_id,"has-text-grey-light":!i.is_next,"has-text-grey":i.is_next&&a.item.id!==i.state.item_id}])},[t("b",null,u(a.item.artist),1)],2),t("h2",{class:A(["subtitle is-7",{"has-text-primary":a.item.id===i.state.item_id,"has-text-grey-light":!i.is_next,"has-text-grey":i.is_next&&a.item.id!==i.state.item_id}])},u(a.item.album),3)]),t("div",Ie,[I(e.$slots,"actions")])])):y("",!0)}var Ee=v(qe,[["render",Ue]]);const Oe={name:"ModalDialogQueueItem",props:["show","item"],data(){return{spotify_track:{}}},methods:{remove:function(){this.$emit("close"),f.queue_remove(this.item.id)},play:function(){this.$emit("close"),f.player_play({item_id:this.item.id})},open_album:function(){this.media_kind==="podcast"?this.$router.push({path:"/podcasts/"+this.item.album_id}):this.media_kind==="audiobook"?this.$router.push({path:"/audiobooks/"+this.item.album_id}):this.$router.push({path:"/music/albums/"+this.item.album_id})},open_album_artist:function(){this.$router.push({path:"/music/artists/"+this.item.album_artist_id})},open_genre:function(){this.$router.push({name:"Genre",params:{genre:this.item.genre}})},open_spotify_artist:function(){this.$emit("close"),this.$router.push({path:"/music/spotify/artists/"+this.spotify_track.artists[0].id})},open_spotify_album:function(){this.$emit("close"),this.$router.push({path:"/music/spotify/albums/"+this.spotify_track.album.id})}},watch:{item(){if(this.item&&this.item.data_kind==="spotify"){const e=new B;e.setAccessToken(this.$store.state.spotify.webapi_token),e.getTrack(this.item.path.slice(this.item.path.lastIndexOf(":")+1)).then(s=>{this.spotify_track=s})}else this.spotify_track={}}}},De={key:0,class:"modal is-active"},Ne={class:"modal-content fd-modal-card"},ze={class:"card"},Ve={class:"card-content"},Be={class:"title is-4"},Fe={class:"subtitle"},Me={class:"content is-small"},je=t("span",{class:"heading"},"Album",-1),Ge={key:1,class:"title is-6"},He={key:0},We=t("span",{class:"heading"},"Album artist",-1),Ke={key:1,class:"title is-6"},Ye={key:1},Qe=t("span",{class:"heading"},"Composer",-1),Je={class:"title is-6"},Xe={key:2},Ze=t("span",{class:"heading"},"Year",-1),ti={class:"title is-6"},si={key:3},ei=t("span",{class:"heading"},"Genre",-1),ii=t("span",{class:"heading"},"Track / Disc",-1),oi={class:"title is-6"},ai=t("span",{class:"heading"},"Length",-1),ni={class:"title is-6"},li=t("span",{class:"heading"},"Path",-1),ri={class:"title is-6"},di=t("span",{class:"heading"},"Type",-1),_i={class:"title is-6"},ci={key:0,class:"has-text-weight-normal"},ui=g("("),mi=g(", "),hi=g(")"),pi=t("span",{class:"heading"},"Quality",-1),fi={class:"title is-6"},yi={key:0},gi={key:1},bi={key:2},ki={class:"card-footer"},wi=t("span",{class:"icon"},[t("i",{class:"mdi mdi-delete"})],-1),vi=g(),$i=t("span",{class:"is-size-7"},"Remove",-1),xi=[wi,vi,$i],Ci=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),Ai=g(),Si=t("span",{class:"is-size-7"},"Play",-1),qi=[Ci,Ai,Si];function Pi(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",De,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",Ne,[t("div",ze,[t("div",Ve,[t("p",Be,u(a.item.title),1),t("p",Fe,u(a.item.artist),1),t("div",Me,[t("p",null,[je,a.item.album_id?(l(),_("a",{key:0,class:"title is-6 has-text-link",onClick:s[1]||(s[1]=(...n)=>i.open_album&&i.open_album(...n))},u(a.item.album),1)):(l(),_("span",Ge,u(a.item.album),1))]),a.item.album_artist?(l(),_("p",He,[We,a.item.album_artist_id?(l(),_("a",{key:0,class:"title is-6 has-text-link",onClick:s[2]||(s[2]=(...n)=>i.open_album_artist&&i.open_album_artist(...n))},u(a.item.album_artist),1)):(l(),_("span",Ke,u(a.item.album_artist),1))])):y("",!0),a.item.composer?(l(),_("p",Ye,[Qe,t("span",Je,u(a.item.composer),1)])):y("",!0),a.item.year>0?(l(),_("p",Xe,[Ze,t("span",ti,u(a.item.year),1)])):y("",!0),a.item.genre?(l(),_("p",si,[ei,t("a",{class:"title is-6 has-text-link",onClick:s[3]||(s[3]=(...n)=>i.open_genre&&i.open_genre(...n))},u(a.item.genre),1)])):y("",!0),t("p",null,[ii,t("span",oi,u(a.item.track_number)+" / "+u(a.item.disc_number),1)]),t("p",null,[ai,t("span",ni,u(e.$filters.duration(a.item.length_ms)),1)]),t("p",null,[li,t("span",ri,u(a.item.path),1)]),t("p",null,[di,t("span",_i,[g(u(a.item.media_kind)+" - "+u(a.item.data_kind)+" ",1),a.item.data_kind==="spotify"?(l(),_("span",ci,[ui,t("a",{onClick:s[4]||(s[4]=(...n)=>i.open_spotify_artist&&i.open_spotify_artist(...n))},"artist"),mi,t("a",{onClick:s[5]||(s[5]=(...n)=>i.open_spotify_album&&i.open_spotify_album(...n))},"album"),hi])):y("",!0)])]),t("p",null,[pi,t("span",fi,[g(u(a.item.type)+" ",1),a.item.samplerate?(l(),_("span",yi," | "+u(a.item.samplerate)+" Hz",1)):y("",!0),a.item.channels?(l(),_("span",gi," | "+u(e.$filters.channels(a.item.channels)),1)):y("",!0),a.item.bitrate?(l(),_("span",bi," | "+u(a.item.bitrate)+" Kb/s",1)):y("",!0)])])])]),t("footer",ki,[t("a",{class:"card-footer-item has-text-dark",onClick:s[6]||(s[6]=(...n)=>i.remove&&i.remove(...n))},xi),t("a",{class:"card-footer-item has-text-dark",onClick:s[7]||(s[7]=(...n)=>i.play&&i.play(...n))},qi)])])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[8]||(s[8]=n=>e.$emit("close"))})])):y("",!0)]),_:1})])}var Is=v(Oe,[["render",Pi]]);const Ti={name:"ModalDialogAddUrlStream",props:["show"],data(){return{url:"",loading:!1}},methods:{add_stream:function(){this.loading=!0,f.queue_add(this.url).then(()=>{this.$emit("close"),this.url=""}).catch(()=>{this.loading=!1})},play:function(){this.loading=!0,f.player_play_uri(this.url,!1).then(()=>{this.$emit("close"),this.url=""}).catch(()=>{this.loading=!1})}},watch:{show(){this.show&&(this.loading=!1,setTimeout(()=>{this.$refs.url_field.focus()},10))}}},Ri={key:0,class:"modal is-active"},Li={class:"modal-content fd-modal-card"},Ii={class:"card"},Ui={class:"card-content"},Ei=t("p",{class:"title is-4"}," Add stream URL ",-1),Oi={class:"field"},Di={class:"control is-expanded has-icons-left"},Ni=["disabled"],zi=t("span",{class:"icon is-left"},[t("i",{class:"mdi mdi-web"})],-1),Vi={key:0,class:"card-footer"},Bi=t("a",{class:"card-footer-item has-text-dark"},[t("span",{class:"icon"},[t("i",{class:"mdi mdi-web"})]),g(),t("span",{class:"is-size-7"},"Loading ...")],-1),Fi=[Bi],Mi={key:1,class:"card-footer"},ji=t("span",{class:"icon"},[t("i",{class:"mdi mdi-cancel"})],-1),Gi=g(),Hi=t("span",{class:"is-size-7"},"Cancel",-1),Wi=[ji,Gi,Hi],Ki=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-plus"})],-1),Yi=g(),Qi=t("span",{class:"is-size-7"},"Add",-1),Ji=[Ki,Yi,Qi],Xi=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),Zi=g(),to=t("span",{class:"is-size-7"},"Play",-1),so=[Xi,Zi,to];function eo(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",Ri,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",Li,[t("div",Ii,[t("div",Ui,[Ei,t("form",{onSubmit:s[2]||(s[2]=E((...n)=>i.play&&i.play(...n),["prevent"])),class:"fd-has-margin-bottom"},[t("div",Oi,[t("p",Di,[D(t("input",{class:"input is-shadowless",type:"text",placeholder:"http://url-to-stream","onUpdate:modelValue":s[1]||(s[1]=n=>o.url=n),disabled:o.loading,ref:"url_field"},null,8,Ni),[[V,o.url]]),zi])])],32)]),o.loading?(l(),_("footer",Vi,Fi)):(l(),_("footer",Mi,[t("a",{class:"card-footer-item has-text-danger",onClick:s[3]||(s[3]=n=>e.$emit("close"))},Wi),t("a",{class:"card-footer-item has-text-dark",onClick:s[4]||(s[4]=(...n)=>i.add_stream&&i.add_stream(...n))},Ji),t("a",{class:"card-footer-item has-background-info has-text-white has-text-weight-bold",onClick:s[5]||(s[5]=(...n)=>i.play&&i.play(...n))},so)]))])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[6]||(s[6]=n=>e.$emit("close"))})])):y("",!0)]),_:1})])}var io=v(Ti,[["render",eo]]);const oo={name:"ModalDialogPlaylistSave",props:["show"],data(){return{playlist_name:"",loading:!1}},methods:{save:function(){this.playlist_name.length<1||(this.loading=!0,f.queue_save_playlist(this.playlist_name).then(()=>{this.$emit("close"),this.playlist_name=""}).catch(()=>{this.loading=!1}))}},watch:{show(){this.show&&(this.loading=!1,setTimeout(()=>{this.$refs.playlist_name_field.focus()},10))}}},ao={key:0,class:"modal is-active"},no={class:"modal-content fd-modal-card"},lo={class:"card"},ro={class:"card-content"},_o=t("p",{class:"title is-4"}," Save queue to playlist ",-1),co={class:"field"},uo={class:"control is-expanded has-icons-left"},mo=["disabled"],ho=t("span",{class:"icon is-left"},[t("i",{class:"mdi mdi-file-music"})],-1),po={key:0,class:"card-footer"},fo=t("a",{class:"card-footer-item has-text-dark"},[t("span",{class:"icon"},[t("i",{class:"mdi mdi-web"})]),g(),t("span",{class:"is-size-7"},"Saving ...")],-1),yo=[fo],go={key:1,class:"card-footer"},bo=t("span",{class:"icon"},[t("i",{class:"mdi mdi-cancel"})],-1),ko=g(),wo=t("span",{class:"is-size-7"},"Cancel",-1),vo=[bo,ko,wo],$o=t("span",{class:"icon"},[t("i",{class:"mdi mdi-content-save"})],-1),xo=g(),Co=t("span",{class:"is-size-7"},"Save",-1),Ao=[$o,xo,Co];function So(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",ao,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",no,[t("div",lo,[t("div",ro,[_o,t("form",{onSubmit:s[2]||(s[2]=E((...n)=>i.save&&i.save(...n),["prevent"])),class:"fd-has-margin-bottom"},[t("div",co,[t("p",uo,[D(t("input",{class:"input is-shadowless",type:"text",placeholder:"Playlist name","onUpdate:modelValue":s[1]||(s[1]=n=>o.playlist_name=n),disabled:o.loading,ref:"playlist_name_field"},null,8,mo),[[V,o.playlist_name]]),ho])])],32)]),o.loading?(l(),_("footer",po,yo)):(l(),_("footer",go,[t("a",{class:"card-footer-item has-text-danger",onClick:s[3]||(s[3]=n=>e.$emit("close"))},vo),t("a",{class:"card-footer-item has-background-info has-text-white has-text-weight-bold",onClick:s[4]||(s[4]=(...n)=>i.save&&i.save(...n))},Ao)]))])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[5]||(s[5]=n=>e.$emit("close"))})])):y("",!0)]),_:1})])}var qo=v(oo,[["render",So]]);const Po={name:"PageQueue",components:{ContentWithHeading:U,ListItemQueueItem:Ee,draggable:Ys,ModalDialogQueueItem:Is,ModalDialogAddUrlStream:io,ModalDialogPlaylistSave:qo},data(){return{edit_mode:!1,show_details_modal:!1,show_url_modal:!1,show_pls_save_modal:!1,selected_item:{}}},computed:{state(){return this.$store.state.player},is_queue_save_allowed(){return this.$store.state.config.allow_modifying_stored_playlists&&this.$store.state.config.default_playlist_directory},queue(){return this.$store.state.queue},queue_items:{get(){return this.$store.state.queue.items},set(e){}},current_position(){const e=this.$store.getters.now_playing;return e===void 0||e.position===void 0?-1:this.$store.getters.now_playing.position},show_only_next_items(){return this.$store.state.show_only_next_items}},methods:{queue_clear:function(){f.queue_clear()},update_show_next_items:function(e){this.$store.commit(Ls,!this.show_only_next_items)},remove:function(e){f.queue_remove(e.id)},move_item:function(e){const s=this.show_only_next_items?e.oldIndex+this.current_position:e.oldIndex,a=this.queue_items[s],r=a.position+(e.newIndex-e.oldIndex);r!==s&&f.queue_move(a.id,r)},open_dialog:function(e){this.selected_item=e,this.show_details_modal=!0},open_add_stream_dialog:function(e){this.show_url_modal=!0},save_dialog:function(e){this.queue_items.length>0&&(this.show_pls_save_modal=!0)}}},To={class:"heading"},Ro=t("p",{class:"title is-4"},"Queue",-1),Lo={class:"buttons is-centered"},Io=t("span",{class:"icon"},[t("i",{class:"mdi mdi-arrow-collapse-down"})],-1),Uo=t("span",null,"Hide previous",-1),Eo=[Io,Uo],Oo=t("span",{class:"icon"},[t("i",{class:"mdi mdi-web"})],-1),Do=t("span",null,"Add Stream",-1),No=[Oo,Do],zo=t("span",{class:"icon"},[t("i",{class:"mdi mdi-pencil"})],-1),Vo=t("span",null,"Edit",-1),Bo=[zo,Vo],Fo=t("span",{class:"icon"},[t("i",{class:"mdi mdi-delete-empty"})],-1),Mo=t("span",null,"Clear",-1),jo=[Fo,Mo],Go=["disabled"],Ho=t("span",{class:"icon"},[t("i",{class:"mdi mdi-content-save"})],-1),Wo=t("span",null,"Save",-1),Ko=[Ho,Wo],Yo=["onClick"],Qo=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),Jo=[Qo],Xo=["onClick"],Zo=t("span",{class:"icon has-text-grey"},[t("i",{class:"mdi mdi-delete mdi-18px"})],-1),ta=[Zo];function sa(e,s,a,r,o,i){const n=m("list-item-queue-item"),h=m("draggable"),p=m("modal-dialog-queue-item"),w=m("modal-dialog-add-url-stream"),b=m("modal-dialog-playlist-save"),k=m("content-with-heading");return l(),x(k,null,{"heading-left":d(()=>[t("p",To,u(i.queue.count)+" tracks",1),Ro]),"heading-right":d(()=>[t("div",Lo,[t("a",{class:A(["button is-small",{"is-info":i.show_only_next_items}]),onClick:s[0]||(s[0]=(...$)=>i.update_show_next_items&&i.update_show_next_items(...$))},Eo,2),t("a",{class:"button is-small",onClick:s[1]||(s[1]=(...$)=>i.open_add_stream_dialog&&i.open_add_stream_dialog(...$))},No),t("a",{class:A(["button is-small",{"is-info":o.edit_mode}]),onClick:s[2]||(s[2]=$=>o.edit_mode=!o.edit_mode)},Bo,2),t("a",{class:"button is-small",onClick:s[3]||(s[3]=(...$)=>i.queue_clear&&i.queue_clear(...$))},jo),i.is_queue_save_allowed?(l(),_("a",{key:0,class:"button is-small",disabled:i.queue_items.length===0,onClick:s[4]||(s[4]=(...$)=>i.save_dialog&&i.save_dialog(...$))},Ko,8,Go)):y("",!0)])]),content:d(()=>[c(h,{modelValue:i.queue_items,"onUpdate:modelValue":s[5]||(s[5]=$=>i.queue_items=$),handle:".handle","item-key":"id",onEnd:i.move_item},{item:d(({element:$,index:S})=>[c(n,{item:$,position:S,current_position:i.current_position,show_only_next_items:i.show_only_next_items,edit_mode:o.edit_mode},{actions:d(()=>[o.edit_mode?y("",!0):(l(),_("a",{key:0,onClick:E(q=>i.open_dialog($),["prevent","stop"])},Jo,8,Yo)),$.id!==i.state.item_id&&o.edit_mode?(l(),_("a",{key:1,onClick:E(q=>i.remove($),["prevent","stop"])},ta,8,Xo)):y("",!0)]),_:2},1032,["item","position","current_position","show_only_next_items","edit_mode"])]),_:1},8,["modelValue","onEnd"]),c(p,{show:o.show_details_modal,item:o.selected_item,onClose:s[6]||(s[6]=$=>o.show_details_modal=!1)},null,8,["show","item"]),c(w,{show:o.show_url_modal,onClose:s[7]||(s[7]=$=>o.show_url_modal=!1)},null,8,["show"]),i.is_queue_save_allowed?(l(),x(b,{key:0,show:o.show_pls_save_modal,onClose:s[8]||(s[8]=$=>o.show_pls_save_modal=!1)},null,8,["show"])):y("",!0)]),_:1})}var ea=v(Po,[["render",sa]]);class ia{render(s){const a='<svg width="'+s.width+'" height="'+s.height+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+s.width+" "+s.height+'" preserveAspectRatio="none"><defs><style type="text/css">    #holder text {      fill: '+s.textColor+";      font-family: "+s.fontFamily+";      font-size: "+s.fontSize+"px;      font-weight: "+s.fontWeight+';    }  </style></defs><g id="holder">  <rect width="100%" height="100%" fill="'+s.backgroundColor+'"></rect>  <g>    <text text-anchor="middle" x="50%" y="50%" dy=".3em">'+s.caption+"</text>  </g></g></svg>";return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(a)}}const oa={name:"CoverArtwork",props:["artist","album","artwork_url","maxwidth","maxheight"],data(){return{svg:new ia,width:600,height:600,font_family:"sans-serif",font_size:200,font_weight:600}},computed:{artwork_url_with_size:function(){return this.maxwidth>0&&this.maxheight>0?f.artwork_url_append_size_params(this.artwork_url,this.maxwidth,this.maxheight):f.artwork_url_append_size_params(this.artwork_url)},alt_text(){return this.artist+" - "+this.album},caption(){return this.album?this.album.substring(0,2):this.artist?this.artist.substring(0,2):""},background_color(){return Qs(this.alt_text)},is_background_light(){const e=this.background_color.replace(/#/,""),s=parseInt(e.substr(0,2),16),a=parseInt(e.substr(2,2),16),r=parseInt(e.substr(4,2),16);return[.299*s,.587*a,.114*r].reduce((i,n)=>i+n)/255>.5},text_color(){return this.is_background_light?"#000000":"#ffffff"},rendererParams(){return{width:this.width,height:this.height,textColor:this.text_color,backgroundColor:this.background_color,caption:this.caption,fontFamily:this.font_family,fontSize:this.font_size,fontWeight:this.font_weight}},dataURI(){return this.svg.render(this.rendererParams)}}};function aa(e,s,a,r,o,i){const n=ys("lazy");return l(),_("figure",null,[D(t("img",{onClick:s[0]||(s[0]=h=>e.$emit("click"))},null,512),[[n,{src:i.artwork_url_with_size,loading:null,error:i.dataURI}]])])}var M=v(oa,[["render",aa]]);const na={name:"PageNowPlaying",components:{ModalDialogQueueItem:Is,Slider:Qt,CoverArtwork:M},data(){return{item_progress_ms:0,interval_id:0,show_details_modal:!1,selected_item:{}}},created(){this.item_progress_ms=this.state.item_progress_ms,f.player_status().then(({data:e})=>{this.$store.commit(Zt,e),this.state.state==="play"&&(this.interval_id=window.setInterval(this.tick,1e3))})},destroyed(){this.interval_id>0&&(window.clearTimeout(this.interval_id),this.interval_id=0)},computed:{state(){return this.$store.state.player},now_playing(){return this.$store.getters.now_playing},settings_option_show_composer_now_playing(){return this.$store.getters.settings_option_show_composer_now_playing},settings_option_show_composer_for_genre(){return this.$store.getters.settings_option_show_composer_for_genre},composer(){return this.settings_option_show_composer_now_playing&&(!this.settings_option_show_composer_for_genre||this.now_playing.genre&&this.settings_option_show_composer_for_genre.toLowerCase().split(",").findIndex(e=>this.now_playing.genre.toLowerCase().indexOf(e.trim())>=0)>=0)?this.now_playing.composer:null}},methods:{tick:function(){this.item_progress_ms+=1e3},seek:function(e){f.player_seek_to_pos(e).catch(()=>{this.item_progress_ms=this.state.item_progress_ms})},open_dialog:function(e){this.selected_item=e,this.show_details_modal=!0}},watch:{state(){this.interval_id>0&&(window.clearTimeout(this.interval_id),this.interval_id=0),this.item_progress_ms=this.state.item_progress_ms,this.state.state==="play"&&(this.interval_id=window.setInterval(this.tick,1e3))}}},la={key:0,class:"fd-is-fullheight"},ra={class:"fd-is-expanded"},da={class:"fd-has-padding-left-right"},_a={class:"container has-text-centered"},ca={class:"control has-text-centered fd-progress-now-playing"},ua={class:"content"},ma={class:"fd-has-padding-left-right"},ha={class:"container has-text-centered fd-has-margin-top"},pa={class:"title is-5"},fa={class:"title is-6"},ya={key:0,class:"subtitle is-6 has-text-grey has-text-weight-bold"},ga={class:"subtitle is-6"},ba={key:1,class:"fd-is-fullheight"},ka=t("div",{class:"fd-is-expanded fd-has-padding-left-right",style:{"flex-direction":"column"}},[t("div",{class:"content has-text-centered"},[t("h1",{class:"title is-5"}," Your play queue is empty "),t("p",null," Add some tracks by browsing your library ")])],-1),wa=[ka];function va(e,s,a,r,o,i){const n=m("cover-artwork"),h=m("Slider"),p=m("modal-dialog-queue-item");return l(),_("section",null,[i.now_playing.id>0?(l(),_("div",la,[t("div",ra,[c(n,{onClick:s[0]||(s[0]=w=>i.open_dialog(i.now_playing)),artwork_url:i.now_playing.artwork_url,artist:i.now_playing.artist,album:i.now_playing.album,class:"fd-cover-image fd-has-action"},null,8,["artwork_url","artist","album"])]),t("div",da,[t("div",_a,[t("p",ca,[c(h,{modelValue:o.item_progress_ms,"onUpdate:modelValue":s[1]||(s[1]=w=>o.item_progress_ms=w),min:0,max:i.state.item_length_ms,step:1e3,tooltips:!1,disabled:i.state.state==="stop",onChange:i.seek,classes:{target:"seek-slider"}},null,8,["modelValue","max","disabled","onChange"])]),t("p",ua,[t("span",null,u(e.$filters.duration(o.item_progress_ms))+" / "+u(e.$filters.duration(i.now_playing.length_ms)),1)])])]),t("div",ma,[t("div",ha,[t("h1",pa,u(i.now_playing.title),1),t("h2",fa,u(i.now_playing.artist),1),i.composer?(l(),_("h2",ya,u(i.composer),1)):y("",!0),t("h3",ga,u(i.now_playing.album),1)])])])):(l(),_("div",ba,wa)),c(p,{show:o.show_details_modal,item:o.selected_item,onClose:s[2]||(s[2]=w=>o.show_details_modal=!1)},null,8,["show","item"])])}var $a=v(na,[["render",va]]);const xa={name:"TabsMusic",computed:{spotify_enabled(){return this.$store.state.spotify.webapi_token_valid}}},Ca={class:"section fd-tabs-section"},Aa={class:"container"},Sa={class:"columns is-centered"},qa={class:"column is-four-fifths"},Pa={class:"tabs is-centered is-small"},Ta=["onClick","onKeypress"],Ra=t("span",{class:"icon is-small"},[t("i",{class:"mdi mdi-web"})],-1),La=t("span",{class:""},"Browse",-1),Ia=[Ra,La],Ua=["onClick","onKeypress"],Ea=t("span",{class:"icon is-small"},[t("i",{class:"mdi mdi-artist"})],-1),Oa=t("span",{class:""},"Artists",-1),Da=[Ea,Oa],Na=["onClick","onKeypress"],za=t("span",{class:"icon is-small"},[t("i",{class:"mdi mdi-album"})],-1),Va=t("span",{class:""},"Albums",-1),Ba=[za,Va],Fa=["onClick","onKeypress"],Ma=t("span",{class:"icon is-small"},[t("i",{class:"mdi mdi-speaker"})],-1),ja=t("span",{class:""},"Genres",-1),Ga=[Ma,ja],Ha=["onClick","onKeypress"],Wa=t("span",{class:"icon is-small"},[t("i",{class:"mdi mdi-book-open-page-variant"})],-1),Ka=t("span",{class:""},"Composers",-1),Ya=[Wa,Ka],Qa=["onClick","onKeypress"],Ja=t("span",{class:"icon is-small"},[t("i",{class:"mdi mdi-spotify"})],-1),Xa=t("span",{class:""},"Spotify",-1),Za=[Ja,Xa];function tn(e,s,a,r,o,i){const n=m("router-link");return l(),_("section",Ca,[t("div",Aa,[t("div",Sa,[t("div",qa,[t("div",Pa,[t("ul",null,[c(n,{to:"/music/browse",custom:""},{default:d(({navigate:h,isActive:p})=>[t("li",{class:A({"is-active":p})},[t("a",{onClick:h,onKeypress:z(h,["enter"])},Ia,40,Ta)],2)]),_:1}),c(n,{to:"/music/artists",custom:""},{default:d(({navigate:h,isActive:p})=>[t("li",{class:A({"is-active":p})},[t("a",{onClick:h,onKeypress:z(h,["enter"])},Da,40,Ua)],2)]),_:1}),c(n,{to:"/music/albums",custom:""},{default:d(({navigate:h,isActive:p})=>[t("li",{class:A({"is-active":p})},[t("a",{onClick:h,onKeypress:z(h,["enter"])},Ba,40,Na)],2)]),_:1}),c(n,{to:"/music/genres",custom:""},{default:d(({navigate:h,isActive:p})=>[t("li",{class:A({"is-active":p})},[t("a",{onClick:h,onKeypress:z(h,["enter"])},Ga,40,Fa)],2)]),_:1}),c(n,{to:"/music/composers",custom:""},{default:d(({navigate:h,isActive:p})=>[t("li",{class:A({"is-active":p})},[t("a",{onClick:h,onKeypress:z(h,["enter"])},Ya,40,Ha)],2)]),_:1}),i.spotify_enabled?(l(),x(n,{key:0,to:"/music/spotify",custom:""},{default:d(({navigate:h,isActive:p})=>[t("li",{class:A({"is-active":p})},[t("a",{onClick:h,onKeypress:z(h,["enter"])},Za,40,Qa)],2)]),_:1})):y("",!0)])])])])])])}var j=v(xa,[["render",tn]]);const sn={name:"ListItemAlbum",props:["album","media_kind"]},en=["id"],on={key:0,class:"media-left fd-has-action"},an={class:"media-content fd-has-action is-clipped"},nn={style:{"margin-top":"0.7rem"}},ln={class:"title is-6"},rn={class:"subtitle is-7 has-text-grey"},dn={key:0,class:"subtitle is-7 has-text-grey has-text-weight-normal"},_n={class:"media-right",style:{"padding-top":"0.7rem"}};function cn(e,s,a,r,o,i){return l(),_("div",{class:"media",id:"index_"+a.album.name_sort.charAt(0).toUpperCase()},[e.$slots.artwork?(l(),_("div",on,[I(e.$slots,"artwork")])):y("",!0),t("div",an,[t("div",nn,[t("h1",ln,u(a.album.name),1),t("h2",rn,[t("b",null,u(a.album.artist),1)]),a.album.date_released&&a.album.media_kind==="music"?(l(),_("h2",dn,u(e.$filters.time(a.album.date_released,"L")),1)):y("",!0)])]),t("div",_n,[I(e.$slots,"actions")])],8,en)}var Us=v(sn,[["render",cn]]);const un={name:"ModalDialogAlbum",components:{CoverArtwork:M},props:["show","album","media_kind","new_tracks"],data(){return{artwork_visible:!1}},computed:{artwork_url:function(){return f.artwork_url_append_size_params(this.album.artwork_url)},media_kind_resolved:function(){return this.media_kind?this.media_kind:this.album.media_kind}},methods:{play:function(){this.$emit("close"),f.player_play_uri(this.album.uri,!1)},queue_add:function(){this.$emit("close"),f.queue_add(this.album.uri)},queue_add_next:function(){this.$emit("close"),f.queue_add_next(this.album.uri)},open_album:function(){this.media_kind_resolved==="podcast"?this.$router.push({path:"/podcasts/"+this.album.id}):this.media_kind_resolved==="audiobook"?this.$router.push({path:"/audiobooks/"+this.album.id}):this.$router.push({path:"/music/albums/"+this.album.id})},open_artist:function(){this.media_kind_resolved==="podcast"||(this.media_kind_resolved==="audiobook"?this.$router.push({path:"/audiobooks/artists/"+this.album.artist_id}):this.$router.push({path:"/music/artists/"+this.album.artist_id}))},mark_played:function(){f.library_album_track_update(this.album.id,{play_count:"played"}).then(({data:e})=>{this.$emit("play-count-changed"),this.$emit("close")})},artwork_loaded:function(){this.artwork_visible=!0},artwork_error:function(){this.artwork_visible=!1}}},mn={key:0,class:"modal is-active"},hn={class:"modal-content fd-modal-card"},pn={class:"card"},fn={class:"card-content"},yn={class:"title is-4"},gn={key:0,class:"buttons"},bn={class:"content is-small"},kn={key:0},wn=t("span",{class:"heading"},"Album artist",-1),vn={key:1},$n=t("span",{class:"heading"},"Release date",-1),xn={class:"title is-6"},Cn={key:2},An=t("span",{class:"heading"},"Year",-1),Sn={class:"title is-6"},qn=t("span",{class:"heading"},"Tracks",-1),Pn={class:"title is-6"},Tn=t("span",{class:"heading"},"Length",-1),Rn={class:"title is-6"},Ln=t("span",{class:"heading"},"Type",-1),In={class:"title is-6"},Un=t("span",{class:"heading"},"Added at",-1),En={class:"title is-6"},On={class:"card-footer"},Dn=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-plus"})],-1),Nn=g(),zn=t("span",{class:"is-size-7"},"Add",-1),Vn=[Dn,Nn,zn],Bn=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-play"})],-1),Fn=g(),Mn=t("span",{class:"is-size-7"},"Add Next",-1),jn=[Bn,Fn,Mn],Gn=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),Hn=g(),Wn=t("span",{class:"is-size-7"},"Play",-1),Kn=[Gn,Hn,Wn];function Yn(e,s,a,r,o,i){const n=m("cover-artwork");return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",mn,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=h=>e.$emit("close"))}),t("div",hn,[t("div",pn,[t("div",fn,[c(n,{artwork_url:a.album.artwork_url,artist:a.album.artist,album:a.album.name,class:"image is-square fd-has-margin-bottom fd-has-shadow"},null,8,["artwork_url","artist","album"]),t("p",yn,[t("a",{class:"has-text-link",onClick:s[1]||(s[1]=(...h)=>i.open_album&&i.open_album(...h))},u(a.album.name),1)]),i.media_kind_resolved==="podcast"?(l(),_("div",gn,[t("a",{class:"button is-small",onClick:s[2]||(s[2]=(...h)=>i.mark_played&&i.mark_played(...h))},"Mark as played"),t("a",{class:"button is-small",onClick:s[3]||(s[3]=h=>e.$emit("remove-podcast"))},"Remove podcast")])):y("",!0),t("div",bn,[a.album.artist?(l(),_("p",kn,[wn,t("a",{class:"title is-6 has-text-link",onClick:s[4]||(s[4]=(...h)=>i.open_artist&&i.open_artist(...h))},u(a.album.artist),1)])):y("",!0),a.album.date_released?(l(),_("p",vn,[$n,t("span",xn,u(e.$filters.time(a.album.date_released,"L")),1)])):a.album.year>0?(l(),_("p",Cn,[An,t("span",Sn,u(a.album.year),1)])):y("",!0),t("p",null,[qn,t("span",Pn,u(a.album.track_count),1)]),t("p",null,[Tn,t("span",Rn,u(e.$filters.duration(a.album.length_ms)),1)]),t("p",null,[Ln,t("span",In,u(a.album.media_kind)+" - "+u(a.album.data_kind),1)]),t("p",null,[Un,t("span",En,u(e.$filters.time(a.album.time_added,"L LT")),1)])])]),t("footer",On,[t("a",{class:"card-footer-item has-text-dark",onClick:s[5]||(s[5]=(...h)=>i.queue_add&&i.queue_add(...h))},Vn),t("a",{class:"card-footer-item has-text-dark",onClick:s[6]||(s[6]=(...h)=>i.queue_add_next&&i.queue_add_next(...h))},jn),t("a",{class:"card-footer-item has-text-dark",onClick:s[7]||(s[7]=(...h)=>i.play&&i.play(...h))},Kn)])])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[8]||(s[8]=h=>e.$emit("close"))})])):y("",!0)]),_:1})])}var it=v(un,[["render",Yn]]);const Qn={name:"ModalDialog",props:["show","title","ok_action","delete_action","close_action"]},Jn={key:0,class:"modal is-active"},Xn={class:"modal-content fd-modal-card"},Zn={class:"card"},tl={class:"card-content"},sl={key:0,class:"title is-4"},el={class:"card-footer"},il=t("span",{class:"icon"},[t("i",{class:"mdi mdi-cancel"})],-1),ol=g(),al={class:"is-size-7"},nl=t("span",{class:"icon"},[t("i",{class:"mdi mdi-delete"})],-1),ll=g(),rl={class:"is-size-7"},dl=t("span",{class:"icon"},[t("i",{class:"mdi mdi-check"})],-1),_l=g(),cl={class:"is-size-7"};function ul(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",Jn,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",Xn,[t("div",Zn,[t("div",tl,[a.title?(l(),_("p",sl,u(a.title),1)):y("",!0),I(e.$slots,"modal-content")]),t("footer",el,[t("a",{class:"card-footer-item has-text-dark",onClick:s[1]||(s[1]=n=>e.$emit("close"))},[il,ol,t("span",al,u(a.close_action?a.close_action:"Cancel"),1)]),a.delete_action?(l(),_("a",{key:0,class:"card-footer-item has-background-danger has-text-white has-text-weight-bold",onClick:s[2]||(s[2]=n=>e.$emit("delete"))},[nl,ll,t("span",rl,u(a.delete_action),1)])):y("",!0),a.ok_action?(l(),_("a",{key:1,class:"card-footer-item has-background-info has-text-white has-text-weight-bold",onClick:s[3]||(s[3]=n=>e.$emit("ok"))},[dl,_l,t("span",cl,u(a.ok_action),1)])):y("",!0)])])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[4]||(s[4]=n=>e.$emit("close"))})])):y("",!0)]),_:3})])}var as=v(Qn,[["render",ul]]);class ot{constructor(s,a={hideSingles:!1,hideSpotify:!1,sort:"Name",group:!1}){this.items=s,this.options=a,this.grouped={},this.sortedAndFiltered=[],this.indexList=[],this.init()}init(){this.createSortedAndFilteredList(),this.createGroupedList(),this.createIndexList()}getAlbumIndex(s){return this.options.sort==="Recently added"?s.time_added.substring(0,4):this.options.sort==="Recently added (browse)"?this.getRecentlyAddedBrowseIndex(s.time_added):this.options.sort==="Recently released"||this.options.sort==="Release date"?s.date_released?s.date_released.substring(0,4):"0000":s.name_sort.charAt(0).toUpperCase()}getRecentlyAddedBrowseIndex(s){if(!s)return"0000";const a=new Date().getTime()-new Date(s).getTime();return a<864e5?"Today":a<6048e5?"Last week":a<2592e6?"Last month":s.substring(0,4)}isAlbumVisible(s){return!(this.options.hideSingles&&s.track_count<=2||this.options.hideSpotify&&s.data_kind==="spotify")}createIndexList(){this.indexList=[...new Set(this.sortedAndFiltered.map(s=>this.getAlbumIndex(s)))]}createSortedAndFilteredList(){let s=this.items;(this.options.hideSingles||this.options.hideSpotify||this.options.hideOther)&&(s=s.filter(a=>this.isAlbumVisible(a))),this.options.sort==="Recently added"||this.options.sort==="Recently added (browse)"?s=[...s].sort((a,r)=>r.time_added.localeCompare(a.time_added)):this.options.sort==="Recently released"?s=[...s].sort((a,r)=>a.date_released?r.date_released?r.date_released.localeCompare(a.date_released):-1:1):this.options.sort==="Release date"&&(s=[...s].sort((a,r)=>a.date_released?r.date_released?a.date_released.localeCompare(r.date_released):1:-1)),this.sortedAndFiltered=s}createGroupedList(){this.options.group||(this.grouped={}),this.grouped=this.sortedAndFiltered.reduce((s,a)=>{const r=this.getAlbumIndex(a);return s[r]=[...s[r]||[],a],s},{})}}const ml={name:"ListAlbums",components:{ListItemAlbum:Us,ModalDialogAlbum:it,ModalDialog:as,CoverArtwork:M},props:["albums","media_kind"],data(){return{show_details_modal:!1,selected_album:{},show_remove_podcast_modal:!1,rss_playlist_to_remove:{}}},computed:{is_visible_artwork(){return this.$store.getters.settings_option("webinterface","show_cover_artwork_in_album_lists").value},media_kind_resolved:function(){return this.media_kind?this.media_kind:this.selected_album.media_kind},albums_list:function(){return Array.isArray(this.albums)?this.albums:this.albums?this.albums.sortedAndFiltered:[]},is_grouped:function(){return this.albums instanceof ot&&this.albums.options.group}},methods:{open_album:function(e){this.selected_album=e,this.media_kind_resolved==="podcast"?this.$router.push({path:"/podcasts/"+e.id}):this.media_kind_resolved==="audiobook"?this.$router.push({path:"/audiobooks/"+e.id}):this.$router.push({path:"/music/albums/"+e.id})},open_dialog:function(e){this.selected_album=e,this.show_details_modal=!0},open_remove_podcast_dialog:function(){f.library_album_tracks(this.selected_album.id,{limit:1}).then(({data:e})=>{f.library_track_playlists(e.items[0].id).then(({data:s})=>{const a=s.items.filter(r=>r.type==="rss");if(a.length!==1){this.$store.dispatch("add_notification",{text:"Podcast cannot be removed. Probably it was not added as an RSS playlist.",type:"danger"});return}this.rss_playlist_to_remove=a[0],this.show_remove_podcast_modal=!0,this.show_details_modal=!1})})},play_count_changed:function(){this.$emit("play-count-changed")},remove_podcast:function(){this.show_remove_podcast_modal=!1,f.library_playlist_delete(this.rss_playlist_to_remove.id).then(()=>{this.$emit("podcast-deleted")})}}},hl={key:0},pl=["id"],fl={class:"image is-64x64 fd-has-shadow fd-has-action"},yl=["onClick"],gl=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),bl=[gl],kl={key:1},wl={class:"image is-64x64 fd-has-shadow fd-has-action"},vl=["onClick"],$l=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),xl=[$l],Cl=t("p",null,"Permanently remove this podcast from your library?",-1),Al={class:"is-size-7"},Sl=g("(This will also remove the RSS playlist "),ql=g(".)");function Pl(e,s,a,r,o,i){const n=m("cover-artwork"),h=m("list-item-album"),p=m("modal-dialog-album"),w=m("modal-dialog");return l(),_("div",null,[i.is_grouped?(l(),_("div",hl,[(l(!0),_(R,null,L(a.albums.indexList,b=>(l(),_("div",{key:b,class:"mb-6"},[t("span",{class:"tag is-info is-light is-small has-text-weight-bold",id:"index_"+b},u(b),9,pl),(l(!0),_(R,null,L(a.albums.grouped[b],k=>(l(),x(h,{key:k.id,album:k,onClick:$=>i.open_album(k)},Y({actions:d(()=>[t("a",{onClick:E($=>i.open_dialog(k),["prevent","stop"])},bl,8,yl)]),_:2},[i.is_visible_artwork?{name:"artwork",fn:d(()=>[t("p",fl,[c(n,{artwork_url:k.artwork_url,artist:k.artist,album:k.name,maxwidth:64,maxheight:64},null,8,["artwork_url","artist","album"])])])}:void 0]),1032,["album","onClick"]))),128))]))),128))])):(l(),_("div",kl,[(l(!0),_(R,null,L(i.albums_list,b=>(l(),x(h,{key:b.id,album:b,onClick:k=>i.open_album(b)},Y({actions:d(()=>[t("a",{onClick:E(k=>i.open_dialog(b),["prevent","stop"])},xl,8,vl)]),_:2},[i.is_visible_artwork?{name:"artwork",fn:d(()=>[t("p",wl,[c(n,{artwork_url:b.artwork_url,artist:b.artist,album:b.name,maxwidth:64,maxheight:64},null,8,["artwork_url","artist","album"])])])}:void 0]),1032,["album","onClick"]))),128))])),c(p,{show:o.show_details_modal,album:o.selected_album,media_kind:a.media_kind,onRemovePodcast:s[0]||(s[0]=b=>i.open_remove_podcast_dialog()),onPlayCountChanged:s[1]||(s[1]=b=>i.play_count_changed()),onClose:s[2]||(s[2]=b=>o.show_details_modal=!1)},null,8,["show","album","media_kind"]),c(w,{show:o.show_remove_podcast_modal,title:"Remove podcast",delete_action:"Remove",onClose:s[3]||(s[3]=b=>o.show_remove_podcast_modal=!1),onDelete:i.remove_podcast},{"modal-content":d(()=>[Cl,t("p",Al,[Sl,t("b",null,u(o.rss_playlist_to_remove.name),1),ql])]),_:1},8,["show","onDelete"])])}var G=v(ml,[["render",Pl]]);const Tl={name:"ListItemTrack",props:["track"]},Rl=["id"],Ll={key:0,class:"media-left fd-has-action"},Il={class:"media-content fd-has-action is-clipped"},Ul={class:"subtitle is-7 has-text-grey"},El={class:"subtitle is-7 has-text-grey"},Ol={class:"media-right"};function Dl(e,s,a,r,o,i){return l(),_("div",{class:A(["media",{"with-progress":e.$slots.progress}]),id:"index_"+a.track.title_sort.charAt(0).toUpperCase()},[e.$slots.icon?(l(),_("figure",Ll,[I(e.$slots,"icon")])):y("",!0),t("div",Il,[t("h1",{class:A(["title is-6",{"has-text-grey":a.track.media_kind==="podcast"&&a.track.play_count>0}])},u(a.track.title),3),t("h2",Ul,[t("b",null,u(a.track.artist),1)]),t("h2",El,u(a.track.album),1),I(e.$slots,"progress")]),t("div",Ol,[I(e.$slots,"actions")])],10,Rl)}var at=v(Tl,[["render",Dl]]);const Nl={name:"ModalDialogTrack",props:["show","track"],data(){return{spotify_track:{}}},methods:{play_track:function(){this.$emit("close"),f.player_play_uri(this.track.uri,!1)},queue_add:function(){this.$emit("close"),f.queue_add(this.track.uri)},queue_add_next:function(){this.$emit("close"),f.queue_add_next(this.track.uri)},open_album:function(){this.$emit("close"),this.track.media_kind==="podcast"?this.$router.push({path:"/podcasts/"+this.track.album_id}):this.track.media_kind==="audiobook"?this.$router.push({path:"/audiobooks/"+this.track.album_id}):this.$router.push({path:"/music/albums/"+this.track.album_id})},open_artist:function(){this.$emit("close"),this.$router.push({path:"/music/artists/"+this.track.album_artist_id})},open_genre:function(){this.$router.push({name:"Genre",params:{genre:this.track.genre}})},open_spotify_artist:function(){this.$emit("close"),this.$router.push({path:"/music/spotify/artists/"+this.spotify_track.artists[0].id})},open_spotify_album:function(){this.$emit("close"),this.$router.push({path:"/music/spotify/albums/"+this.spotify_track.album.id})},mark_new:function(){f.library_track_update(this.track.id,{play_count:"reset"}).then(()=>{this.$emit("play-count-changed"),this.$emit("close")})},mark_played:function(){f.library_track_update(this.track.id,{play_count:"increment"}).then(()=>{this.$emit("play-count-changed"),this.$emit("close")})}},watch:{track(){if(this.track&&this.track.data_kind==="spotify"){const e=new B;e.setAccessToken(this.$store.state.spotify.webapi_token),e.getTrack(this.track.path.slice(this.track.path.lastIndexOf(":")+1)).then(s=>{this.spotify_track=s})}else this.spotify_track={}}}},zl={key:0,class:"modal is-active"},Vl={class:"modal-content fd-modal-card"},Bl={class:"card"},Fl={class:"card-content"},Ml={class:"title is-4"},jl={class:"subtitle"},Gl={key:0,class:"buttons"},Hl={class:"content is-small"},Wl=t("span",{class:"heading"},"Album",-1),Kl={key:0},Yl=t("span",{class:"heading"},"Album artist",-1),Ql={key:1},Jl=t("span",{class:"heading"},"Composer",-1),Xl={class:"title is-6"},Zl={key:2},tr=t("span",{class:"heading"},"Release date",-1),sr={class:"title is-6"},er={key:3},ir=t("span",{class:"heading"},"Year",-1),or={class:"title is-6"},ar={key:4},nr=t("span",{class:"heading"},"Genre",-1),lr=t("span",{class:"heading"},"Track / Disc",-1),rr={class:"title is-6"},dr=t("span",{class:"heading"},"Length",-1),_r={class:"title is-6"},cr=t("span",{class:"heading"},"Path",-1),ur={class:"title is-6"},mr=t("span",{class:"heading"},"Type",-1),hr={class:"title is-6"},pr={key:0,class:"has-text-weight-normal"},fr=g("("),yr=g(", "),gr=g(")"),br=t("span",{class:"heading"},"Quality",-1),kr={class:"title is-6"},wr={key:0},vr={key:1},$r={key:2},xr=t("span",{class:"heading"},"Added at",-1),Cr={class:"title is-6"},Ar=t("span",{class:"heading"},"Rating",-1),Sr={class:"title is-6"},qr={key:5},Pr=t("span",{class:"heading"},"Comment",-1),Tr={class:"title is-6"},Rr={class:"card-footer"},Lr=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-plus"})],-1),Ir=g(),Ur=t("span",{class:"is-size-7"},"Add",-1),Er=[Lr,Ir,Ur],Or=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-play"})],-1),Dr=g(),Nr=t("span",{class:"is-size-7"},"Add Next",-1),zr=[Or,Dr,Nr],Vr=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),Br=g(),Fr=t("span",{class:"is-size-7"},"Play",-1),Mr=[Vr,Br,Fr];function jr(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",zl,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",Vl,[t("div",Bl,[t("div",Fl,[t("p",Ml,u(a.track.title),1),t("p",jl,u(a.track.artist),1),a.track.media_kind==="podcast"?(l(),_("div",Gl,[a.track.play_count>0?(l(),_("a",{key:0,class:"button is-small",onClick:s[1]||(s[1]=(...n)=>i.mark_new&&i.mark_new(...n))},"Mark as new")):y("",!0),a.track.play_count===0?(l(),_("a",{key:1,class:"button is-small",onClick:s[2]||(s[2]=(...n)=>i.mark_played&&i.mark_played(...n))},"Mark as played")):y("",!0)])):y("",!0),t("div",Hl,[t("p",null,[Wl,t("a",{class:"title is-6 has-text-link",onClick:s[3]||(s[3]=(...n)=>i.open_album&&i.open_album(...n))},u(a.track.album),1)]),a.track.album_artist&&a.track.media_kind!=="audiobook"?(l(),_("p",Kl,[Yl,t("a",{class:"title is-6 has-text-link",onClick:s[4]||(s[4]=(...n)=>i.open_artist&&i.open_artist(...n))},u(a.track.album_artist),1)])):y("",!0),a.track.composer?(l(),_("p",Ql,[Jl,t("span",Xl,u(a.track.composer),1)])):y("",!0),a.track.date_released?(l(),_("p",Zl,[tr,t("span",sr,u(e.$filters.time(a.track.date_released,"L")),1)])):a.track.year>0?(l(),_("p",er,[ir,t("span",or,u(a.track.year),1)])):y("",!0),a.track.genre?(l(),_("p",ar,[nr,t("a",{class:"title is-6 has-text-link",onClick:s[5]||(s[5]=(...n)=>i.open_genre&&i.open_genre(...n))},u(a.track.genre),1)])):y("",!0),t("p",null,[lr,t("span",rr,u(a.track.track_number)+" / "+u(a.track.disc_number),1)]),t("p",null,[dr,t("span",_r,u(e.$filters.duration(a.track.length_ms)),1)]),t("p",null,[cr,t("span",ur,u(a.track.path),1)]),t("p",null,[mr,t("span",hr,[g(u(a.track.media_kind)+" - "+u(a.track.data_kind)+" ",1),a.track.data_kind==="spotify"?(l(),_("span",pr,[fr,t("a",{onClick:s[6]||(s[6]=(...n)=>i.open_spotify_artist&&i.open_spotify_artist(...n))},"artist"),yr,t("a",{onClick:s[7]||(s[7]=(...n)=>i.open_spotify_album&&i.open_spotify_album(...n))},"album"),gr])):y("",!0)])]),t("p",null,[br,t("span",kr,[g(u(a.track.type)+" ",1),a.track.samplerate?(l(),_("span",wr," | "+u(a.track.samplerate)+" Hz",1)):y("",!0),a.track.channels?(l(),_("span",vr," | "+u(e.$filters.channels(a.track.channels)),1)):y("",!0),a.track.bitrate?(l(),_("span",$r," | "+u(a.track.bitrate)+" Kb/s",1)):y("",!0)])]),t("p",null,[xr,t("span",Cr,u(e.$filters.time(a.track.time_added,"L LT")),1)]),t("p",null,[Ar,t("span",Sr,u(Math.floor(a.track.rating/10))+" / 10",1)]),a.track.comment?(l(),_("p",qr,[Pr,t("span",Tr,u(a.track.comment),1)])):y("",!0)])]),t("footer",Rr,[t("a",{class:"card-footer-item has-text-dark",onClick:s[8]||(s[8]=(...n)=>i.queue_add&&i.queue_add(...n))},Er),t("a",{class:"card-footer-item has-text-dark",onClick:s[9]||(s[9]=(...n)=>i.queue_add_next&&i.queue_add_next(...n))},zr),t("a",{class:"card-footer-item has-text-dark",onClick:s[10]||(s[10]=(...n)=>i.play_track&&i.play_track(...n))},Mr)])])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[11]||(s[11]=n=>e.$emit("close"))})])):y("",!0)]),_:1})])}var nt=v(Nl,[["render",jr]]);const Gr={name:"ListTracks",components:{ListItemTrack:at,ModalDialogTrack:nt},props:["tracks","uris","expression"],data(){return{show_details_modal:!1,selected_track:{}}},methods:{play_track:function(e,s){this.uris?f.player_play_uri(this.uris,!1,e):this.expression?f.player_play_expression(this.expression,!1,e):f.player_play_uri(s.uri,!1)},open_dialog:function(e){this.selected_track=e,this.show_details_modal=!0}}},Hr=["onClick"],Wr=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),Kr=[Wr];function Yr(e,s,a,r,o,i){const n=m("list-item-track"),h=m("modal-dialog-track");return l(),_("div",null,[(l(!0),_(R,null,L(a.tracks,(p,w)=>(l(),x(n,{key:p.id,track:p,onClick:b=>i.play_track(w,p)},{actions:d(()=>[t("a",{onClick:E(b=>i.open_dialog(p),["prevent","stop"])},Kr,8,Hr)]),_:2},1032,["track","onClick"]))),128)),c(h,{show:o.show_details_modal,track:o.selected_track,onClose:s[0]||(s[0]=p=>o.show_details_modal=!1)},null,8,["show","track"])])}var H=v(Gr,[["render",Yr]]);const _t={load:function(e){return Promise.all([f.search({type:"album",expression:"time_added after 8 weeks ago and media_kind is music having track_count > 3 order by time_added desc",limit:3}),f.search({type:"track",expression:"time_played after 8 weeks ago and media_kind is music order by time_played desc",limit:3})])},set:function(e,s){e.recently_added=s[0].data.albums,e.recently_played=s[1].data.tracks}},Qr={name:"PageBrowse",components:{ContentWithHeading:U,TabsMusic:j,ListAlbums:G,ListTracks:H},data(){return{recently_added:{items:[]},recently_played:{items:[]},show_track_details_modal:!1,selected_track:{}}},methods:{open_browse:function(e){this.$router.push({path:"/music/browse/"+e})}},beforeRouteEnter(e,s,a){_t.load(e).then(r=>{a(o=>_t.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;_t.load(e).then(o=>{_t.set(r,o),a()})}},Jr={class:"fd-page-with-tabs"},Xr=t("p",{class:"title is-4"},"Recently added",-1),Zr=t("p",{class:"heading"},"albums",-1),td={class:"level"},sd={class:"level-item"},ed=t("p",{class:"title is-4"},"Recently played",-1),id=t("p",{class:"heading"},"tracks",-1),od={class:"level"},ad={class:"level-item"};function nd(e,s,a,r,o,i){const n=m("tabs-music"),h=m("list-albums"),p=m("content-with-heading"),w=m("list-tracks");return l(),_("div",Jr,[c(n),c(p,null,{"heading-left":d(()=>[Xr,Zr]),content:d(()=>[c(h,{albums:o.recently_added.items},null,8,["albums"])]),footer:d(()=>[t("nav",td,[t("p",sd,[t("a",{class:"button is-light is-small is-rounded",onClick:s[0]||(s[0]=b=>i.open_browse("recently_added"))},"Show more")])])]),_:1}),c(p,null,{"heading-left":d(()=>[ed,id]),content:d(()=>[c(w,{tracks:o.recently_played.items},null,8,["tracks"])]),footer:d(()=>[t("nav",od,[t("p",ad,[t("a",{class:"button is-light is-small is-rounded",onClick:s[1]||(s[1]=b=>i.open_browse("recently_played"))},"Show more")])])]),_:1})])}var ld=v(Qr,[["render",nd]]);const ct={load:function(e){const s=T.getters.settings_option_recently_added_limit;return f.search({type:"album",expression:"media_kind is music having track_count > 3 order by time_added desc",limit:s})},set:function(e,s){e.recently_added=s.data.albums}},rd={name:"PageBrowseType",components:{ContentWithHeading:U,TabsMusic:j,ListAlbums:G},data(){return{recently_added:{items:[]}}},computed:{albums_list(){return new ot(this.recently_added.items,{hideSingles:!1,hideSpotify:!1,sort:"Recently added (browse)",group:!0})}},beforeRouteEnter(e,s,a){ct.load(e).then(r=>{a(o=>ct.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;ct.load(e).then(o=>{ct.set(r,o),a()})}},dd={class:"fd-page-with-tabs"},_d=t("p",{class:"title is-4"},"Recently added",-1),cd=t("p",{class:"heading"},"albums",-1);function ud(e,s,a,r,o,i){const n=m("tabs-music"),h=m("list-albums"),p=m("content-with-heading");return l(),_("div",dd,[c(n),c(p,null,{"heading-left":d(()=>[_d,cd]),content:d(()=>[c(h,{albums:i.albums_list},null,8,["albums"])]),_:1})])}var md=v(rd,[["render",ud]]);const ut={load:function(e){return f.search({type:"track",expression:"time_played after 8 weeks ago and media_kind is music order by time_played desc",limit:50})},set:function(e,s){e.recently_played=s.data.tracks}},hd={name:"PageBrowseType",components:{ContentWithHeading:U,TabsMusic:j,ListTracks:H},data(){return{recently_played:{}}},beforeRouteEnter(e,s,a){ut.load(e).then(r=>{a(o=>ut.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;ut.load(e).then(o=>{ut.set(r,o),a()})}},pd={class:"fd-page-with-tabs"},fd=t("p",{class:"title is-4"},"Recently played",-1),yd=t("p",{class:"heading"},"tracks",-1);function gd(e,s,a,r,o,i){const n=m("tabs-music"),h=m("list-tracks"),p=m("content-with-heading");return l(),_("div",pd,[c(n),c(p,null,{"heading-left":d(()=>[fd,yd]),content:d(()=>[c(h,{tracks:o.recently_played.items},null,8,["tracks"])]),_:1})])}var bd=v(hd,[["render",gd]]);const kd={name:"IndexButtonList",props:["index"],computed:{filtered_index(){const e="!\"#$%&'()*+,-./:;<=>?@[\\]^`{|}~";return this.index.filter(s=>!e.includes(s))}},methods:{nav:function(e){this.$router.push({hash:"#index_"+e})},scroll_to_top:function(){window.scrollTo({top:0,behavior:"smooth"})}}},wd={class:"buttons is-centered fd-is-square",style:{"margin-bottom":"16px"}},vd=["onClick"];function $d(e,s,a,r,o,i){return l(),_("section",null,[t("nav",wd,[(l(!0),_(R,null,L(i.filtered_index,n=>(l(),_("a",{key:n,class:"button is-small",onClick:h=>i.nav(n)},u(n),9,vd))),128))])])}var W=v(kd,[["render",$d]]);const xd={name:"ListItemArtist",props:["artist"]},Cd={class:"media"},Ad={class:"media-content fd-has-action is-clipped"},Sd={class:"title is-6"},qd={class:"media-right"};function Pd(e,s,a,r,o,i){return l(),_("div",Cd,[t("div",Ad,[t("h1",Sd,u(a.artist.name),1)]),t("div",qd,[I(e.$slots,"actions")])])}var Td=v(xd,[["render",Pd]]);const Rd={name:"ModalDialogArtist",props:["show","artist"],methods:{play:function(){this.$emit("close"),f.player_play_uri(this.artist.uri,!1)},queue_add:function(){this.$emit("close"),f.queue_add(this.artist.uri)},queue_add_next:function(){this.$emit("close"),f.queue_add_next(this.artist.uri)},open_artist:function(){this.$emit("close"),this.$router.push({path:"/music/artists/"+this.artist.id})}}},Ld={key:0,class:"modal is-active"},Id={class:"modal-content fd-modal-card"},Ud={class:"card"},Ed={class:"card-content"},Od={class:"title is-4"},Dd={class:"content is-small"},Nd=t("span",{class:"heading"},"Albums",-1),zd={class:"title is-6"},Vd=t("span",{class:"heading"},"Tracks",-1),Bd={class:"title is-6"},Fd=t("span",{class:"heading"},"Type",-1),Md={class:"title is-6"},jd=t("span",{class:"heading"},"Added at",-1),Gd={class:"title is-6"},Hd={class:"card-footer"},Wd=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-plus"})],-1),Kd=g(),Yd=t("span",{class:"is-size-7"},"Add",-1),Qd=[Wd,Kd,Yd],Jd=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-play"})],-1),Xd=g(),Zd=t("span",{class:"is-size-7"},"Add Next",-1),t_=[Jd,Xd,Zd],s_=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),e_=g(),i_=t("span",{class:"is-size-7"},"Play",-1),o_=[s_,e_,i_];function a_(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",Ld,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",Id,[t("div",Ud,[t("div",Ed,[t("p",Od,[t("a",{class:"has-text-link",onClick:s[1]||(s[1]=(...n)=>i.open_artist&&i.open_artist(...n))},u(a.artist.name),1)]),t("div",Dd,[t("p",null,[Nd,t("span",zd,u(a.artist.album_count),1)]),t("p",null,[Vd,t("span",Bd,u(a.artist.track_count),1)]),t("p",null,[Fd,t("span",Md,u(a.artist.data_kind),1)]),t("p",null,[jd,t("span",Gd,u(e.$filters.time(a.artist.time_added,"L LT")),1)])])]),t("footer",Hd,[t("a",{class:"card-footer-item has-text-dark",onClick:s[2]||(s[2]=(...n)=>i.queue_add&&i.queue_add(...n))},Qd),t("a",{class:"card-footer-item has-text-dark",onClick:s[3]||(s[3]=(...n)=>i.queue_add_next&&i.queue_add_next(...n))},t_),t("a",{class:"card-footer-item has-text-dark",onClick:s[4]||(s[4]=(...n)=>i.play&&i.play(...n))},o_)])])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[5]||(s[5]=n=>e.$emit("close"))})])):y("",!0)]),_:1})])}var Mt=v(Rd,[["render",a_]]);class ns{constructor(s,a={hideSingles:!1,hideSpotify:!1,sort:"Name",group:!1}){this.items=s,this.options=a,this.grouped={},this.sortedAndFiltered=[],this.indexList=[],this.init()}init(){this.createSortedAndFilteredList(),this.createGroupedList(),this.createIndexList()}getArtistIndex(s){return this.options.sort==="Name"?s.name_sort.charAt(0).toUpperCase():s.time_added.substring(0,4)}isArtistVisible(s){return!(this.options.hideSingles&&s.track_count<=s.album_count*2||this.options.hideSpotify&&s.data_kind==="spotify")}createIndexList(){this.indexList=[...new Set(this.sortedAndFiltered.map(s=>this.getArtistIndex(s)))]}createSortedAndFilteredList(){let s=this.items;(this.options.hideSingles||this.options.hideSpotify||this.options.hideOther)&&(s=s.filter(a=>this.isArtistVisible(a))),this.options.sort==="Recently added"&&(s=[...s].sort((a,r)=>r.time_added.localeCompare(a.time_added))),this.sortedAndFiltered=s}createGroupedList(){this.options.group||(this.grouped={}),this.grouped=this.sortedAndFiltered.reduce((s,a)=>{const r=this.getArtistIndex(a);return s[r]=[...s[r]||[],a],s},{})}}const n_={name:"ListArtists",components:{ListItemArtist:Td,ModalDialogArtist:Mt},props:["artists","media_kind"],data(){return{show_details_modal:!1,selected_artist:{}}},computed:{media_kind_resolved:function(){return this.media_kind?this.media_kind:this.selected_artist.media_kind},artists_list:function(){return Array.isArray(this.artists)?this.artists:this.artists.sortedAndFiltered},is_grouped:function(){return this.artists instanceof ns&&this.artists.options.group}},methods:{open_artist:function(e){this.selected_artist=e,this.media_kind_resolved==="podcast"||(this.media_kind_resolved==="audiobook"?this.$router.push({path:"/audiobooks/artists/"+e.id}):this.$router.push({path:"/music/artists/"+e.id}))},open_dialog:function(e){this.selected_artist=e,this.show_details_modal=!0}}},l_={key:0},r_=["id"],d_=["onClick"],__=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),c_=[__],u_={key:1},m_=["onClick"],h_=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),p_=[h_];function f_(e,s,a,r,o,i){const n=m("list-item-artist"),h=m("modal-dialog-artist");return l(),_("div",null,[i.is_grouped?(l(),_("div",l_,[(l(!0),_(R,null,L(a.artists.indexList,p=>(l(),_("div",{key:p,class:"mb-6"},[t("span",{class:"tag is-info is-light is-small has-text-weight-bold",id:"index_"+p},u(p),9,r_),(l(!0),_(R,null,L(a.artists.grouped[p],w=>(l(),x(n,{key:w.id,artist:w,onClick:b=>i.open_artist(w)},{actions:d(()=>[t("a",{onClick:E(b=>i.open_dialog(w),["prevent","stop"])},c_,8,d_)]),_:2},1032,["artist","onClick"]))),128))]))),128))])):(l(),_("div",u_,[(l(!0),_(R,null,L(i.artists_list,p=>(l(),x(n,{key:p.id,artist:p,onClick:w=>i.open_artist(p)},{actions:d(()=>[t("a",{onClick:E(w=>i.open_dialog(p),["prevent","stop"])},p_,8,m_)]),_:2},1032,["artist","onClick"]))),128))])),c(h,{show:o.show_details_modal,artist:o.selected_artist,media_kind:a.media_kind,onClose:s[0]||(s[0]=p=>o.show_details_modal=!1)},null,8,["show","artist","media_kind"])])}var ls=v(n_,[["render",f_]]);const y_={name:"DropdownMenu",props:["modelValue","options"],emits:["update:modelValue"],data(){return{is_active:!1}},methods:{onClickOutside(e){this.is_active=!1},select(e){this.is_active=!1,this.$emit("update:modelValue",e)}}},g_={class:"dropdown-trigger"},b_=t("span",{class:"icon is-small"},[t("i",{class:"mdi mdi-chevron-down","aria-hidden":"true"})],-1),k_={class:"dropdown-menu",id:"dropdown-menu",role:"menu"},w_={class:"dropdown-content"},v_=["onClick"];function $_(e,s,a,r,o,i){const n=ys("click-away");return D((l(),_("div",{class:A(["dropdown",{"is-active":o.is_active}])},[t("div",g_,[t("button",{class:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:s[0]||(s[0]=h=>o.is_active=!o.is_active)},[t("span",null,u(a.modelValue),1),b_])]),t("div",k_,[t("div",w_,[(l(!0),_(R,null,L(a.options,h=>(l(),_("a",{class:A(["dropdown-item",{"is-active":a.modelValue===h}]),key:h,onClick:p=>i.select(h)},u(h),11,v_))),128))])])],2)),[[n,i.onClickOutside]])}var rs=v(y_,[["render",$_]]);const mt={load:function(e){return f.library_artists("music")},set:function(e,s){e.artists=s.data}},x_={name:"PageArtists",components:{ContentWithHeading:U,TabsMusic:j,IndexButtonList:W,ListArtists:ls,DropdownMenu:rs},data(){return{artists:{items:[]},sort_options:["Name","Recently added"]}},computed:{artists_list(){return new ns(this.artists.items,{hideSingles:this.hide_singles,hideSpotify:this.hide_spotify,sort:this.sort,group:!0})},spotify_enabled(){return this.$store.state.spotify.webapi_token_valid},hide_singles:{get(){return this.$store.state.hide_singles},set(e){this.$store.commit(Ft,e)}},hide_spotify:{get(){return this.$store.state.hide_spotify},set(e){this.$store.commit(is,e)}},sort:{get(){return this.$store.state.artists_sort},set(e){this.$store.commit(Ps,e)}}},methods:{scrollToTop:function(){window.scrollTo({top:0,behavior:"smooth"})}},beforeRouteEnter(e,s,a){mt.load(e).then(r=>{a(o=>mt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;mt.load(e).then(o=>{mt.set(r,o),a()})}},C_={class:"fd-page-with-tabs"},A_={class:"columns"},S_={class:"column"},q_=t("p",{class:"heading",style:{"margin-bottom":"24px"}},"Filter",-1),P_={class:"field"},T_={class:"control"},R_=t("label",{for:"switchHideSingles"},"Hide singles",-1),L_=t("p",{class:"help"},"If active, hides artists that only appear on singles or playlists.",-1),I_={key:0,class:"field"},U_={class:"control"},E_=t("label",{for:"switchHideSpotify"},"Hide artists from Spotify",-1),O_=t("p",{class:"help"},"If active, hides artists that only appear in your Spotify library.",-1),D_={class:"column"},N_=t("p",{class:"heading",style:{"margin-bottom":"24px"}},"Sort by",-1),z_=t("p",{class:"title is-4"},"Artists",-1),V_={class:"heading"};function B_(e,s,a,r,o,i){const n=m("tabs-music"),h=m("index-button-list"),p=m("dropdown-menu"),w=m("list-artists"),b=m("content-with-heading");return l(),_("div",C_,[c(n),c(b,null,{options:d(()=>[c(h,{index:i.artists_list.indexList},null,8,["index"]),t("div",A_,[t("div",S_,[q_,t("div",P_,[t("div",T_,[D(t("input",{id:"switchHideSingles",type:"checkbox",name:"switchHideSingles",class:"switch","onUpdate:modelValue":s[0]||(s[0]=k=>i.hide_singles=k)},null,512),[[Q,i.hide_singles]]),R_]),L_]),i.spotify_enabled?(l(),_("div",I_,[t("div",U_,[D(t("input",{id:"switchHideSpotify",type:"checkbox",name:"switchHideSpotify",class:"switch","onUpdate:modelValue":s[1]||(s[1]=k=>i.hide_spotify=k)},null,512),[[Q,i.hide_spotify]]),E_]),O_])):y("",!0)]),t("div",D_,[N_,c(p,{modelValue:i.sort,"onUpdate:modelValue":s[2]||(s[2]=k=>i.sort=k),options:o.sort_options},null,8,["modelValue","options"])])])]),"heading-left":d(()=>[z_,t("p",V_,u(i.artists_list.sortedAndFiltered.length)+" Artists",1)]),"heading-right":d(()=>[]),content:d(()=>[c(w,{artists:i.artists_list},null,8,["artists"])]),_:1})])}var F_=v(x_,[["render",B_]]);const ht={load:function(e){return Promise.all([f.library_artist(e.params.artist_id),f.library_artist_albums(e.params.artist_id)])},set:function(e,s){e.artist=s[0].data,e.albums=s[1].data}},M_={name:"PageArtist",components:{ContentWithHeading:U,ListAlbums:G,ModalDialogArtist:Mt,DropdownMenu:rs},data(){return{artist:{},albums:{items:[]},sort_options:["Name","Release date"],show_artist_details_modal:!1}},computed:{albums_list(){return new ot(this.albums.items,{sort:this.sort,group:!1})},sort:{get(){return this.$store.state.artist_albums_sort},set(e){this.$store.commit(Ts,e)}}},methods:{open_tracks:function(){this.$router.push({path:"/music/artists/"+this.artist.id+"/tracks"})},play:function(){f.player_play_uri(this.albums.items.map(e=>e.uri).join(","),!0)}},beforeRouteEnter(e,s,a){ht.load(e).then(r=>{a(o=>ht.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;ht.load(e).then(o=>{ht.set(r,o),a()})}},j_={class:"columns"},G_={class:"column"},H_=t("p",{class:"heading",style:{"margin-bottom":"24px"}},"Sort by",-1),W_={class:"title is-4"},K_={class:"buttons is-centered"},Y_=t("span",{class:"icon"},[t("i",{class:"mdi mdi-dots-horizontal mdi-18px"})],-1),Q_=[Y_],J_=t("span",{class:"icon"},[t("i",{class:"mdi mdi-shuffle"})],-1),X_=g(),Z_=t("span",null,"Shuffle",-1),tc=[J_,X_,Z_],sc={class:"heading has-text-centered-mobile"};function ec(e,s,a,r,o,i){const n=m("dropdown-menu"),h=m("list-albums"),p=m("modal-dialog-artist"),w=m("content-with-heading");return l(),x(w,null,{options:d(()=>[t("div",j_,[t("div",G_,[H_,c(n,{modelValue:i.sort,"onUpdate:modelValue":s[0]||(s[0]=b=>i.sort=b),options:o.sort_options},null,8,["modelValue","options"])])])]),"heading-left":d(()=>[t("p",W_,u(o.artist.name),1)]),"heading-right":d(()=>[t("div",K_,[t("a",{class:"button is-small is-light is-rounded",onClick:s[1]||(s[1]=b=>o.show_artist_details_modal=!0)},Q_),t("a",{class:"button is-small is-dark is-rounded",onClick:s[2]||(s[2]=(...b)=>i.play&&i.play(...b))},tc)])]),content:d(()=>[t("p",sc,[g(u(o.artist.album_count)+" albums | ",1),t("a",{class:"has-text-link",onClick:s[3]||(s[3]=(...b)=>i.open_tracks&&i.open_tracks(...b))},u(o.artist.track_count)+" tracks",1)]),c(h,{albums:i.albums_list},null,8,["albums"]),c(p,{show:o.show_artist_details_modal,artist:o.artist,onClose:s[4]||(s[4]=b=>o.show_artist_details_modal=!1)},null,8,["show","artist"])]),_:1})}var ic=v(M_,[["render",ec]]);const pt={load:function(e){return f.library_albums("music")},set:function(e,s){e.albums=s.data,e.index_list=[...new Set(e.albums.items.filter(a=>!e.$store.state.hide_singles||a.track_count>2).map(a=>a.name_sort.charAt(0).toUpperCase()))]}},oc={name:"PageAlbums",components:{ContentWithHeading:U,TabsMusic:j,IndexButtonList:W,ListAlbums:G,DropdownMenu:rs},data(){return{albums:{items:[]},sort_options:["Name","Recently added","Recently released"]}},computed:{albums_list(){return new ot(this.albums.items,{hideSingles:this.hide_singles,hideSpotify:this.hide_spotify,sort:this.sort,group:!0})},spotify_enabled(){return this.$store.state.spotify.webapi_token_valid},hide_singles:{get(){return this.$store.state.hide_singles},set(e){this.$store.commit(Ft,e)}},hide_spotify:{get(){return this.$store.state.hide_spotify},set(e){this.$store.commit(is,e)}},sort:{get(){return this.$store.state.albums_sort},set(e){this.$store.commit(Rs,e)}}},methods:{scrollToTop:function(){window.scrollTo({top:0,behavior:"smooth"})}},beforeRouteEnter(e,s,a){pt.load(e).then(r=>{a(o=>pt.set(o,r))})},beforeRouteUpdate(e,s,a){if(this.albums.items.length>0){a();return}const r=this;pt.load(e).then(o=>{pt.set(r,o),a()})}},ac={class:"fd-page-with-tabs"},nc={class:"columns"},lc={class:"column"},rc=t("p",{class:"heading",style:{"margin-bottom":"24px"}},"Filter",-1),dc={class:"field"},_c={class:"control"},cc=t("label",{for:"switchHideSingles"},"Hide singles",-1),uc=t("p",{class:"help"},"If active, hides singles and albums with tracks that only appear in playlists.",-1),mc={key:0,class:"field"},hc={class:"control"},pc=t("label",{for:"switchHideSpotify"},"Hide albums from Spotify",-1),fc=t("p",{class:"help"},"If active, hides albums that only appear in your Spotify library.",-1),yc={class:"column"},gc=t("p",{class:"heading",style:{"margin-bottom":"24px"}},"Sort by",-1),bc=t("p",{class:"title is-4"},"Albums",-1),kc={class:"heading"};function wc(e,s,a,r,o,i){const n=m("tabs-music"),h=m("index-button-list"),p=m("dropdown-menu"),w=m("list-albums"),b=m("content-with-heading");return l(),_("div",ac,[c(n),c(b,null,{options:d(()=>[c(h,{index:i.albums_list.indexList},null,8,["index"]),t("div",nc,[t("div",lc,[rc,t("div",dc,[t("div",_c,[D(t("input",{id:"switchHideSingles",type:"checkbox",name:"switchHideSingles",class:"switch","onUpdate:modelValue":s[0]||(s[0]=k=>i.hide_singles=k)},null,512),[[Q,i.hide_singles]]),cc]),uc]),i.spotify_enabled?(l(),_("div",mc,[t("div",hc,[D(t("input",{id:"switchHideSpotify",type:"checkbox",name:"switchHideSpotify",class:"switch","onUpdate:modelValue":s[1]||(s[1]=k=>i.hide_spotify=k)},null,512),[[Q,i.hide_spotify]]),pc]),fc])):y("",!0)]),t("div",yc,[gc,c(p,{modelValue:i.sort,"onUpdate:modelValue":s[2]||(s[2]=k=>i.sort=k),options:o.sort_options},null,8,["modelValue","options"])])])]),"heading-left":d(()=>[bc,t("p",kc,u(i.albums_list.sortedAndFiltered.length)+" Albums",1)]),"heading-right":d(()=>[]),content:d(()=>[c(w,{albums:i.albums_list},null,8,["albums"])]),_:1})])}var vc=v(oc,[["render",wc]]);const $c={},xc={class:"hero is-light is-bold fd-content"},Cc={class:"hero-body"},Ac={class:"container"},Sc={class:"columns is-centered"},qc={class:"column is-four-fifths"},Pc={class:"columns",style:{"flex-direction":"row-reverse"}},Tc={class:"column fd-has-cover"},Rc={class:"column is-three-fifths has-text-centered-mobile",style:{margin:"auto 0"}},Lc={class:"section fd-content"},Ic={class:"container"},Uc={class:"columns is-centered"},Ec={class:"column is-four-fifths"},Oc={style:{"margin-top":"16px"}};function Dc(e,s){return l(),_("div",null,[t("section",xc,[t("div",Cc,[t("div",Ac,[t("div",Sc,[t("div",qc,[t("div",Pc,[t("div",Tc,[I(e.$slots,"heading-right")]),t("div",Rc,[I(e.$slots,"heading-left")])])])])])])]),t("section",Lc,[t("div",Ic,[t("div",Uc,[t("div",Ec,[I(e.$slots,"content"),t("div",Oc,[I(e.$slots,"footer")])])])])])])}var ds=v($c,[["render",Dc]]);const ft={load:function(e){return Promise.all([f.library_album(e.params.album_id),f.library_album_tracks(e.params.album_id)])},set:function(e,s){e.album=s[0].data,e.tracks=s[1].data.items}},Nc={name:"PageAlbum",components:{ContentWithHero:ds,ListTracks:H,ModalDialogAlbum:it,CoverArtwork:M},data(){return{album:{},tracks:[],show_album_details_modal:!1}},methods:{open_artist:function(){this.show_details_modal=!1,this.$router.push({path:"/music/artists/"+this.album.artist_id})},play:function(){f.player_play_uri(this.album.uri,!0)}},beforeRouteEnter(e,s,a){ft.load(e).then(r=>{a(o=>ft.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;ft.load(e).then(o=>{ft.set(r,o),a()})}},zc={class:"title is-5"},Vc={class:"subtitle is-6 has-text-link has-text-weight-normal"},Bc={class:"buttons fd-is-centered-mobile fd-has-margin-top"},Fc=t("span",{class:"icon"},[t("i",{class:"mdi mdi-shuffle"})],-1),Mc=g(),jc=t("span",null,"Shuffle",-1),Gc=[Fc,Mc,jc],Hc=t("span",{class:"icon"},[t("i",{class:"mdi mdi-dots-horizontal mdi-18px"})],-1),Wc=[Hc],Kc={class:"image is-square fd-has-shadow fd-has-action"},Yc={class:"heading is-7 has-text-centered-mobile fd-has-margin-top"};function Qc(e,s,a,r,o,i){const n=m("cover-artwork"),h=m("list-tracks"),p=m("modal-dialog-album"),w=m("content-with-hero");return l(),x(w,null,{"heading-left":d(()=>[t("h1",zc,u(o.album.name),1),t("h2",Vc,[t("a",{class:"has-text-link",onClick:s[0]||(s[0]=(...b)=>i.open_artist&&i.open_artist(...b))},u(o.album.artist),1)]),t("div",Bc,[t("a",{class:"button is-small is-dark is-rounded",onClick:s[1]||(s[1]=(...b)=>i.play&&i.play(...b))},Gc),t("a",{class:"button is-small is-light is-rounded",onClick:s[2]||(s[2]=b=>o.show_album_details_modal=!0)},Wc)])]),"heading-right":d(()=>[t("p",Kc,[c(n,{artwork_url:o.album.artwork_url,artist:o.album.artist,album:o.album.name,onClick:s[3]||(s[3]=b=>o.show_album_details_modal=!0)},null,8,["artwork_url","artist","album"])])]),content:d(()=>[t("p",Yc,u(o.album.track_count)+" tracks",1),c(h,{tracks:o.tracks,uris:o.album.uri},null,8,["tracks","uris"]),c(p,{show:o.show_album_details_modal,album:o.album,onClose:s[4]||(s[4]=b=>o.show_album_details_modal=!1)},null,8,["show","album"])]),_:1})}var Jc=v(Nc,[["render",Qc]]);const Xc={name:"ListItemGenre",props:["genre"]},Zc=["id"],tu={class:"media-content fd-has-action is-clipped"},su={class:"title is-6"},eu={class:"media-right"};function iu(e,s,a,r,o,i){return l(),_("div",{class:"media",id:"index_"+a.genre.name.charAt(0).toUpperCase()},[t("div",tu,[t("h1",su,u(a.genre.name),1)]),t("div",eu,[I(e.$slots,"actions")])],8,Zc)}var ou=v(Xc,[["render",iu]]);const au={name:"ModalDialogGenre",props:["show","genre"],methods:{play:function(){this.$emit("close"),f.player_play_expression('genre is "'+this.genre.name+'" and media_kind is music',!1)},queue_add:function(){this.$emit("close"),f.queue_expression_add('genre is "'+this.genre.name+'" and media_kind is music')},queue_add_next:function(){this.$emit("close"),f.queue_expression_add_next('genre is "'+this.genre.name+'" and media_kind is music')},open_genre:function(){this.$emit("close"),this.$router.push({name:"Genre",params:{genre:this.genre.name}})}}},nu={key:0,class:"modal is-active"},lu={class:"modal-content fd-modal-card"},ru={class:"card"},du={class:"card-content"},_u={class:"title is-4"},cu={class:"card-footer"},uu=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-plus"})],-1),mu=g(),hu=t("span",{class:"is-size-7"},"Add",-1),pu=[uu,mu,hu],fu=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-play"})],-1),yu=g(),gu=t("span",{class:"is-size-7"},"Add Next",-1),bu=[fu,yu,gu],ku=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),wu=g(),vu=t("span",{class:"is-size-7"},"Play",-1),$u=[ku,wu,vu];function xu(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",nu,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",lu,[t("div",ru,[t("div",du,[t("p",_u,[t("a",{class:"has-text-link",onClick:s[1]||(s[1]=(...n)=>i.open_genre&&i.open_genre(...n))},u(a.genre.name),1)])]),t("footer",cu,[t("a",{class:"card-footer-item has-text-dark",onClick:s[2]||(s[2]=(...n)=>i.queue_add&&i.queue_add(...n))},pu),t("a",{class:"card-footer-item has-text-dark",onClick:s[3]||(s[3]=(...n)=>i.queue_add_next&&i.queue_add_next(...n))},bu),t("a",{class:"card-footer-item has-text-dark",onClick:s[4]||(s[4]=(...n)=>i.play&&i.play(...n))},$u)])])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[5]||(s[5]=n=>e.$emit("close"))})])):y("",!0)]),_:1})])}var _s=v(au,[["render",xu]]);const yt={load:function(e){return f.library_genres()},set:function(e,s){e.genres=s.data}},Cu={name:"PageGenres",components:{ContentWithHeading:U,TabsMusic:j,IndexButtonList:W,ListItemGenre:ou,ModalDialogGenre:_s},data(){return{genres:{items:[]},show_details_modal:!1,selected_genre:{}}},computed:{index_list(){return[...new Set(this.genres.items.map(e=>e.name.charAt(0).toUpperCase()))]}},methods:{open_genre:function(e){this.$router.push({name:"Genre",params:{genre:e.name}})},open_dialog:function(e){this.selected_genre=e,this.show_details_modal=!0}},beforeRouteEnter(e,s,a){yt.load(e).then(r=>{a(o=>yt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;yt.load(e).then(o=>{yt.set(r,o),a()})}},Au={class:"fd-page-with-tabs"},Su=t("p",{class:"title is-4"},"Genres",-1),qu={class:"heading"},Pu=["onClick"],Tu=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),Ru=[Tu];function Lu(e,s,a,r,o,i){const n=m("tabs-music"),h=m("index-button-list"),p=m("list-item-genre"),w=m("modal-dialog-genre"),b=m("content-with-heading");return l(),_("div",Au,[c(n),c(b,null,{options:d(()=>[c(h,{index:i.index_list},null,8,["index"])]),"heading-left":d(()=>[Su,t("p",qu,u(o.genres.total)+" genres",1)]),content:d(()=>[(l(!0),_(R,null,L(o.genres.items,k=>(l(),x(p,{key:k.name,genre:k,onClick:$=>i.open_genre(k)},{actions:d(()=>[t("a",{onClick:E($=>i.open_dialog(k),["prevent","stop"])},Ru,8,Pu)]),_:2},1032,["genre","onClick"]))),128)),c(w,{show:o.show_details_modal,genre:o.selected_genre,onClose:s[0]||(s[0]=k=>o.show_details_modal=!1)},null,8,["show","genre"])]),_:1})])}var Iu=v(Cu,[["render",Lu]]);const gt={load:function(e){return f.library_genre(e.params.genre)},set:function(e,s){e.name=e.$route.params.genre,e.genre_albums=s.data.albums}},Uu={name:"PageGenre",components:{ContentWithHeading:U,IndexButtonList:W,ListAlbums:G,ModalDialogGenre:_s},data(){return{name:"",genre_albums:{items:[]},show_genre_details_modal:!1}},computed:{index_list(){return[...new Set(this.genre_albums.items.map(e=>e.name.charAt(0).toUpperCase()))]}},methods:{open_tracks:function(){this.show_details_modal=!1,this.$router.push({name:"GenreTracks",params:{genre:this.name}})},play:function(){f.player_play_expression('genre is "'+this.name+'" and media_kind is music',!0)},open_dialog:function(e){this.selected_album=e,this.show_details_modal=!0}},beforeRouteEnter(e,s,a){gt.load(e).then(r=>{a(o=>gt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;gt.load(e).then(o=>{gt.set(r,o),a()})}},Eu={class:"title is-4"},Ou={class:"buttons is-centered"},Du=t("span",{class:"icon"},[t("i",{class:"mdi mdi-dots-horizontal mdi-18px"})],-1),Nu=[Du],zu=t("span",{class:"icon"},[t("i",{class:"mdi mdi-shuffle"})],-1),Vu=g(),Bu=t("span",null,"Shuffle",-1),Fu=[zu,Vu,Bu],Mu={class:"heading has-text-centered-mobile"};function ju(e,s,a,r,o,i){const n=m("index-button-list"),h=m("list-albums"),p=m("modal-dialog-genre"),w=m("content-with-heading");return l(),_("div",null,[c(w,null,{options:d(()=>[c(n,{index:i.index_list},null,8,["index"])]),"heading-left":d(()=>[t("p",Eu,u(o.name),1)]),"heading-right":d(()=>[t("div",Ou,[t("a",{class:"button is-small is-light is-rounded",onClick:s[0]||(s[0]=b=>o.show_genre_details_modal=!0)},Nu),t("a",{class:"button is-small is-dark is-rounded",onClick:s[1]||(s[1]=(...b)=>i.play&&i.play(...b))},Fu)])]),content:d(()=>[t("p",Mu,[g(u(o.genre_albums.total)+" albums | ",1),t("a",{class:"has-text-link",onClick:s[2]||(s[2]=(...b)=>i.open_tracks&&i.open_tracks(...b))},"tracks")]),c(h,{albums:o.genre_albums.items},null,8,["albums"]),c(p,{show:o.show_genre_details_modal,genre:{name:o.name},onClose:s[3]||(s[3]=b=>o.show_genre_details_modal=!1)},null,8,["show","genre"])]),_:1})])}var Gu=v(Uu,[["render",ju]]);const bt={load:function(e){return f.library_genre_tracks(e.params.genre)},set:function(e,s){e.genre=e.$route.params.genre,e.tracks=s.data.tracks}},Hu={name:"PageGenreTracks",components:{ContentWithHeading:U,ListTracks:H,IndexButtonList:W,ModalDialogGenre:_s},data(){return{tracks:{items:[]},genre:"",show_genre_details_modal:!1}},computed:{index_list(){return[...new Set(this.tracks.items.map(e=>e.title_sort.charAt(0).toUpperCase()))]},expression(){return'genre is "'+this.genre+'" and media_kind is music'}},methods:{open_genre:function(){this.show_details_modal=!1,this.$router.push({name:"Genre",params:{genre:this.genre}})},play:function(){f.player_play_expression(this.expression,!0)}},beforeRouteEnter(e,s,a){bt.load(e).then(r=>{a(o=>bt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;bt.load(e).then(o=>{bt.set(r,o),a()})}},Wu={class:"title is-4"},Ku={class:"buttons is-centered"},Yu=t("span",{class:"icon"},[t("i",{class:"mdi mdi-dots-horizontal mdi-18px"})],-1),Qu=[Yu],Ju=t("span",{class:"icon"},[t("i",{class:"mdi mdi-shuffle"})],-1),Xu=g(),Zu=t("span",null,"Shuffle",-1),tm=[Ju,Xu,Zu],sm={class:"heading has-text-centered-mobile"};function em(e,s,a,r,o,i){const n=m("index-button-list"),h=m("list-tracks"),p=m("modal-dialog-genre"),w=m("content-with-heading");return l(),_("div",null,[c(w,null,{options:d(()=>[c(n,{index:i.index_list},null,8,["index"])]),"heading-left":d(()=>[t("p",Wu,u(o.genre),1)]),"heading-right":d(()=>[t("div",Ku,[t("a",{class:"button is-small is-light is-rounded",onClick:s[0]||(s[0]=b=>o.show_genre_details_modal=!0)},Qu),t("a",{class:"button is-small is-dark is-rounded",onClick:s[1]||(s[1]=(...b)=>i.play&&i.play(...b))},tm)])]),content:d(()=>[t("p",sm,[t("a",{class:"has-text-link",onClick:s[2]||(s[2]=(...b)=>i.open_genre&&i.open_genre(...b))},"albums"),g(" | "+u(o.tracks.total)+" tracks",1)]),c(h,{tracks:o.tracks.items,expression:i.expression},null,8,["tracks","expression"]),c(p,{show:o.show_genre_details_modal,genre:{name:o.genre},onClose:s[3]||(s[3]=b=>o.show_genre_details_modal=!1)},null,8,["show","genre"])]),_:1})])}var im=v(Hu,[["render",em]]);const kt={load:function(e){return Promise.all([f.library_artist(e.params.artist_id),f.library_artist_tracks(e.params.artist_id)])},set:function(e,s){e.artist=s[0].data,e.tracks=s[1].data.tracks}},om={name:"PageArtistTracks",components:{ContentWithHeading:U,ListTracks:H,IndexButtonList:W,ModalDialogArtist:Mt},data(){return{artist:{},tracks:{items:[]},show_artist_details_modal:!1}},computed:{index_list(){return[...new Set(this.tracks.items.map(e=>e.title_sort.charAt(0).toUpperCase()))]},track_uris(){return this.tracks.items.map(e=>e.uri).join(",")}},methods:{open_artist:function(){this.show_details_modal=!1,this.$router.push({path:"/music/artists/"+this.artist.id})},play:function(){f.player_play_uri(this.tracks.items.map(e=>e.uri).join(","),!0)}},beforeRouteEnter(e,s,a){kt.load(e).then(r=>{a(o=>kt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;kt.load(e).then(o=>{kt.set(r,o),a()})}},am={class:"title is-4"},nm={class:"buttons is-centered"},lm=t("span",{class:"icon"},[t("i",{class:"mdi mdi-dots-horizontal mdi-18px"})],-1),rm=[lm],dm=t("span",{class:"icon"},[t("i",{class:"mdi mdi-shuffle"})],-1),_m=g(),cm=t("span",null,"Shuffle",-1),um=[dm,_m,cm],mm={class:"heading has-text-centered-mobile"};function hm(e,s,a,r,o,i){const n=m("index-button-list"),h=m("list-tracks"),p=m("modal-dialog-artist"),w=m("content-with-heading");return l(),_("div",null,[c(w,null,{options:d(()=>[c(n,{index:i.index_list},null,8,["index"])]),"heading-left":d(()=>[t("p",am,u(o.artist.name),1)]),"heading-right":d(()=>[t("div",nm,[t("a",{class:"button is-small is-light is-rounded",onClick:s[0]||(s[0]=b=>o.show_artist_details_modal=!0)},rm),t("a",{class:"button is-small is-dark is-rounded",onClick:s[1]||(s[1]=(...b)=>i.play&&i.play(...b))},um)])]),content:d(()=>[t("p",mm,[t("a",{class:"has-text-link",onClick:s[2]||(s[2]=(...b)=>i.open_artist&&i.open_artist(...b))},u(o.artist.album_count)+" albums",1),g(" | "+u(o.artist.track_count)+" tracks",1)]),c(h,{tracks:o.tracks.items,uris:i.track_uris},null,8,["tracks","uris"]),c(p,{show:o.show_artist_details_modal,artist:o.artist,onClose:s[3]||(s[3]=b=>o.show_artist_details_modal=!1)},null,8,["show","artist"])]),_:1})])}var pm=v(om,[["render",hm]]);const fm={name:"ListItemComposer",props:["composer"]},ym=["id"],gm={class:"media-content fd-has-action is-clipped"},bm={class:"title is-6"},km={class:"media-right"};function wm(e,s,a,r,o,i){return l(),_("div",{class:"media",id:"index_"+a.composer.name.charAt(0).toUpperCase()},[t("div",gm,[t("h1",bm,u(a.composer.name),1)]),t("div",km,[I(e.$slots,"actions")])],8,ym)}var vm=v(fm,[["render",wm]]);const $m={name:"ModalDialogComposer",props:["show","composer"],methods:{play:function(){this.$emit("close"),f.player_play_expression('composer is "'+this.composer.name+'" and media_kind is music',!1)},queue_add:function(){this.$emit("close"),f.queue_expression_add('composer is "'+this.composer.name+'" and media_kind is music')},queue_add_next:function(){this.$emit("close"),f.queue_expression_add_next('composer is "'+this.composer.name+'" and media_kind is music')},open_albums:function(){this.$emit("close"),this.$router.push({name:"ComposerAlbums",params:{composer:this.composer.name}})},open_tracks:function(){this.show_details_modal=!1,this.$router.push({name:"ComposerTracks",params:{composer:this.composer.name}})}}},xm={key:0,class:"modal is-active"},Cm={class:"modal-content fd-modal-card"},Am={class:"card"},Sm={class:"card-content"},qm={class:"title is-4"},Pm=t("span",{class:"heading"},"Albums",-1),Tm=t("span",{class:"heading"},"Tracks",-1),Rm={class:"card-footer"},Lm=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-plus"})],-1),Im=g(),Um=t("span",{class:"is-size-7"},"Add",-1),Em=[Lm,Im,Um],Om=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-play"})],-1),Dm=g(),Nm=t("span",{class:"is-size-7"},"Add Next",-1),zm=[Om,Dm,Nm],Vm=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),Bm=g(),Fm=t("span",{class:"is-size-7"},"Play",-1),Mm=[Vm,Bm,Fm];function jm(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",xm,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",Cm,[t("div",Am,[t("div",Sm,[t("p",qm,[t("a",{class:"has-text-link",onClick:s[1]||(s[1]=(...n)=>i.open_albums&&i.open_albums(...n))},u(a.composer.name),1)]),t("p",null,[Pm,t("a",{class:"has-text-link is-6",onClick:s[2]||(s[2]=(...n)=>i.open_albums&&i.open_albums(...n))},u(a.composer.album_count),1)]),t("p",null,[Tm,t("a",{class:"has-text-link is-6",onClick:s[3]||(s[3]=(...n)=>i.open_tracks&&i.open_tracks(...n))},u(a.composer.track_count),1)])]),t("footer",Rm,[t("a",{class:"card-footer-item has-text-dark",onClick:s[4]||(s[4]=(...n)=>i.queue_add&&i.queue_add(...n))},Em),t("a",{class:"card-footer-item has-text-dark",onClick:s[5]||(s[5]=(...n)=>i.queue_add_next&&i.queue_add_next(...n))},zm),t("a",{class:"card-footer-item has-text-dark",onClick:s[6]||(s[6]=(...n)=>i.play&&i.play(...n))},Mm)])])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[7]||(s[7]=n=>e.$emit("close"))})])):y("",!0)]),_:1})])}var cs=v($m,[["render",jm]]);class Es{constructor(s,a={hideSingles:!1,hideSpotify:!1,sort:"Name",group:!1}){this.items=s,this.options=a,this.grouped={},this.sortedAndFiltered=[],this.indexList=[],this.init()}init(){this.createSortedAndFilteredList(),this.createGroupedList(),this.createIndexList()}getComposerIndex(s){return this.options.sort==="Name"?s.name_sort.charAt(0).toUpperCase():s.time_added.substring(0,4)}isComposerVisible(s){return!(this.options.hideSingles&&s.track_count<=s.album_count*2||this.options.hideSpotify&&s.data_kind==="spotify")}createIndexList(){this.indexList=[...new Set(this.sortedAndFiltered.map(s=>this.getComposerIndex(s)))]}createSortedAndFilteredList(){let s=this.items;(this.options.hideSingles||this.options.hideSpotify||this.options.hideOther)&&(s=s.filter(a=>this.isComposerVisible(a))),this.options.sort==="Recently added"&&(s=[...s].sort((a,r)=>r.time_added.localeCompare(a.time_added))),this.sortedAndFiltered=s}createGroupedList(){this.options.group||(this.grouped={}),this.grouped=this.sortedAndFiltered.reduce((s,a)=>{const r=this.getComposerIndex(a);return s[r]=[...s[r]||[],a],s},{})}}const Gm={name:"ListComposers",components:{ListItemComposer:vm,ModalDialogComposer:cs},props:["composers","media_kind"],data(){return{show_details_modal:!1,selected_composer:{}}},computed:{media_kind_resolved:function(){return this.media_kind?this.media_kind:this.selected_composer.media_kind},composers_list:function(){return Array.isArray(this.composers)?this.composers:this.composers.sortedAndFiltered},is_grouped:function(){return this.composers instanceof Es&&this.composers.options.group}},methods:{open_composer:function(e){this.selected_composer=e,this.$router.push({name:"ComposerTracks",params:{composer:e.name}})},open_dialog:function(e){this.selected_composer=e,this.show_details_modal=!0}}},Hm={key:0},Wm=["id"],Km=["onClick"],Ym=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),Qm=[Ym],Jm={key:1},Xm=["onClick"],Zm=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),th=[Zm];function sh(e,s,a,r,o,i){const n=m("list-item-composer"),h=m("modal-dialog-composer");return l(),_("div",null,[i.is_grouped?(l(),_("div",Hm,[(l(!0),_(R,null,L(a.composers.indexList,p=>(l(),_("div",{key:p,class:"mb-6"},[t("span",{class:"tag is-info is-light is-small has-text-weight-bold",id:"index_"+p},u(p),9,Wm),(l(!0),_(R,null,L(a.composers.grouped[p],w=>(l(),x(n,{key:w.id,composer:w,onClick:b=>i.open_composer(w)},{actions:d(()=>[t("a",{onClick:E(b=>i.open_dialog(w),["prevent","stop"])},Qm,8,Km)]),_:2},1032,["composer","onClick"]))),128))]))),128))])):(l(),_("div",Jm,[(l(!0),_(R,null,L(i.composers_list,p=>(l(),x(n,{key:p.id,composer:p,onClick:w=>i.open_composer(p)},{actions:d(()=>[t("a",{onClick:E(w=>i.open_dialog(p),["prevent","stop"])},th,8,Xm)]),_:2},1032,["composer","onClick"]))),128))])),c(h,{show:o.show_details_modal,composer:o.selected_composer,media_kind:a.media_kind,onClose:s[0]||(s[0]=p=>o.show_details_modal=!1)},null,8,["show","composer","media_kind"])])}var Os=v(Gm,[["render",sh]]);const wt={load:function(e){return f.library_composers()},set:function(e,s){s.data.composers?(e.composers=s.data.composers,e.heading=e.$route.params.genre):(e.composers=s.data,e.heading="Composers")}},eh={name:"PageComposers",components:{ContentWithHeading:U,TabsMusic:j,IndexButtonList:W,ListComposers:Os},data(){return{composers:{items:[]},heading:"",show_details_modal:!1,selected_composer:{}}},computed:{index_list(){return[...new Set(this.composers.items.map(e=>e.name.charAt(0).toUpperCase()))]},composers_list(){return new Es(this.composers.items,{sort:"Name",group:!0})}},methods:{open_composer:function(e){this.$router.push({name:"ComposerAlbums",params:{composer:e.name}})},open_dialog:function(e){this.selected_composer=e,this.show_details_modal=!0}},beforeRouteEnter(e,s,a){wt.load(e).then(r=>{a(o=>wt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;wt.load(e).then(o=>{wt.set(r,o),a()})}},ih={class:"title is-4"},oh={class:"heading"};function ah(e,s,a,r,o,i){const n=m("tabs-music"),h=m("index-button-list"),p=m("list-composers"),w=m("content-with-heading");return l(),_("div",null,[c(n),c(w,null,{options:d(()=>[c(h,{index:i.composers_list.indexList},null,8,["index"])]),"heading-left":d(()=>[t("p",ih,u(o.heading),1),t("p",oh,u(o.composers.total)+" composers",1)]),content:d(()=>[c(p,{composers:i.composers_list},null,8,["composers"])]),_:1})])}var nh=v(eh,[["render",ah]]);const vt={load:function(e){return f.library_composer(e.params.composer)},set:function(e,s){e.name=e.$route.params.composer,e.composer_albums=s.data.albums}},lh={name:"PageComposer",components:{ContentWithHeading:U,ListItemAlbums:Us,ModalDialogAlbum:it,ModalDialogComposer:cs},data(){return{name:"",composer_albums:{items:[]},show_details_modal:!1,selected_album:{},show_composer_details_modal:!1}},computed:{index_list(){return[...new Set(this.composer_albums.items.map(e=>e.name_sort.charAt(0).toUpperCase()))]}},methods:{open_tracks:function(){this.show_details_modal=!1,this.$router.push({name:"ComposerTracks",params:{composer:this.name}})},play:function(){f.player_play_expression('composer is "'+this.name+'" and media_kind is music',!0)},open_album:function(e){this.$router.push({path:"/music/albums/"+e.id})},open_dialog:function(e){this.selected_album=e,this.show_details_modal=!0}},beforeRouteEnter(e,s,a){vt.load(e).then(r=>{a(o=>vt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;vt.load(e).then(o=>{vt.set(r,o),a()})}},rh={class:"title is-4"},dh={class:"buttons is-centered"},_h=t("span",{class:"icon"},[t("i",{class:"mdi mdi-dots-horizontal mdi-18px"})],-1),ch=[_h],uh=t("span",{class:"icon"},[t("i",{class:"mdi mdi-shuffle"})],-1),mh=g(),hh=t("span",null,"Shuffle",-1),ph=[uh,mh,hh],fh={class:"heading has-text-centered-mobile"},yh={"slot:actions":""},gh=["onClick"],bh=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),kh=[bh];function wh(e,s,a,r,o,i){const n=m("index-button-list"),h=m("list-item-albums"),p=m("modal-dialog-album"),w=m("modal-dialog-composer"),b=m("content-with-heading");return l(),_("div",null,[c(b,null,{options:d(()=>[c(n,{index:i.index_list},null,8,["index"])]),"heading-left":d(()=>[t("p",rh,u(o.name),1)]),"heading-right":d(()=>[t("div",dh,[t("a",{class:"button is-small is-light is-rounded",onClick:s[0]||(s[0]=k=>o.show_composer_details_modal=!0)},ch),t("a",{class:"button is-small is-dark is-rounded",onClick:s[1]||(s[1]=(...k)=>i.play&&i.play(...k))},ph)])]),content:d(()=>[t("p",fh,[g(u(o.composer_albums.total)+" albums | ",1),t("a",{class:"has-text-link",onClick:s[2]||(s[2]=(...k)=>i.open_tracks&&i.open_tracks(...k))},"tracks")]),(l(!0),_(R,null,L(o.composer_albums.items,k=>(l(),x(h,{key:k.id,album:k,onClick:$=>i.open_album(k)},{default:d(()=>[t("template",yh,[t("a",{onClick:$=>i.open_dialog(k)},kh,8,gh)])]),_:2},1032,["album","onClick"]))),128)),c(p,{show:o.show_details_modal,album:o.selected_album,onClose:s[3]||(s[3]=k=>o.show_details_modal=!1)},null,8,["show","album"]),c(w,{show:o.show_composer_details_modal,composer:{name:o.name},onClose:s[4]||(s[4]=k=>o.show_composer_details_modal=!1)},null,8,["show","composer"])]),_:1})])}var vh=v(lh,[["render",wh]]);const $t={load:function(e){return f.library_composer_tracks(e.params.composer)},set:function(e,s){e.composer=e.$route.params.composer,e.tracks=s.data.tracks}},$h={name:"PageComposerTracks",components:{ContentWithHeading:U,ListItemTrack:at,ModalDialogTrack:nt,ModalDialogComposer:cs},data(){return{tracks:{items:[]},composer:"",min_rating:0,show_details_modal:!1,selected_track:{},show_composer_details_modal:!1}},computed:{index_list(){return[...new Set(this.tracks.items.map(e=>e.title_sort.charAt(0).toUpperCase()))]},rated_tracks(){return this.tracks.items.filter(e=>e.rating>=this.min_rating)}},methods:{open_albums:function(){this.show_details_modal=!1,this.$router.push({name:"ComposerAlbums",params:{composer:this.composer}})},play:function(){f.player_play_expression('composer is "'+this.composer+'" and media_kind is music',!0)},play_track:function(e){f.player_play_expression('composer is "'+this.composer+'" and media_kind is music',!1,e)},show_rating:function(e){e===.5&&(e=0),this.min_rating=Math.ceil(e)*20},open_dialog:function(e){this.selected_track=e,this.show_details_modal=!0}},beforeRouteEnter(e,s,a){$t.load(e).then(r=>{a(o=>$t.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;$t.load(e).then(o=>{$t.set(r,o),a()})}},xh={class:"title is-4"},Ch={class:"buttons is-centered"},Ah=t("span",{class:"icon"},[t("i",{class:"mdi mdi-dots-horizontal mdi-18px"})],-1),Sh=[Ah],qh=t("span",{class:"icon"},[t("i",{class:"mdi mdi-shuffle"})],-1),Ph=g(),Th=t("span",null,"Shuffle",-1),Rh=[qh,Ph,Th],Lh={class:"heading has-text-centered-mobile"},Ih=["onClick"],Uh=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),Eh=[Uh];function Oh(e,s,a,r,o,i){const n=m("index-button-list"),h=m("list-item-track"),p=m("modal-dialog-track"),w=m("modal-dialog-composer"),b=m("content-with-heading");return l(),_("div",null,[c(b,null,{options:d(()=>[c(n,{index:i.index_list},null,8,["index"])]),"heading-left":d(()=>[t("p",xh,u(o.composer),1)]),"heading-right":d(()=>[t("div",Ch,[t("a",{class:"button is-small is-light is-rounded",onClick:s[0]||(s[0]=k=>o.show_composer_details_modal=!0)},Sh),t("a",{class:"button is-small is-dark is-rounded",onClick:s[1]||(s[1]=(...k)=>i.play&&i.play(...k))},Rh)])]),content:d(()=>[t("p",Lh,[t("a",{class:"has-text-link",onClick:s[2]||(s[2]=(...k)=>i.open_albums&&i.open_albums(...k))},"albums"),g(" | "+u(o.tracks.total)+" tracks",1)]),(l(!0),_(R,null,L(i.rated_tracks,(k,$)=>(l(),x(h,{key:k.id,track:k,onClick:S=>i.play_track($)},{actions:d(()=>[t("a",{onClick:E(S=>i.open_dialog(k),["prevent","stop"])},Eh,8,Ih)]),_:2},1032,["track","onClick"]))),128)),c(p,{show:o.show_details_modal,track:o.selected_track,onClose:s[3]||(s[3]=k=>o.show_details_modal=!1)},null,8,["show","track"]),c(w,{show:o.show_composer_details_modal,composer:{name:o.composer},onClose:s[4]||(s[4]=k=>o.show_composer_details_modal=!1)},null,8,["show","composer"])]),_:1})])}var Dh=v($h,[["render",Oh]]);const Nh={name:"ModalDialogAddRss",props:["show"],data(){return{url:"",loading:!1}},methods:{add_stream:function(){this.loading=!0,f.library_add(this.url).then(()=>{this.$emit("close"),this.$emit("podcast-added"),this.url=""}).catch(()=>{this.loading=!1})}},watch:{show(){this.show&&(this.loading=!1,setTimeout(()=>{this.$refs.url_field.focus()},10))}}},zh={key:0,class:"modal is-active"},Vh={class:"modal-content fd-modal-card"},Bh={class:"card"},Fh={class:"card-content"},Mh=t("p",{class:"title is-4"},"Add Podcast RSS feed URL",-1),jh={class:"field"},Gh={class:"control is-expanded has-icons-left"},Hh=["disabled"],Wh=t("span",{class:"icon is-left"},[t("i",{class:"mdi mdi-rss"})],-1),Kh=t("p",{class:"help"},"Adding a podcast includes creating an RSS playlist, that will allow OwnTone to manage the podcast subscription. ",-1),Yh={key:0,class:"card-footer"},Qh=t("a",{class:"card-footer-item button is-loading"},[t("span",{class:"icon"},[t("i",{class:"mdi mdi-web"})]),g(),t("span",{class:"is-size-7"},"Processing ...")],-1),Jh=[Qh],Xh={key:1,class:"card-footer"},Zh=t("span",{class:"icon"},[t("i",{class:"mdi mdi-cancel"})],-1),tp=g(),sp=t("span",{class:"is-size-7"},"Cancel",-1),ep=[Zh,tp,sp],ip=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-plus"})],-1),op=g(),ap=t("span",{class:"is-size-7"},"Add",-1),np=[ip,op,ap];function lp(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",zh,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",Vh,[t("div",Bh,[t("div",Fh,[Mh,t("form",{onSubmit:s[2]||(s[2]=E((...n)=>i.add_stream&&i.add_stream(...n),["prevent"]))},[t("div",jh,[t("p",Gh,[D(t("input",{class:"input is-shadowless",type:"text",placeholder:"http://url-to-rss","onUpdate:modelValue":s[1]||(s[1]=n=>o.url=n),disabled:o.loading,ref:"url_field"},null,8,Hh),[[V,o.url]]),Wh]),Kh])],32)]),o.loading?(l(),_("footer",Yh,Jh)):(l(),_("footer",Xh,[t("a",{class:"card-footer-item has-text-danger",onClick:s[3]||(s[3]=n=>e.$emit("close"))},ep),t("a",{class:"card-footer-item has-background-info has-text-white has-text-weight-bold",onClick:s[4]||(s[4]=(...n)=>i.add_stream&&i.add_stream(...n))},np)]))])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[5]||(s[5]=n=>e.$emit("close"))})])):y("",!0)]),_:1})])}var rp=v(Nh,[["render",lp]]);const dp={name:"ProgressBar",props:["max","value"],computed:{width(){return this.value>0&&this.max>0?parseInt(this.value*100/this.max):0},width_percent(){return this.width+"%"}}};function _p(e,s,a,r,o,i){return i.width>0?(l(),_("div",{key:0,class:"progress-bar mt-2",style:Jt({width:i.width_percent})},null,4)):y("",!0)}var Ds=v(dp,[["render",_p]]);const xt={load:function(e){return Promise.all([f.library_albums("podcast"),f.library_podcasts_new_episodes()])},set:function(e,s){e.albums=s[0].data,e.new_episodes=s[1].data.tracks}},cp={name:"PagePodcasts",components:{ContentWithHeading:U,ListItemTrack:at,ListAlbums:G,ModalDialogTrack:nt,ModalDialogAddRss:rp,ProgressBar:Ds},data(){return{albums:{items:[]},new_episodes:{items:[]},show_url_modal:!1,show_track_details_modal:!1,selected_track:{}}},computed:{rss(){return this.$store.state.rss_count}},methods:{play_track:function(e){f.player_play_uri(e.uri,!1)},open_track_dialog:function(e){this.selected_track=e,this.show_track_details_modal=!0},mark_all_played:function(){this.new_episodes.items.forEach(e=>{f.library_track_update(e.id,{play_count:"increment"})}),this.new_episodes.items={}},open_add_podcast_dialog:function(e){this.show_url_modal=!0},reload_new_episodes:function(){f.library_podcasts_new_episodes().then(({data:e})=>{this.new_episodes=e.tracks})},reload_podcasts:function(){f.library_albums("podcast").then(({data:e})=>{this.albums=e,this.reload_new_episodes()})},update_rss:function(){this.$store.commit(os,"rss"),this.$store.commit(et,!0)}},beforeRouteEnter(e,s,a){xt.load(e).then(r=>{a(o=>xt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;xt.load(e).then(o=>{xt.set(r,o),a()})}},up=t("p",{class:"title is-4"},"New episodes",-1),mp={class:"buttons is-centered"},hp=t("span",{class:"icon"},[t("i",{class:"mdi mdi-pencil"})],-1),pp=t("span",null,"Mark All Played",-1),fp=[hp,pp],yp=["onClick"],gp=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),bp=[gp],kp=t("p",{class:"title is-4"},"Podcasts",-1),wp={class:"heading"},vp={class:"buttons is-centered"},$p=t("span",{class:"icon"},[t("i",{class:"mdi mdi-refresh"})],-1),xp=t("span",null,"Update",-1),Cp=[$p,xp],Ap=t("span",{class:"icon"},[t("i",{class:"mdi mdi-rss"})],-1),Sp=t("span",null,"Add Podcast",-1),qp=[Ap,Sp];function Pp(e,s,a,r,o,i){const n=m("progress-bar"),h=m("list-item-track"),p=m("modal-dialog-track"),w=m("content-with-heading"),b=m("list-albums"),k=m("modal-dialog-add-rss");return l(),_("div",null,[o.new_episodes.items.length>0?(l(),x(w,{key:0},{"heading-left":d(()=>[up]),"heading-right":d(()=>[t("div",mp,[t("a",{class:"button is-small",onClick:s[0]||(s[0]=(...$)=>i.mark_all_played&&i.mark_all_played(...$))},fp)])]),content:d(()=>[(l(!0),_(R,null,L(o.new_episodes.items,$=>(l(),x(h,{key:$.id,track:$,onClick:S=>i.play_track($)},{progress:d(()=>[c(n,{max:$.length_ms,value:$.seek_ms},null,8,["max","value"])]),actions:d(()=>[t("a",{onClick:S=>i.open_track_dialog($)},bp,8,yp)]),_:2},1032,["track","onClick"]))),128)),c(p,{show:o.show_track_details_modal,track:o.selected_track,onClose:s[1]||(s[1]=$=>o.show_track_details_modal=!1),onPlayCountChanged:i.reload_new_episodes},null,8,["show","track","onPlayCountChanged"])]),_:1})):y("",!0),c(w,null,{"heading-left":d(()=>[kp,t("p",wp,u(o.albums.total)+" podcasts",1)]),"heading-right":d(()=>[t("div",vp,[i.rss.tracks>0?(l(),_("a",{key:0,class:"button is-small",onClick:s[2]||(s[2]=(...$)=>i.update_rss&&i.update_rss(...$))},Cp)):y("",!0),t("a",{class:"button is-small",onClick:s[3]||(s[3]=(...$)=>i.open_add_podcast_dialog&&i.open_add_podcast_dialog(...$))},qp)])]),content:d(()=>[c(b,{albums:o.albums.items,onPlayCountChanged:s[4]||(s[4]=$=>i.reload_new_episodes()),onPodcastDeleted:s[5]||(s[5]=$=>i.reload_podcasts())},null,8,["albums"]),c(k,{show:o.show_url_modal,onClose:s[6]||(s[6]=$=>o.show_url_modal=!1),onPodcastAdded:s[7]||(s[7]=$=>i.reload_podcasts())},null,8,["show"])]),_:1})])}var Tp=v(cp,[["render",Pp]]);const Ct={load:function(e){return Promise.all([f.library_album(e.params.album_id),f.library_podcast_episodes(e.params.album_id)])},set:function(e,s){e.album=s[0].data,e.tracks=s[1].data.tracks.items}},Rp={name:"PagePodcast",components:{ContentWithHeading:U,ListItemTrack:at,ModalDialogTrack:nt,ModalDialogAlbum:it,ModalDialog:as,ProgressBar:Ds},data(){return{album:{},tracks:[],show_details_modal:!1,selected_track:{},show_album_details_modal:!1,show_remove_podcast_modal:!1,rss_playlist_to_remove:{}}},computed:{new_tracks(){return this.tracks.filter(e=>e.play_count===0).length}},methods:{play:function(){f.player_play_uri(this.album.uri,!1)},play_track:function(e){f.player_play_uri(e.uri,!1)},open_dialog:function(e){this.selected_track=e,this.show_details_modal=!0},open_remove_podcast_dialog:function(){this.show_album_details_modal=!1,f.library_track_playlists(this.tracks[0].id).then(({data:e})=>{const s=e.items.filter(a=>a.type==="rss");if(s.length!==1){this.$store.dispatch("add_notification",{text:"Podcast cannot be removed. Probably it was not added as an RSS playlist.",type:"danger"});return}this.rss_playlist_to_remove=s[0],this.show_remove_podcast_modal=!0})},remove_podcast:function(){this.show_remove_podcast_modal=!1,f.library_playlist_delete(this.rss_playlist_to_remove.id).then(()=>{this.$router.replace({path:"/podcasts"})})},reload_tracks:function(){f.library_podcast_episodes(this.album.id).then(({data:e})=>{this.tracks=e.tracks.items})}},beforeRouteEnter(e,s,a){Ct.load(e).then(r=>{a(o=>Ct.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;Ct.load(e).then(o=>{Ct.set(r,o),a()})}},Lp={class:"title is-4"},Ip={class:"buttons is-centered"},Up=t("span",{class:"icon"},[t("i",{class:"mdi mdi-dots-horizontal mdi-18px"})],-1),Ep=[Up],Op=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),Dp=t("span",null,"Play",-1),Np=[Op,Dp],zp={class:"heading has-text-centered-mobile"},Vp=["onClick"],Bp=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),Fp=[Bp],Mp=t("p",null,"Permanently remove this podcast from your library?",-1),jp={class:"is-size-7"},Gp=g("(This will also remove the RSS playlist "),Hp=g(".)");function Wp(e,s,a,r,o,i){const n=m("progress-bar"),h=m("list-item-track"),p=m("modal-dialog-track"),w=m("modal-dialog-album"),b=m("modal-dialog"),k=m("content-with-heading");return l(),x(k,null,{"heading-left":d(()=>[t("div",Lp,u(o.album.name),1)]),"heading-right":d(()=>[t("div",Ip,[t("a",{class:"button is-small is-light is-rounded",onClick:s[0]||(s[0]=$=>o.show_album_details_modal=!0)},Ep),t("a",{class:"button is-small is-dark is-rounded",onClick:s[1]||(s[1]=(...$)=>i.play&&i.play(...$))},Np)])]),content:d(()=>[t("p",zp,u(o.album.track_count)+" tracks",1),(l(!0),_(R,null,L(o.tracks,$=>(l(),x(h,{key:$.id,track:$,onClick:S=>i.play_track($)},{progress:d(()=>[c(n,{max:$.length_ms,value:$.seek_ms},null,8,["max","value"])]),actions:d(()=>[t("a",{onClick:E(S=>i.open_dialog($),["prevent","stop"])},Fp,8,Vp)]),_:2},1032,["track","onClick"]))),128)),c(p,{show:o.show_details_modal,track:o.selected_track,onClose:s[2]||(s[2]=$=>o.show_details_modal=!1),onPlayCountChanged:i.reload_tracks},null,8,["show","track","onPlayCountChanged"]),c(w,{show:o.show_album_details_modal,album:o.album,media_kind:"podcast",new_tracks:i.new_tracks,onClose:s[3]||(s[3]=$=>o.show_album_details_modal=!1),onPlayCountChanged:i.reload_tracks,onRemovePodcast:i.open_remove_podcast_dialog},null,8,["show","album","new_tracks","onPlayCountChanged","onRemovePodcast"]),c(b,{show:o.show_remove_podcast_modal,title:"Remove podcast",delete_action:"Remove",onClose:s[4]||(s[4]=$=>o.show_remove_podcast_modal=!1),onDelete:i.remove_podcast},{"modal-content":d(()=>[Mp,t("p",jp,[Gp,t("b",null,u(o.rss_playlist_to_remove.name),1),Hp])]),_:1},8,["show","onDelete"])]),_:1})}var Kp=v(Rp,[["render",Wp]]);const Yp={name:"TabsAudiobooks"},Qp={class:"section fd-tabs-section"},Jp={class:"container"},Xp={class:"columns is-centered"},Zp={class:"column is-four-fifths"},tf={class:"tabs is-centered is-small"},sf=["onClick","onKeypress"],ef=t("span",{class:"icon is-small"},[t("i",{class:"mdi mdi-artist"})],-1),of=t("span",{class:""},"Authors",-1),af=[ef,of],nf=["onClick","onKeypress"],lf=t("span",{class:"icon is-small"},[t("i",{class:"mdi mdi-album"})],-1),rf=t("span",{class:""},"Audiobooks",-1),df=[lf,rf];function _f(e,s,a,r,o,i){const n=m("router-link");return l(),_("section",Qp,[t("div",Jp,[t("div",Xp,[t("div",Zp,[t("div",tf,[t("ul",null,[c(n,{to:"/audiobooks/artists",custom:""},{default:d(({navigate:h,isActive:p})=>[t("li",{class:A({"is-active":p})},[t("a",{onClick:h,onKeypress:z(h,["enter"])},af,40,sf)],2)]),_:1}),c(n,{to:"/audiobooks/albums",custom:""},{default:d(({navigate:h,isActive:p})=>[t("li",{class:A({"is-active":p})},[t("a",{onClick:h,onKeypress:z(h,["enter"])},df,40,nf)],2)]),_:1})])])])])])])}var Ns=v(Yp,[["render",_f]]);const At={load:function(e){return f.library_albums("audiobook")},set:function(e,s){e.albums=s.data}},cf={name:"PageAudiobooksAlbums",components:{TabsAudiobooks:Ns,ContentWithHeading:U,IndexButtonList:W,ListAlbums:G},data(){return{albums:{items:[]}}},computed:{albums_list(){return new ot(this.albums.items,{sort:"Name",group:!0})}},methods:{},beforeRouteEnter(e,s,a){At.load(e).then(r=>{a(o=>At.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;At.load(e).then(o=>{At.set(r,o),a()})}},uf={class:"fd-page-with-tabs"},mf=t("p",{class:"title is-4"},"Audiobooks",-1),hf={class:"heading"};function pf(e,s,a,r,o,i){const n=m("tabs-audiobooks"),h=m("index-button-list"),p=m("list-albums"),w=m("content-with-heading");return l(),_("div",uf,[c(n),c(w,null,{options:d(()=>[c(h,{index:i.albums_list.indexList},null,8,["index"])]),"heading-left":d(()=>[mf,t("p",hf,u(i.albums_list.sortedAndFiltered.length)+" Audiobooks",1)]),content:d(()=>[c(p,{albums:i.albums_list},null,8,["albums"])]),_:1})])}var ff=v(cf,[["render",pf]]);const St={load:function(e){return f.library_artists("audiobook")},set:function(e,s){e.artists=s.data}},yf={name:"PageAudiobooksArtists",components:{ContentWithHeading:U,TabsAudiobooks:Ns,IndexButtonList:W,ListArtists:ls},data(){return{artists:{items:[]}}},computed:{artists_list(){return new ns(this.artists.items,{sort:"Name",group:!0})}},methods:{},beforeRouteEnter(e,s,a){St.load(e).then(r=>{a(o=>St.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;St.load(e).then(o=>{St.set(r,o),a()})}},gf={class:"fd-page-with-tabs"},bf=t("p",{class:"title is-4"},"Authors",-1),kf={class:"heading"};function wf(e,s,a,r,o,i){const n=m("tabs-audiobooks"),h=m("index-button-list"),p=m("list-artists"),w=m("content-with-heading");return l(),_("div",gf,[c(n),c(w,null,{options:d(()=>[c(h,{index:i.artists_list.indexList},null,8,["index"])]),"heading-left":d(()=>[bf,t("p",kf,u(i.artists_list.sortedAndFiltered.length)+" Authors",1)]),"heading-right":d(()=>[]),content:d(()=>[c(p,{artists:i.artists_list},null,8,["artists"])]),_:1})])}var vf=v(yf,[["render",wf]]);const qt={load:function(e){return Promise.all([f.library_artist(e.params.artist_id),f.library_artist_albums(e.params.artist_id)])},set:function(e,s){e.artist=s[0].data,e.albums=s[1].data}},$f={name:"PageAudiobooksArtist",components:{ContentWithHeading:U,ListAlbums:G,ModalDialogArtist:Mt},data(){return{artist:{},albums:{},show_artist_details_modal:!1}},methods:{play:function(){f.player_play_uri(this.albums.items.map(e=>e.uri).join(","),!1)}},beforeRouteEnter(e,s,a){qt.load(e).then(r=>{a(o=>qt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;qt.load(e).then(o=>{qt.set(r,o),a()})}},xf={class:"title is-4"},Cf={class:"buttons is-centered"},Af=t("span",{class:"icon"},[t("i",{class:"mdi mdi-dots-horizontal mdi-18px"})],-1),Sf=[Af],qf=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),Pf=g(),Tf=t("span",null,"Shuffle",-1),Rf=[qf,Pf,Tf],Lf={class:"heading has-text-centered-mobile"};function If(e,s,a,r,o,i){const n=m("list-albums"),h=m("modal-dialog-artist"),p=m("content-with-heading");return l(),x(p,null,{"heading-left":d(()=>[t("p",xf,u(o.artist.name),1)]),"heading-right":d(()=>[t("div",Cf,[t("a",{class:"button is-small is-light is-rounded",onClick:s[0]||(s[0]=w=>o.show_artist_details_modal=!0)},Sf),t("a",{class:"button is-small is-dark is-rounded",onClick:s[1]||(s[1]=(...w)=>i.play&&i.play(...w))},Rf)])]),content:d(()=>[t("p",Lf,u(o.artist.album_count)+" albums",1),c(n,{albums:o.albums.items},null,8,["albums"]),c(h,{show:o.show_artist_details_modal,artist:o.artist,onClose:s[2]||(s[2]=w=>o.show_artist_details_modal=!1)},null,8,["show","artist"])]),_:1})}var Uf=v($f,[["render",If]]);const Pt={load:function(e){return Promise.all([f.library_album(e.params.album_id),f.library_album_tracks(e.params.album_id)])},set:function(e,s){e.album=s[0].data,e.tracks=s[1].data.items}},Ef={name:"PageAudiobooksAlbum",components:{ContentWithHero:ds,ListTracks:H,ModalDialogAlbum:it,CoverArtwork:M},data(){return{album:{},tracks:[],show_album_details_modal:!1}},methods:{open_artist:function(){this.show_details_modal=!1,this.$router.push({path:"/audiobooks/artists/"+this.album.artist_id})},play:function(){f.player_play_uri(this.album.uri,!1)},play_track:function(e){f.player_play_uri(this.album.uri,!1,e)},open_dialog:function(e){this.selected_track=e,this.show_details_modal=!0}},beforeRouteEnter(e,s,a){Pt.load(e).then(r=>{a(o=>Pt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;Pt.load(e).then(o=>{Pt.set(r,o),a()})}},Of={class:"title is-5"},Df={class:"subtitle is-6 has-text-link has-text-weight-normal"},Nf={class:"buttons fd-is-centered-mobile fd-has-margin-top"},zf=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),Vf=g(),Bf=t("span",null,"Play",-1),Ff=[zf,Vf,Bf],Mf=t("span",{class:"icon"},[t("i",{class:"mdi mdi-dots-horizontal mdi-18px"})],-1),jf=[Mf],Gf={class:"image is-square fd-has-shadow fd-has-action"},Hf={class:"heading is-7 has-text-centered-mobile fd-has-margin-top"};function Wf(e,s,a,r,o,i){const n=m("cover-artwork"),h=m("list-tracks"),p=m("modal-dialog-album"),w=m("content-with-hero");return l(),x(w,null,{"heading-left":d(()=>[t("h1",Of,u(o.album.name),1),t("h2",Df,[t("a",{class:"has-text-link",onClick:s[0]||(s[0]=(...b)=>i.open_artist&&i.open_artist(...b))},u(o.album.artist),1)]),t("div",Nf,[t("a",{class:"button is-small is-dark is-rounded",onClick:s[1]||(s[1]=(...b)=>i.play&&i.play(...b))},Ff),t("a",{class:"button is-small is-light is-rounded",onClick:s[2]||(s[2]=b=>o.show_album_details_modal=!0)},jf)])]),"heading-right":d(()=>[t("p",Gf,[c(n,{artwork_url:o.album.artwork_url,artist:o.album.artist,album:o.album.name,onClick:s[3]||(s[3]=b=>o.show_album_details_modal=!0)},null,8,["artwork_url","artist","album"])])]),content:d(()=>[t("p",Hf,u(o.album.track_count)+" tracks",1),c(h,{tracks:o.tracks,uris:o.album.uri},null,8,["tracks","uris"]),c(p,{show:o.show_album_details_modal,album:o.album,media_kind:"audiobook",onClose:s[4]||(s[4]=b=>o.show_album_details_modal=!1)},null,8,["show","album"])]),_:1})}var Kf=v(Ef,[["render",Wf]]);const Yf={name:"ListItemPlaylist",props:["playlist"]},Qf={class:"media"},Jf={key:0,class:"media-left fd-has-action"},Xf={class:"media-content fd-has-action is-clipped"},Zf={class:"title is-6"},ty={class:"media-right"};function sy(e,s,a,r,o,i){return l(),_("div",Qf,[e.$slots.icon?(l(),_("figure",Jf,[I(e.$slots,"icon")])):y("",!0),t("div",Xf,[t("h1",Zf,u(a.playlist.name),1)]),t("div",ty,[I(e.$slots,"actions")])])}var zs=v(Yf,[["render",sy]]);const ey={name:"ModalDialogPlaylist",props:["show","playlist","uris"],methods:{play:function(){this.$emit("close"),f.player_play_uri(this.uris?this.uris:this.playlist.uri,!1)},queue_add:function(){this.$emit("close"),f.queue_add(this.uris?this.uris:this.playlist.uri)},queue_add_next:function(){this.$emit("close"),f.queue_add_next(this.uris?this.uris:this.playlist.uri)},open_playlist:function(){this.$emit("close"),this.$router.push({path:"/playlists/"+this.playlist.id+"/tracks"})}}},iy={key:0,class:"modal is-active"},oy={class:"modal-content fd-modal-card"},ay={class:"card"},ny={class:"card-content"},ly={class:"title is-4"},ry={class:"content is-small"},dy=t("span",{class:"heading"},"Path",-1),_y={class:"title is-6"},cy=t("span",{class:"heading"},"Type",-1),uy={class:"title is-6"},my={key:0,class:"card-footer"},hy=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-plus"})],-1),py=g(),fy=t("span",{class:"is-size-7"},"Add",-1),yy=[hy,py,fy],gy=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-play"})],-1),by=g(),ky=t("span",{class:"is-size-7"},"Add Next",-1),wy=[gy,by,ky],vy=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),$y=g(),xy=t("span",{class:"is-size-7"},"Play",-1),Cy=[vy,$y,xy];function Ay(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",iy,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",oy,[t("div",ay,[t("div",ny,[t("p",ly,[t("a",{class:"has-text-link",onClick:s[1]||(s[1]=(...n)=>i.open_playlist&&i.open_playlist(...n))},u(a.playlist.name),1)]),t("div",ry,[t("p",null,[dy,t("span",_y,u(a.playlist.path),1)]),t("p",null,[cy,t("span",uy,u(a.playlist.type),1)])])]),a.playlist.folder?y("",!0):(l(),_("footer",my,[t("a",{class:"card-footer-item has-text-dark",onClick:s[2]||(s[2]=(...n)=>i.queue_add&&i.queue_add(...n))},yy),t("a",{class:"card-footer-item has-text-dark",onClick:s[3]||(s[3]=(...n)=>i.queue_add_next&&i.queue_add_next(...n))},wy),t("a",{class:"card-footer-item has-text-dark",onClick:s[4]||(s[4]=(...n)=>i.play&&i.play(...n))},Cy)]))])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[5]||(s[5]=n=>e.$emit("close"))})])):y("",!0)]),_:1})])}var us=v(ey,[["render",Ay]]);const Sy={name:"ListPlaylists",components:{ListItemPlaylist:zs,ModalDialogPlaylist:us},props:["playlists"],data(){return{show_details_modal:!1,selected_playlist:{}}},methods:{open_playlist:function(e){e.type!=="folder"?this.$router.push({path:"/playlists/"+e.id+"/tracks"}):this.$router.push({path:"/playlists/"+e.id})},open_dialog:function(e){this.selected_playlist=e,this.show_details_modal=!0}}},qy={class:"icon"},Py=["onClick"],Ty=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),Ry=[Ty];function Ly(e,s,a,r,o,i){const n=m("list-item-playlist"),h=m("modal-dialog-playlist");return l(),_("div",null,[(l(!0),_(R,null,L(a.playlists,p=>(l(),x(n,{key:p.id,playlist:p,onClick:w=>i.open_playlist(p)},{icon:d(()=>[t("span",qy,[t("i",{class:A(["mdi",{"mdi-library-music":p.type!=="folder","mdi-rss":p.type==="rss","mdi-folder":p.type==="folder"}])},null,2)])]),actions:d(()=>[t("a",{onClick:E(w=>i.open_dialog(p),["prevent","stop"])},Ry,8,Py)]),_:2},1032,["playlist","onClick"]))),128)),c(h,{show:o.show_details_modal,playlist:o.selected_playlist,onClose:s[0]||(s[0]=p=>o.show_details_modal=!1)},null,8,["show","playlist"])])}var Vs=v(Sy,[["render",Ly]]);const Tt={load:function(e){return Promise.all([f.library_playlist(e.params.playlist_id),f.library_playlist_folder(e.params.playlist_id)])},set:function(e,s){e.playlist=s[0].data,e.playlists=s[1].data}},Iy={name:"PagePlaylists",components:{ContentWithHeading:U,ListPlaylists:Vs},data(){return{playlist:{},playlists:{}}},beforeRouteEnter(e,s,a){Tt.load(e).then(r=>{a(o=>Tt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;Tt.load(e).then(o=>{Tt.set(r,o),a()})}},Uy={class:"title is-4"},Ey={class:"heading"};function Oy(e,s,a,r,o,i){const n=m("list-playlists"),h=m("content-with-heading");return l(),x(h,null,{"heading-left":d(()=>[t("p",Uy,u(o.playlist.name),1),t("p",Ey,u(o.playlists.total)+" playlists",1)]),content:d(()=>[c(n,{playlists:o.playlists.items},null,8,["playlists"])]),_:1})}var Dy=v(Iy,[["render",Oy]]);const Rt={load:function(e){return Promise.all([f.library_playlist(e.params.playlist_id),f.library_playlist_tracks(e.params.playlist_id)])},set:function(e,s){e.playlist=s[0].data,e.tracks=s[1].data.items}},Ny={name:"PagePlaylist",components:{ContentWithHeading:U,ListTracks:H,ModalDialogPlaylist:us},data(){return{playlist:{},tracks:[],show_playlist_details_modal:!1}},computed:{uris(){return this.playlist.random?this.tracks.map(e=>e.uri).join(","):this.playlist.uri}},methods:{play:function(){f.player_play_uri(this.uris,!0)}},beforeRouteEnter(e,s,a){Rt.load(e).then(r=>{a(o=>Rt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;Rt.load(e).then(o=>{Rt.set(r,o),a()})}},zy={class:"title is-4"},Vy={class:"buttons is-centered"},By=t("span",{class:"icon"},[t("i",{class:"mdi mdi-dots-horizontal mdi-18px"})],-1),Fy=[By],My=t("span",{class:"icon"},[t("i",{class:"mdi mdi-shuffle"})],-1),jy=g(),Gy=t("span",null,"Shuffle",-1),Hy=[My,jy,Gy],Wy={class:"heading has-text-centered-mobile"};function Ky(e,s,a,r,o,i){const n=m("list-tracks"),h=m("modal-dialog-playlist"),p=m("content-with-heading");return l(),x(p,null,{"heading-left":d(()=>[t("div",zy,u(o.playlist.name),1)]),"heading-right":d(()=>[t("div",Vy,[t("a",{class:"button is-small is-light is-rounded",onClick:s[0]||(s[0]=w=>o.show_playlist_details_modal=!0)},Fy),t("a",{class:"button is-small is-dark is-rounded",onClick:s[1]||(s[1]=(...w)=>i.play&&i.play(...w))},Hy)])]),content:d(()=>[t("p",Wy,u(o.tracks.length)+" tracks",1),c(n,{tracks:o.tracks,uris:i.uris},null,8,["tracks","uris"]),c(h,{show:o.show_playlist_details_modal,playlist:o.playlist,uris:i.uris,onClose:s[2]||(s[2]=w=>o.show_playlist_details_modal=!1)},null,8,["show","playlist","uris"])]),_:1})}var Yy=v(Ny,[["render",Ky]]);const Qy={name:"ListItemDirectory",props:["directory"]},Jy={class:"media"},Xy=t("figure",{class:"media-left fd-has-action"},[t("span",{class:"icon"},[t("i",{class:"mdi mdi-folder"})])],-1),Zy={class:"media-content fd-has-action is-clipped"},tg={class:"title is-6"},sg={class:"subtitle is-7 has-text-grey-light"},eg={class:"media-right"};function ig(e,s,a,r,o,i){return l(),_("div",Jy,[Xy,t("div",Zy,[t("h1",tg,u(a.directory.path.substring(a.directory.path.lastIndexOf("/")+1)),1),t("h2",sg,u(a.directory.path),1)]),t("div",eg,[I(e.$slots,"actions")])])}var og=v(Qy,[["render",ig]]);const ag={name:"ModalDialogDirectory",props:["show","directory"],methods:{play:function(){this.$emit("close"),f.player_play_expression('path starts with "'+this.directory.path+'" order by path asc',!1)},queue_add:function(){this.$emit("close"),f.queue_expression_add('path starts with "'+this.directory.path+'" order by path asc')},queue_add_next:function(){this.$emit("close"),f.queue_expression_add_next('path starts with "'+this.directory.path+'" order by path asc')}}},ng={key:0,class:"modal is-active"},lg={class:"modal-content fd-modal-card"},rg={class:"card"},dg={class:"card-content"},_g={class:"title is-4"},cg={class:"card-footer"},ug=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-plus"})],-1),mg=g(),hg=t("span",{class:"is-size-7"},"Add",-1),pg=[ug,mg,hg],fg=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-play"})],-1),yg=g(),gg=t("span",{class:"is-size-7"},"Add Next",-1),bg=[fg,yg,gg],kg=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),wg=g(),vg=t("span",{class:"is-size-7"},"Play",-1),$g=[kg,wg,vg];function xg(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",ng,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",lg,[t("div",rg,[t("div",dg,[t("p",_g,u(a.directory.path),1)]),t("footer",cg,[t("a",{class:"card-footer-item has-text-dark",onClick:s[1]||(s[1]=(...n)=>i.queue_add&&i.queue_add(...n))},pg),t("a",{class:"card-footer-item has-text-dark",onClick:s[2]||(s[2]=(...n)=>i.queue_add_next&&i.queue_add_next(...n))},bg),t("a",{class:"card-footer-item has-text-dark",onClick:s[3]||(s[3]=(...n)=>i.play&&i.play(...n))},$g)])])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[4]||(s[4]=n=>e.$emit("close"))})])):y("",!0)]),_:1})])}var Cg=v(ag,[["render",xg]]);const Lt={load:function(e){return e.query.directory?f.library_files(e.query.directory):Promise.resolve()},set:function(e,s){s?e.files=s.data:e.files={directories:e.$store.state.config.directories.map(a=>({path:a})),tracks:{items:[]},playlists:{items:[]}}}},Ag={name:"PageFiles",components:{ContentWithHeading:U,ListItemDirectory:og,ListItemPlaylist:zs,ListItemTrack:at,ModalDialogDirectory:Cg,ModalDialogPlaylist:us,ModalDialogTrack:nt},data(){return{files:{directories:[],tracks:{items:[]},playlists:{items:[]}},show_directory_details_modal:!1,selected_directory:{},show_playlist_details_modal:!1,selected_playlist:{},show_track_details_modal:!1,selected_track:{}}},computed:{current_directory(){return this.$route.query&&this.$route.query.directory?this.$route.query.directory:"/"}},methods:{open_parent_directory:function(){this.current_directory.slice(0,this.current_directory.lastIndexOf("/"))===""||this.$store.state.config.directories.includes(this.current_directory)?this.$router.push({path:"/files"}):this.$router.push({path:"/files",query:{directory:this.current_directory.slice(0,this.current_directory.lastIndexOf("/"))}})},open_directory:function(e){this.$router.push({path:"/files",query:{directory:e.path}})},open_directory_dialog:function(e){this.selected_directory=e,this.show_directory_details_modal=!0},play:function(){f.player_play_expression('path starts with "'+this.current_directory+'" order by path asc',!1)},play_track:function(e){f.player_play_uri(this.files.tracks.items.map(s=>s.uri).join(","),!1,e)},open_track_dialog:function(e){this.selected_track=e,this.show_track_details_modal=!0},open_playlist:function(e){this.$router.push({path:"/playlists/"+e.id+"/tracks"})},open_playlist_dialog:function(e){this.selected_playlist=e,this.show_playlist_details_modal=!0}},beforeRouteEnter(e,s,a){Lt.load(e).then(r=>{a(o=>Lt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;Lt.load(e).then(o=>{Lt.set(r,o),a()})}},Sg=t("p",{class:"title is-4"},"Files",-1),qg={class:"title is-7 has-text-grey"},Pg={class:"buttons is-centered"},Tg=t("span",{class:"icon"},[t("i",{class:"mdi mdi-dots-horizontal mdi-18px"})],-1),Rg=[Tg],Lg=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),Ig=g(),Ug=t("span",null,"Play",-1),Eg=[Lg,Ig,Ug],Og=t("figure",{class:"media-left fd-has-action"},[t("span",{class:"icon"},[t("i",{class:"mdi mdi-subdirectory-arrow-left"})])],-1),Dg=t("div",{class:"media-content fd-has-action is-clipped"},[t("h1",{class:"title is-6"},"..")],-1),Ng={class:"media-right"},zg=["onClick"],Vg=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),Bg=[Vg],Fg=t("span",{class:"icon"},[t("i",{class:"mdi mdi-library-music"})],-1),Mg=["onClick"],jg=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),Gg=[jg],Hg=t("span",{class:"icon"},[t("i",{class:"mdi mdi-file-outline"})],-1),Wg=["onClick"],Kg=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),Yg=[Kg];function Qg(e,s,a,r,o,i){const n=m("list-item-directory"),h=m("list-item-playlist"),p=m("list-item-track"),w=m("modal-dialog-directory"),b=m("modal-dialog-playlist"),k=m("modal-dialog-track"),$=m("content-with-heading");return l(),_("div",null,[c($,null,{"heading-left":d(()=>[Sg,t("p",qg,u(i.current_directory),1)]),"heading-right":d(()=>[t("div",Pg,[t("a",{class:"button is-small is-light is-rounded",onClick:s[0]||(s[0]=S=>i.open_directory_dialog({path:i.current_directory}))},Rg),t("a",{class:"button is-small is-dark is-rounded",onClick:s[1]||(s[1]=(...S)=>i.play&&i.play(...S))},Eg)])]),content:d(()=>[e.$route.query.directory?(l(),_("div",{key:0,class:"media",onClick:s[2]||(s[2]=S=>i.open_parent_directory())},[Og,Dg,t("div",Ng,[I(e.$slots,"actions")])])):y("",!0),(l(!0),_(R,null,L(o.files.directories,S=>(l(),x(n,{key:S.path,directory:S,onClick:q=>i.open_directory(S)},{actions:d(()=>[t("a",{onClick:q=>i.open_directory_dialog(S)},Bg,8,zg)]),_:2},1032,["directory","onClick"]))),128)),(l(!0),_(R,null,L(o.files.playlists.items,S=>(l(),x(h,{key:S.id,playlist:S,onClick:q=>i.open_playlist(S)},{icon:d(()=>[Fg]),actions:d(()=>[t("a",{onClick:q=>i.open_playlist_dialog(S)},Gg,8,Mg)]),_:2},1032,["playlist","onClick"]))),128)),(l(!0),_(R,null,L(o.files.tracks.items,(S,q)=>(l(),x(p,{key:S.id,track:S,onClick:F=>i.play_track(q)},{icon:d(()=>[Hg]),actions:d(()=>[t("a",{onClick:F=>i.open_track_dialog(S)},Yg,8,Wg)]),_:2},1032,["track","onClick"]))),128)),c(w,{show:o.show_directory_details_modal,directory:o.selected_directory,onClose:s[3]||(s[3]=S=>o.show_directory_details_modal=!1)},null,8,["show","directory"]),c(b,{show:o.show_playlist_details_modal,playlist:o.selected_playlist,onClose:s[4]||(s[4]=S=>o.show_playlist_details_modal=!1)},null,8,["show","playlist"]),c(k,{show:o.show_track_details_modal,track:o.selected_track,onClose:s[5]||(s[5]=S=>o.show_track_details_modal=!1)},null,8,["show","track"])]),_:3})])}var Jg=v(Ag,[["render",Qg]]);const It={load:function(e){return f.library_radio_streams()},set:function(e,s){e.tracks=s.data.tracks}},Xg={name:"PageRadioStreams",components:{ContentWithHeading:U,ListTracks:H},data(){return{tracks:{items:[]}}},beforeRouteEnter(e,s,a){It.load(e).then(r=>{a(o=>It.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;It.load(e).then(o=>{It.set(r,o),a()})}},Zg=t("p",{class:"title is-4"},"Radio",-1),tb={class:"heading has-text-centered-mobile"};function sb(e,s,a,r,o,i){const n=m("list-tracks"),h=m("content-with-heading");return l(),_("div",null,[c(h,null,{"heading-left":d(()=>[Zg]),content:d(()=>[t("p",tb,u(o.tracks.total)+" tracks",1),c(n,{tracks:o.tracks.items},null,8,["tracks"])]),_:1})])}var eb=v(Xg,[["render",sb]]);const ib={name:"ContentText"},ob={class:"section fd-content py-3"},ab={class:"container"},nb={class:"columns is-centered"},lb={class:"column is-four-fifths"};function rb(e,s,a,r,o,i){return l(),_("section",ob,[t("div",ab,[t("div",nb,[t("div",lb,[I(e.$slots,"content")])])])])}var Bs=v(ib,[["render",rb]]);const db={name:"TabsSearch",props:["query"],computed:{spotify_enabled(){return this.$store.state.spotify.webapi_token_valid},route_query:function(){return this.query?{type:"track,artist,album,playlist,audiobook,podcast",query:this.query,limit:3,offset:0}:null}},methods:{search_library:function(){this.$router.push({path:"/search/library",query:this.route_query})},search_spotify:function(){this.$router.push({path:"/search/spotify",query:this.route_query})}}},_b={key:0,class:"section fd-remove-padding-bottom"},cb={class:"container"},ub={class:"columns is-centered"},mb={class:"column is-four-fifths"},hb={class:"tabs is-centered is-small is-toggle is-toggle-rounded"},pb=t("span",{class:"icon is-small"},[t("i",{class:"mdi mdi-library-books"})],-1),fb=t("span",{class:""},"Library",-1),yb=[pb,fb],gb=t("span",{class:"icon is-small"},[t("i",{class:"mdi mdi-spotify"})],-1),bb=t("span",{class:""},"Spotify",-1),kb=[gb,bb];function wb(e,s,a,r,o,i){return i.spotify_enabled?(l(),_("section",_b,[t("div",cb,[t("div",ub,[t("div",mb,[t("div",hb,[t("ul",null,[t("li",{class:A({"is-active":e.$route.path==="/search/library"})},[t("a",{onClick:s[0]||(s[0]=(...n)=>i.search_library&&i.search_library(...n))},yb)],2),t("li",{class:A({"is-active":e.$route.path==="/search/spotify"})},[t("a",{onClick:s[1]||(s[1]=(...n)=>i.search_spotify&&i.search_spotify(...n))},kb)],2)])])])])])])):y("",!0)}var Fs=v(db,[["render",wb]]);const vb={name:"PageSearch",components:{ContentWithHeading:U,ContentText:Bs,TabsSearch:Fs,ListTracks:H,ListArtists:ls,ListAlbums:G,ListPlaylists:Vs,ListComposers:Os},data(){return{search_query:"",tracks:{items:[],total:0},artists:{items:[],total:0},albums:{items:[],total:0},composers:{items:[],total:0},playlists:{items:[],total:0},audiobooks:{items:[],total:0},podcasts:{items:[],total:0}}},computed:{recent_searches(){return this.$store.state.recent_searches},show_tracks(){return this.$route.query.type&&this.$route.query.type.includes("track")},show_all_tracks_button(){return this.tracks.total>this.tracks.items.length},show_artists(){return this.$route.query.type&&this.$route.query.type.includes("artist")},show_all_artists_button(){return this.artists.total>this.artists.items.length},show_albums(){return this.$route.query.type&&this.$route.query.type.includes("album")},show_all_albums_button(){return this.albums.total>this.albums.items.length},show_composers(){return this.$route.query.type&&this.$route.query.type.includes("composer")},show_all_composers_button(){return this.composers.total>this.composers.items.length},show_playlists(){return this.$route.query.type&&this.$route.query.type.includes("playlist")},show_all_playlists_button(){return this.playlists.total>this.playlists.items.length},show_audiobooks(){return this.$route.query.type&&this.$route.query.type.includes("audiobook")},show_all_audiobooks_button(){return this.audiobooks.total>this.audiobooks.items.length},show_podcasts(){return this.$route.query.type&&this.$route.query.type.includes("podcast")},show_all_podcasts_button(){return this.podcasts.total>this.podcasts.items.length},is_visible_artwork(){return this.$store.getters.settings_option("webinterface","show_cover_artwork_in_album_lists").value}},methods:{search:function(e){if(!e.query.query||e.query.query===""){this.search_query="",this.$refs.search_field.focus();return}this.search_query=e.query.query,this.searchMusic(e.query),this.searchAudiobooks(e.query),this.searchPodcasts(e.query),this.$store.commit(es,e.query.query)},searchMusic:function(e){if(e.type.indexOf("track")<0&&e.type.indexOf("artist")<0&&e.type.indexOf("album")<0&&e.type.indexOf("playlist")<0)return;const s={type:e.type,media_kind:"music"};e.query.startsWith("query:")?s.expression=e.query.replace(/^query:/,"").trim():s.query=e.query,e.limit&&(s.limit=e.limit,s.offset=e.offset),f.search(s).then(({data:a})=>{this.tracks=a.tracks?a.tracks:{items:[],total:0},this.artists=a.artists?a.artists:{items:[],total:0},this.albums=a.albums?a.albums:{items:[],total:0},this.composers=a.composers?a.composers:{items:[],total:0},this.playlists=a.playlists?a.playlists:{items:[],total:0}})},searchAudiobooks:function(e){if(e.type.indexOf("audiobook")<0)return;const s={type:"album",media_kind:"audiobook"};e.query.startsWith("query:")?s.expression=e.query.replace(/^query:/,"").trim():s.expression='((album includes "'+e.query+'" or artist includes "'+e.query+'") and media_kind is audiobook)',e.limit&&(s.limit=e.limit,s.offset=e.offset),f.search(s).then(({data:a})=>{this.audiobooks=a.albums?a.albums:{items:[],total:0}})},searchPodcasts:function(e){if(e.type.indexOf("podcast")<0)return;const s={type:"album",media_kind:"podcast"};e.query.startsWith("query:")?s.expression=e.query.replace(/^query:/,"").trim():s.expression='((album includes "'+e.query+'" or artist includes "'+e.query+'") and media_kind is podcast)',e.limit&&(s.limit=e.limit,s.offset=e.offset),f.search(s).then(({data:a})=>{this.podcasts=a.albums?a.albums:{items:[],total:0}})},new_search:function(){!this.search_query||(this.$router.push({path:"/search/library",query:{type:"track,artist,album,playlist,audiobook,podcast,composer",query:this.search_query,limit:3,offset:0}}),this.$refs.search_field.blur())},open_search_tracks:function(){this.$router.push({path:"/search/library",query:{type:"track",query:this.$route.query.query}})},open_search_artists:function(){this.$router.push({path:"/search/library",query:{type:"artist",query:this.$route.query.query}})},open_search_albums:function(){this.$router.push({path:"/search/library",query:{type:"album",query:this.$route.query.query}})},open_search_composers:function(){this.$router.push({path:"/search/library",query:{type:"tracks",query:this.$route.query.query}})},open_search_playlists:function(){this.$router.push({path:"/search/library",query:{type:"playlist",query:this.$route.query.query}})},open_search_audiobooks:function(){this.$router.push({path:"/search/library",query:{type:"audiobook",query:this.$route.query.query}})},open_search_podcasts:function(){this.$router.push({path:"/search/library",query:{type:"podcast",query:this.$route.query.query}})},open_composer:function(e){this.$router.push({name:"ComposerAlbums",params:{composer:e.name}})},open_playlist:function(e){this.$router.push({path:"/playlists/"+e.id+"/tracks"})},open_recent_search:function(e){this.search_query=e,this.new_search()},open_track_dialog:function(e){this.selected_track=e,this.show_track_details_modal=!0},open_album_dialog:function(e){this.selected_album=e,this.show_album_details_modal=!0},open_artist_dialog:function(e){this.selected_artist=e,this.show_artist_details_modal=!0},open_composer_dialog:function(e){this.selected_composer=e,this.show_composer_details_modal=!0},open_playlist_dialog:function(e){this.selected_playlist=e,this.show_playlist_details_modal=!0}},mounted:function(){this.search(this.$route)},watch:{$route(e,s){this.search(e)}}},$b={class:"section fd-remove-padding-bottom"},xb={class:"container"},Cb={class:"columns is-centered"},Ab={class:"column is-four-fifths"},Sb={class:"field"},qb={class:"control is-expanded has-icons-left"},Pb=t("span",{class:"icon is-left"},[t("i",{class:"mdi mdi-magnify"})],-1),Tb=t("p",{class:"help has-text-centered"},[g("Tip: you can search by a smart playlist query language "),t("a",{href:"https://github.com/owntone/owntone-server/blob/master/README_SMARTPL.md",target:"_blank"},"expression"),g(" if you prefix it with "),t("code",null,"query:"),g(". ")],-1),Rb={class:"tags",style:{"margin-top":"16px"}},Lb=["onClick"],Ib=t("p",{class:"title is-4"},"Tracks",-1),Ub={key:0,class:"level"},Eb={class:"level-item"},Ob=t("p",null,[t("i",null,"No tracks found")],-1),Db=t("p",{class:"title is-4"},"Artists",-1),Nb={key:0,class:"level"},zb={class:"level-item"},Vb=t("p",null,[t("i",null,"No artists found")],-1),Bb=t("p",{class:"title is-4"},"Albums",-1),Fb={key:0,class:"level"},Mb={class:"level-item"},jb=t("p",null,[t("i",null,"No albums found")],-1),Gb=t("template",{"slot:heading-left":""},[t("p",{class:"title is-4"},"Composers")],-1),Hb={"slot:content":""},Wb={"slot:footer":""},Kb={key:0,class:"level"},Yb={class:"level-item"},Qb=t("template",{"slot:content":""},[t("p",null,[t("i",null,"No composers found")])],-1),Jb=t("p",{class:"title is-4"},"Playlists",-1),Xb={key:0,class:"level"},Zb={class:"level-item"},t1=t("p",null,[t("i",null,"No playlists found")],-1),s1=t("p",{class:"title is-4"},"Podcasts",-1),e1={key:0,class:"level"},i1={class:"level-item"},o1=t("p",null,[t("i",null,"No podcasts found")],-1),a1=t("p",{class:"title is-4"},"Audiobooks",-1),n1={key:0,class:"level"},l1={class:"level-item"},r1=t("p",null,[t("i",null,"No audiobooks found")],-1);function d1(e,s,a,r,o,i){const n=m("tabs-search"),h=m("list-tracks"),p=m("content-with-heading"),w=m("content-text"),b=m("list-artists"),k=m("list-albums"),$=m("list-composers"),S=m("list-playlists");return l(),_("div",null,[t("section",$b,[t("div",xb,[t("div",Cb,[t("div",Ab,[t("form",{onSubmit:s[1]||(s[1]=E((...q)=>i.new_search&&i.new_search(...q),["prevent"]))},[t("div",Sb,[t("p",qb,[D(t("input",{class:"input is-rounded is-shadowless",type:"text",placeholder:"Search","onUpdate:modelValue":s[0]||(s[0]=q=>o.search_query=q),ref:"search_field",autocomplete:"off"},null,512),[[V,o.search_query]]),Pb]),Tb])],32),t("div",Rb,[(l(!0),_(R,null,L(i.recent_searches,q=>(l(),_("a",{class:"tag",key:q,onClick:F=>i.open_recent_search(q)},u(q),9,Lb))),128))])])])])]),c(n,{query:o.search_query},null,8,["query"]),i.show_tracks&&o.tracks.total?(l(),x(p,{key:0},{"heading-left":d(()=>[Ib]),content:d(()=>[c(h,{tracks:o.tracks.items},null,8,["tracks"])]),footer:d(()=>[i.show_all_tracks_button?(l(),_("nav",Ub,[t("p",Eb,[t("a",{class:"button is-light is-small is-rounded",onClick:s[2]||(s[2]=(...q)=>i.open_search_tracks&&i.open_search_tracks(...q))},"Show all "+u(o.tracks.total.toLocaleString())+" tracks",1)])])):y("",!0)]),_:1})):y("",!0),i.show_tracks&&!o.tracks.total?(l(),x(w,{key:1,class:"mt-6"},{content:d(()=>[Ob]),_:1})):y("",!0),i.show_artists&&o.artists.total?(l(),x(p,{key:2},{"heading-left":d(()=>[Db]),content:d(()=>[c(b,{artists:o.artists.items},null,8,["artists"])]),footer:d(()=>[i.show_all_artists_button?(l(),_("nav",Nb,[t("p",zb,[t("a",{class:"button is-light is-small is-rounded",onClick:s[3]||(s[3]=(...q)=>i.open_search_artists&&i.open_search_artists(...q))},"Show all "+u(o.artists.total.toLocaleString())+" artists",1)])])):y("",!0)]),_:1})):y("",!0),i.show_artists&&!o.artists.total?(l(),x(w,{key:3},{content:d(()=>[Vb]),_:1})):y("",!0),i.show_albums&&o.albums.total?(l(),x(p,{key:4},{"heading-left":d(()=>[Bb]),content:d(()=>[c(k,{albums:o.albums.items},null,8,["albums"])]),footer:d(()=>[i.show_all_albums_button?(l(),_("nav",Fb,[t("p",Mb,[t("a",{class:"button is-light is-small is-rounded",onClick:s[4]||(s[4]=(...q)=>i.open_search_albums&&i.open_search_albums(...q))},"Show all "+u(o.albums.total.toLocaleString())+" albums",1)])])):y("",!0)]),_:1})):y("",!0),i.show_albums&&!o.albums.total?(l(),x(w,{key:5},{content:d(()=>[jb]),_:1})):y("",!0),i.show_composers&&o.composers.total?(l(),x(p,{key:6},{default:d(()=>[Gb,t("template",Hb,[c($,{composers:o.composers.items},null,8,["composers"])]),t("template",Wb,[i.show_all_composers_button?(l(),_("nav",Kb,[t("p",Yb,[t("a",{class:"button is-light is-small is-rounded",onClick:s[5]||(s[5]=(...q)=>i.open_search_composers&&i.open_search_composers(...q))},"Show all "+u(o.composers.total)+" composers",1)])])):y("",!0)])]),_:1})):y("",!0),i.show_composers&&!o.composers.total?(l(),x(w,{key:7},{default:d(()=>[Qb]),_:1})):y("",!0),i.show_playlists&&o.playlists.total?(l(),x(p,{key:8},{"heading-left":d(()=>[Jb]),content:d(()=>[c(S,{playlists:o.playlists.items},null,8,["playlists"])]),footer:d(()=>[i.show_all_playlists_button?(l(),_("nav",Xb,[t("p",Zb,[t("a",{class:"button is-light is-small is-rounded",onClick:s[6]||(s[6]=(...q)=>i.open_search_playlists&&i.open_search_playlists(...q))},"Show all "+u(o.playlists.total.toLocaleString())+" playlists",1)])])):y("",!0)]),_:1})):y("",!0),i.show_playlists&&!o.playlists.total?(l(),x(w,{key:9},{content:d(()=>[t1]),_:1})):y("",!0),i.show_podcasts&&o.podcasts.total?(l(),x(p,{key:10},{"heading-left":d(()=>[s1]),content:d(()=>[c(k,{albums:o.podcasts.items},null,8,["albums"])]),footer:d(()=>[i.show_all_podcasts_button?(l(),_("nav",e1,[t("p",i1,[t("a",{class:"button is-light is-small is-rounded",onClick:s[7]||(s[7]=(...q)=>i.open_search_podcasts&&i.open_search_podcasts(...q))},"Show all "+u(o.podcasts.total.toLocaleString())+" podcasts",1)])])):y("",!0)]),_:1})):y("",!0),i.show_podcasts&&!o.podcasts.total?(l(),x(w,{key:11},{content:d(()=>[o1]),_:1})):y("",!0),i.show_audiobooks&&o.audiobooks.total?(l(),x(p,{key:12},{"heading-left":d(()=>[a1]),content:d(()=>[c(k,{albums:o.audiobooks.items},null,8,["albums"])]),footer:d(()=>[i.show_all_audiobooks_button?(l(),_("nav",n1,[t("p",l1,[t("a",{class:"button is-light is-small is-rounded",onClick:s[8]||(s[8]=(...q)=>i.open_search_audiobooks&&i.open_search_audiobooks(...q))},"Show all "+u(o.audiobooks.total.toLocaleString())+" audiobooks",1)])])):y("",!0)]),_:1})):y("",!0),i.show_audiobooks&&!o.audiobooks.total?(l(),x(w,{key:13},{content:d(()=>[r1]),_:1})):y("",!0)])}var _1=v(vb,[["render",d1]]);const c1={name:"PageAbout",data(){return{show_update_dropdown:!1,show_update_library:!1}},computed:{config(){return this.$store.state.config},library(){return this.$store.state.library}},methods:{onClickOutside(e){this.show_update_dropdown=!1},showUpdateDialog(){this.$store.commit(et,!0)}}},u1={class:"section"},m1={class:"container"},h1={class:"columns is-centered"},p1={class:"column is-four-fifths has-text-centered-mobile"},f1={class:"heading"},y1=t("b",null,"OwnTone",-1),g1={class:"title is-4"},b1={class:"section"},k1={class:"container"},w1={class:"columns is-centered"},v1={class:"column is-four-fifths"},$1={class:"content"},x1={class:"level is-mobile"},C1=t("div",{class:"level-left"},[t("div",{class:"level-item"},[t("h2",{class:"title is-5"},"Library")])],-1),A1={class:"level-right"},S1={key:0},q1=t("a",{class:"button is-small is-loading"},"Update",-1),P1=[q1],T1={key:1},R1={class:"table"},L1=t("th",null,"Artists",-1),I1={class:"has-text-right"},U1=t("th",null,"Albums",-1),E1={class:"has-text-right"},O1=t("th",null,"Tracks",-1),D1={class:"has-text-right"},N1=t("th",null,"Total playtime",-1),z1={class:"has-text-right"},V1=t("th",null,"Library updated",-1),B1={class:"has-text-right"},F1={class:"has-text-grey"},M1=t("th",null,"Uptime",-1),j1={class:"has-text-right"},G1={class:"has-text-grey"},H1={class:"section"},W1={class:"container"},K1={class:"columns is-centered"},Y1={class:"column is-four-fifths"},Q1={class:"content has-text-centered-mobile"},J1={class:"is-size-7"},X1=Js('<p class="is-size-7">Web interface built with <a href="http://bulma.io">Bulma</a>, <a href="https://materialdesignicons.com/">Material Design Icons</a>, <a href="https://vuejs.org/">Vue.js</a>, <a href="https://github.com/mzabriskie/axios">axios</a> and <a href="https://github.com/owntone/owntone-server/network/dependencies">more</a>.</p>',1);function Z1(e,s,a,r,o,i){return l(),_("div",null,[t("section",u1,[t("div",m1,[t("div",h1,[t("div",p1,[t("p",f1,[y1,g(" - version "+u(i.config.version),1)]),t("h1",g1,u(i.config.library_name),1)])])])]),t("section",b1,[t("div",k1,[t("div",w1,[t("div",v1,[t("div",$1,[t("nav",x1,[C1,t("div",A1,[i.library.updating?(l(),_("div",S1,P1)):(l(),_("div",T1,[t("a",{onClick:s[0]||(s[0]=n=>i.showUpdateDialog()),class:"button is-small"},"Update")]))])]),t("table",R1,[t("tbody",null,[t("tr",null,[L1,t("td",I1,u(e.$filters.number(i.library.artists)),1)]),t("tr",null,[U1,t("td",E1,u(e.$filters.number(i.library.albums)),1)]),t("tr",null,[O1,t("td",D1,u(e.$filters.number(i.library.songs)),1)]),t("tr",null,[N1,t("td",z1,u(e.$filters.duration(i.library.db_playtime*1e3,"y [years], d [days], h [hours], m [minutes]")),1)]),t("tr",null,[V1,t("td",B1,[g(u(e.$filters.timeFromNow(i.library.updated_at))+" ",1),t("span",F1,"("+u(e.$filters.time(i.library.updated_at,"lll"))+")",1)])]),t("tr",null,[M1,t("td",j1,[g(u(e.$filters.timeFromNow(i.library.started_at,!0))+" ",1),t("span",G1,"("+u(e.$filters.time(i.library.started_at,"ll"))+")",1)])])])])])])])])]),t("section",H1,[t("div",W1,[t("div",K1,[t("div",Y1,[t("div",Q1,[t("p",J1,"Compiled with support for "+u(i.config.buildoptions.join(", "))+".",1),X1])])])])])])}var tk=v(c1,[["render",Z1]]);const sk={name:"SpotifyListItemAlbum",props:["album"]},ek={class:"media"},ik={key:0,class:"media-left fd-has-action"},ok={class:"media-content fd-has-action is-clipped"},ak={class:"title is-6"},nk={class:"subtitle is-7 has-text-grey"},lk={class:"subtitle is-7 has-text-grey has-text-weight-normal"},rk={class:"media-right"};function dk(e,s,a,r,o,i){return l(),_("div",ek,[e.$slots.artwork?(l(),_("div",ik,[I(e.$slots,"artwork")])):y("",!0),t("div",ok,[t("h1",ak,u(a.album.name),1),t("h2",nk,[t("b",null,u(a.album.artists[0].name),1)]),t("h2",lk,"("+u(a.album.album_type)+", "+u(e.$filters.time(a.album.release_date,"L"))+")",1)]),t("div",rk,[I(e.$slots,"actions")])])}var jt=v(sk,[["render",dk]]);const _k={name:"SpotifyListItemPlaylist",props:["playlist"],methods:{open_playlist:function(){this.$router.push({path:"/music/spotify/playlists/"+this.playlist.id})}}},ck={class:"media"},uk={class:"title is-6"},mk={class:"subtitle is-7"},hk={class:"media-right"};function pk(e,s,a,r,o,i){return l(),_("div",ck,[t("div",{class:"media-content fd-has-action is-clipped",onClick:s[0]||(s[0]=(...n)=>i.open_playlist&&i.open_playlist(...n))},[t("h1",uk,u(a.playlist.name),1),t("h2",mk,u(a.playlist.owner.display_name),1)]),t("div",hk,[I(e.$slots,"actions")])])}var ms=v(_k,[["render",pk]]);const fk={name:"SpotifyModalDialogAlbum",props:["show","album"],data(){return{artwork_visible:!1}},computed:{artwork_url:function(){return this.album.images&&this.album.images.length>0?this.album.images[0].url:""}},methods:{play:function(){this.$emit("close"),f.player_play_uri(this.album.uri,!1)},queue_add:function(){this.$emit("close"),f.queue_add(this.album.uri)},queue_add_next:function(){this.$emit("close"),f.queue_add_next(this.album.uri)},open_album:function(){this.$router.push({path:"/music/spotify/albums/"+this.album.id})},open_artist:function(){this.$router.push({path:"/music/spotify/artists/"+this.album.artists[0].id})},artwork_loaded:function(){this.artwork_visible=!0},artwork_error:function(){this.artwork_visible=!1}}},yk={key:0,class:"modal is-active"},gk={class:"modal-content fd-modal-card"},bk={class:"card"},kk={class:"card-content"},wk={class:"image is-square fd-has-margin-bottom"},vk=["src"],$k={class:"title is-4"},xk={class:"content is-small"},Ck=t("span",{class:"heading"},"Album artist",-1),Ak=t("span",{class:"heading"},"Release date",-1),Sk={class:"title is-6"},qk=t("span",{class:"heading"},"Type",-1),Pk={class:"title is-6"},Tk={class:"card-footer"},Rk=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-plus"})],-1),Lk=g(),Ik=t("span",{class:"is-size-7"},"Add",-1),Uk=[Rk,Lk,Ik],Ek=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-play"})],-1),Ok=g(),Dk=t("span",{class:"is-size-7"},"Add Next",-1),Nk=[Ek,Ok,Dk],zk=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),Vk=g(),Bk=t("span",{class:"is-size-7"},"Play",-1),Fk=[zk,Vk,Bk];function Mk(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",yk,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",gk,[t("div",bk,[t("div",kk,[D(t("figure",wk,[t("img",{src:i.artwork_url,onLoad:s[1]||(s[1]=(...n)=>i.artwork_loaded&&i.artwork_loaded(...n)),onError:s[2]||(s[2]=(...n)=>i.artwork_error&&i.artwork_error(...n)),class:"fd-has-shadow"},null,40,vk)],512),[[Vt,o.artwork_visible]]),t("p",$k,[t("a",{class:"has-text-link",onClick:s[3]||(s[3]=(...n)=>i.open_album&&i.open_album(...n))},u(a.album.name),1)]),t("div",xk,[t("p",null,[Ck,t("a",{class:"title is-6 has-text-link",onClick:s[4]||(s[4]=(...n)=>i.open_artist&&i.open_artist(...n))},u(a.album.artists[0].name),1)]),t("p",null,[Ak,t("span",Sk,u(e.$filters.time(a.album.release_date,"L")),1)]),t("p",null,[qk,t("span",Pk,u(a.album.album_type),1)])])]),t("footer",Tk,[t("a",{class:"card-footer-item has-text-dark",onClick:s[5]||(s[5]=(...n)=>i.queue_add&&i.queue_add(...n))},Uk),t("a",{class:"card-footer-item has-text-dark",onClick:s[6]||(s[6]=(...n)=>i.queue_add_next&&i.queue_add_next(...n))},Nk),t("a",{class:"card-footer-item has-text-dark",onClick:s[7]||(s[7]=(...n)=>i.play&&i.play(...n))},Fk)])])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[8]||(s[8]=n=>e.$emit("close"))})])):y("",!0)]),_:1})])}var lt=v(fk,[["render",Mk]]);const jk={name:"SpotifyModalDialogPlaylist",props:["show","playlist"],methods:{play:function(){this.$emit("close"),f.player_play_uri(this.playlist.uri,!1)},queue_add:function(){this.$emit("close"),f.queue_add(this.playlist.uri)},queue_add_next:function(){this.$emit("close"),f.queue_add_next(this.playlist.uri)},open_playlist:function(){this.$router.push({path:"/music/spotify/playlists/"+this.playlist.id})}}},Gk={key:0,class:"modal is-active"},Hk={class:"modal-content fd-modal-card"},Wk={class:"card"},Kk={class:"card-content"},Yk={class:"title is-4"},Qk={class:"content is-small"},Jk=t("span",{class:"heading"},"Owner",-1),Xk={class:"title is-6"},Zk=t("span",{class:"heading"},"Tracks",-1),tw={class:"title is-6"},sw=t("span",{class:"heading"},"Path",-1),ew={class:"title is-6"},iw={class:"card-footer"},ow=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-plus"})],-1),aw=g(),nw=t("span",{class:"is-size-7"},"Add",-1),lw=[ow,aw,nw],rw=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-play"})],-1),dw=g(),_w=t("span",{class:"is-size-7"},"Add Next",-1),cw=[rw,dw,_w],uw=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),mw=g(),hw=t("span",{class:"is-size-7"},"Play",-1),pw=[uw,mw,hw];function fw(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",Gk,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",Hk,[t("div",Wk,[t("div",Kk,[t("p",Yk,[t("a",{class:"has-text-link",onClick:s[1]||(s[1]=(...n)=>i.open_playlist&&i.open_playlist(...n))},u(a.playlist.name),1)]),t("div",Qk,[t("p",null,[Jk,t("span",Xk,u(a.playlist.owner.display_name),1)]),t("p",null,[Zk,t("span",tw,u(a.playlist.tracks.total),1)]),t("p",null,[sw,t("span",ew,u(a.playlist.uri),1)])])]),t("footer",iw,[t("a",{class:"card-footer-item has-text-dark",onClick:s[2]||(s[2]=(...n)=>i.queue_add&&i.queue_add(...n))},lw),t("a",{class:"card-footer-item has-text-dark",onClick:s[3]||(s[3]=(...n)=>i.queue_add_next&&i.queue_add_next(...n))},cw),t("a",{class:"card-footer-item has-text-dark",onClick:s[4]||(s[4]=(...n)=>i.play&&i.play(...n))},pw)])])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[5]||(s[5]=n=>e.$emit("close"))})])):y("",!0)]),_:1})])}var Gt=v(jk,[["render",fw]]);const Ut={load:function(e){if(T.state.spotify_new_releases.length>0&&T.state.spotify_featured_playlists.length>0)return Promise.resolve();const s=new B;return s.setAccessToken(T.state.spotify.webapi_token),Promise.all([s.getNewReleases({country:T.state.spotify.webapi_country,limit:50}),s.getFeaturedPlaylists({country:T.state.spotify.webapi_country,limit:50})])},set:function(e,s){s&&(T.commit(ts,s[0].albums.items),T.commit(ss,s[1].playlists.items))}},yw={name:"SpotifyPageBrowse",components:{ContentWithHeading:U,TabsMusic:j,SpotifyListItemAlbum:jt,SpotifyListItemPlaylist:ms,SpotifyModalDialogAlbum:lt,SpotifyModalDialogPlaylist:Gt,CoverArtwork:M},data(){return{show_album_details_modal:!1,selected_album:{},show_playlist_details_modal:!1,selected_playlist:{}}},computed:{new_releases(){return this.$store.state.spotify_new_releases.slice(0,3)},featured_playlists(){return this.$store.state.spotify_featured_playlists.slice(0,3)},is_visible_artwork(){return this.$store.getters.settings_option("webinterface","show_cover_artwork_in_album_lists").value}},methods:{open_album:function(e){this.$router.push({path:"/music/spotify/albums/"+e.id})},open_album_dialog:function(e){this.selected_album=e,this.show_album_details_modal=!0},open_playlist_dialog:function(e){this.selected_playlist=e,this.show_playlist_details_modal=!0},artwork_url:function(e){return e.images&&e.images.length>0?e.images[0].url:""}},beforeRouteEnter(e,s,a){Ut.load(e).then(r=>{a(o=>Ut.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;Ut.load(e).then(o=>{Ut.set(r,o),a()})}},gw={class:"fd-page-with-tabs"},bw=t("p",{class:"title is-4"},"New Releases",-1),kw={class:"image is-64x64 fd-has-shadow fd-has-action"},ww=["onClick"],vw=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),$w=[vw],xw={class:"level"},Cw={class:"level-item"},Aw=g(" Show more "),Sw=t("p",{class:"title is-4"},"Featured Playlists",-1),qw=["onClick"],Pw=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),Tw=[Pw],Rw={class:"level"},Lw={class:"level-item"},Iw=g(" Show more ");function Uw(e,s,a,r,o,i){const n=m("tabs-music"),h=m("cover-artwork"),p=m("spotify-list-item-album"),w=m("spotify-modal-dialog-album"),b=m("router-link"),k=m("content-with-heading"),$=m("spotify-list-item-playlist"),S=m("spotify-modal-dialog-playlist");return l(),_("div",gw,[c(n),c(k,null,{"heading-left":d(()=>[bw]),content:d(()=>[(l(!0),_(R,null,L(i.new_releases,q=>(l(),x(p,{key:q.id,album:q,onClick:F=>i.open_album(q)},Y({actions:d(()=>[t("a",{onClick:F=>i.open_album_dialog(q)},$w,8,ww)]),_:2},[i.is_visible_artwork?{name:"artwork",fn:d(()=>[t("p",kw,[c(h,{artwork_url:i.artwork_url(q),artist:q.artist,album:q.name,maxwidth:64,maxheight:64},null,8,["artwork_url","artist","album"])])])}:void 0]),1032,["album","onClick"]))),128)),c(w,{show:o.show_album_details_modal,album:o.selected_album,onClose:s[0]||(s[0]=q=>o.show_album_details_modal=!1)},null,8,["show","album"])]),footer:d(()=>[t("nav",xw,[t("p",Cw,[c(b,{to:"/music/spotify/new-releases",class:"button is-light is-small is-rounded"},{default:d(()=>[Aw]),_:1})])])]),_:1}),c(k,null,{"heading-left":d(()=>[Sw]),content:d(()=>[(l(!0),_(R,null,L(i.featured_playlists,q=>(l(),x($,{key:q.id,playlist:q},{actions:d(()=>[t("a",{onClick:F=>i.open_playlist_dialog(q)},Tw,8,qw)]),_:2},1032,["playlist"]))),128)),c(S,{show:o.show_playlist_details_modal,playlist:o.selected_playlist,onClose:s[1]||(s[1]=q=>o.show_playlist_details_modal=!1)},null,8,["show","playlist"])]),footer:d(()=>[t("nav",Rw,[t("p",Lw,[c(b,{to:"/music/spotify/featured-playlists",class:"button is-light is-small is-rounded"},{default:d(()=>[Iw]),_:1})])])]),_:1})])}var Ew=v(yw,[["render",Uw]]);const Et={load:function(e){if(T.state.spotify_new_releases.length>0)return Promise.resolve();const s=new B;return s.setAccessToken(T.state.spotify.webapi_token),s.getNewReleases({country:T.state.spotify.webapi_country,limit:50})},set:function(e,s){s&&T.commit(ts,s.albums.items)}},Ow={name:"SpotifyPageBrowseNewReleases",components:{ContentWithHeading:U,TabsMusic:j,SpotifyListItemAlbum:jt,SpotifyModalDialogAlbum:lt,CoverArtwork:M},data(){return{show_album_details_modal:!1,selected_album:{}}},computed:{new_releases(){return this.$store.state.spotify_new_releases},is_visible_artwork(){return this.$store.getters.settings_option("webinterface","show_cover_artwork_in_album_lists").value}},methods:{open_album:function(e){this.$router.push({path:"/music/spotify/albums/"+e.id})},open_album_dialog:function(e){this.selected_album=e,this.show_album_details_modal=!0},artwork_url:function(e){return e.images&&e.images.length>0?e.images[0].url:""}},beforeRouteEnter(e,s,a){Et.load(e).then(r=>{a(o=>Et.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;Et.load(e).then(o=>{Et.set(r,o),a()})}},Dw={class:"fd-page-with-tabs"},Nw=t("p",{class:"title is-4"},"New Releases",-1),zw={class:"image is-64x64 fd-has-shadow fd-has-action"},Vw=["onClick"],Bw=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),Fw=[Bw];function Mw(e,s,a,r,o,i){const n=m("tabs-music"),h=m("cover-artwork"),p=m("spotify-list-item-album"),w=m("spotify-modal-dialog-album"),b=m("content-with-heading");return l(),_("div",Dw,[c(n),c(b,null,{"heading-left":d(()=>[Nw]),content:d(()=>[(l(!0),_(R,null,L(i.new_releases,k=>(l(),x(p,{key:k.id,album:k,onClick:$=>i.open_album(k)},Y({actions:d(()=>[t("a",{onClick:$=>i.open_album_dialog(k)},Fw,8,Vw)]),_:2},[i.is_visible_artwork?{name:"artwork",fn:d(()=>[t("p",zw,[c(h,{artwork_url:i.artwork_url(k),artist:k.artist,album:k.name,maxwidth:64,maxheight:64},null,8,["artwork_url","artist","album"])])])}:void 0]),1032,["album","onClick"]))),128)),c(w,{show:o.show_album_details_modal,album:o.selected_album,onClose:s[0]||(s[0]=k=>o.show_album_details_modal=!1)},null,8,["show","album"])]),_:1})])}var jw=v(Ow,[["render",Mw]]);const Ot={load:function(e){if(T.state.spotify_featured_playlists.length>0)return Promise.resolve();const s=new B;s.setAccessToken(T.state.spotify.webapi_token),s.getFeaturedPlaylists({country:T.state.spotify.webapi_country,limit:50})},set:function(e,s){s&&T.commit(ss,s.playlists.items)}},Gw={name:"SpotifyPageBrowseFeaturedPlaylists",components:{ContentWithHeading:U,TabsMusic:j,SpotifyListItemPlaylist:ms,SpotifyModalDialogPlaylist:Gt},data(){return{show_playlist_details_modal:!1,selected_playlist:{}}},computed:{featured_playlists(){return this.$store.state.spotify_featured_playlists}},methods:{open_playlist_dialog:function(e){this.selected_playlist=e,this.show_playlist_details_modal=!0}},beforeRouteEnter(e,s,a){Ot.load(e).then(r=>{a(o=>Ot.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;Ot.load(e).then(o=>{Ot.set(r,o),a()})}},Hw={class:"fd-page-with-tabs"},Ww=t("p",{class:"title is-4"},"Featured Playlists",-1),Kw=["onClick"],Yw=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),Qw=[Yw];function Jw(e,s,a,r,o,i){const n=m("tabs-music"),h=m("spotify-list-item-playlist"),p=m("spotify-modal-dialog-playlist"),w=m("content-with-heading");return l(),_("div",Hw,[c(n),c(w,null,{"heading-left":d(()=>[Ww]),content:d(()=>[(l(!0),_(R,null,L(i.featured_playlists,b=>(l(),x(h,{key:b.id,playlist:b},{actions:d(()=>[t("a",{onClick:k=>i.open_playlist_dialog(b)},Qw,8,Kw)]),_:2},1032,["playlist"]))),128)),c(p,{show:o.show_playlist_details_modal,playlist:o.selected_playlist,onClose:s[0]||(s[0]=b=>o.show_playlist_details_modal=!1)},null,8,["show","playlist"])]),_:1})])}var Xw=v(Gw,[["render",Jw]]);const Zw={name:"SpotifyModalDialogArtist",props:["show","artist"],methods:{play:function(){this.$emit("close"),f.player_play_uri(this.artist.uri,!1)},queue_add:function(){this.$emit("close"),f.queue_add(this.artist.uri)},queue_add_next:function(){this.$emit("close"),f.queue_add_next(this.artist.uri)},open_artist:function(){this.$router.push({path:"/music/spotify/artists/"+this.artist.id})}}},tv={key:0,class:"modal is-active"},sv={class:"modal-content fd-modal-card"},ev={class:"card"},iv={class:"card-content"},ov={class:"title is-4"},av={class:"content is-small"},nv=t("span",{class:"heading"},"Popularity / Followers",-1),lv={class:"title is-6"},rv=t("span",{class:"heading"},"Genres",-1),dv={class:"title is-6"},_v={class:"card-footer"},cv=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-plus"})],-1),uv=g(),mv=t("span",{class:"is-size-7"},"Add",-1),hv=[cv,uv,mv],pv=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-play"})],-1),fv=g(),yv=t("span",{class:"is-size-7"},"Add Next",-1),gv=[pv,fv,yv],bv=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),kv=g(),wv=t("span",{class:"is-size-7"},"Play",-1),vv=[bv,kv,wv];function $v(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",tv,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",sv,[t("div",ev,[t("div",iv,[t("p",ov,[t("a",{class:"has-text-link",onClick:s[1]||(s[1]=(...n)=>i.open_artist&&i.open_artist(...n))},u(a.artist.name),1)]),t("div",av,[t("p",null,[nv,t("span",lv,u(a.artist.popularity)+" / "+u(a.artist.followers.total),1)]),t("p",null,[rv,t("span",dv,u(a.artist.genres.join(", ")),1)])])]),t("footer",_v,[t("a",{class:"card-footer-item has-text-dark",onClick:s[2]||(s[2]=(...n)=>i.queue_add&&i.queue_add(...n))},hv),t("a",{class:"card-footer-item has-text-dark",onClick:s[3]||(s[3]=(...n)=>i.queue_add_next&&i.queue_add_next(...n))},gv),t("a",{class:"card-footer-item has-text-dark",onClick:s[4]||(s[4]=(...n)=>i.play&&i.play(...n))},vv)])])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[5]||(s[5]=n=>e.$emit("close"))})])):y("",!0)]),_:1})])}var Ms=v(Zw,[["render",$v]]);const Kt=50,Dt={load:function(e){const s=new B;return s.setAccessToken(T.state.spotify.webapi_token),Promise.all([s.getArtist(e.params.artist_id),s.getArtistAlbums(e.params.artist_id,{limit:Kt,offset:0,include_groups:"album,single",market:T.state.spotify.webapi_country})])},set:function(e,s){e.artist=s[0],e.albums=[],e.total=0,e.offset=0,e.append_albums(s[1])}},xv={name:"SpotifyPageArtist",components:{ContentWithHeading:U,SpotifyListItemAlbum:jt,SpotifyModalDialogAlbum:lt,SpotifyModalDialogArtist:Ms,VueEternalLoading:Xt.exports.VueEternalLoading,CoverArtwork:M},data(){return{artist:{},albums:[],total:0,offset:0,show_details_modal:!1,selected_album:{},show_artist_details_modal:!1}},computed:{is_visible_artwork(){return this.$store.getters.settings_option("webinterface","show_cover_artwork_in_album_lists").value}},methods:{load_next:function({loaded:e}){const s=new B;s.setAccessToken(this.$store.state.spotify.webapi_token),s.getArtistAlbums(this.artist.id,{limit:Kt,offset:this.offset,include_groups:"album,single"}).then(a=>{this.append_albums(a),e(a.items.length,Kt)})},append_albums:function(e){this.albums=this.albums.concat(e.items),this.total=e.total,this.offset+=e.limit},play:function(){this.show_details_modal=!1,f.player_play_uri(this.artist.uri,!0)},open_album:function(e){this.$router.push({path:"/music/spotify/albums/"+e.id})},open_dialog:function(e){this.selected_album=e,this.show_details_modal=!0},artwork_url:function(e){return e.images&&e.images.length>0?e.images[0].url:""}},beforeRouteEnter(e,s,a){Dt.load(e).then(r=>{a(o=>Dt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;Dt.load(e).then(o=>{Dt.set(r,o),a()})}},Cv={class:"title is-4"},Av={class:"buttons is-centered"},Sv=t("span",{class:"icon"},[t("i",{class:"mdi mdi-dots-horizontal mdi-18px"})],-1),qv=[Sv],Pv=t("span",{class:"icon"},[t("i",{class:"mdi mdi-shuffle"})],-1),Tv=g(),Rv=t("span",null,"Shuffle",-1),Lv=[Pv,Tv,Rv],Iv={class:"heading has-text-centered-mobile"},Uv={class:"image is-64x64 fd-has-shadow fd-has-action"},Ev=["onClick"],Ov=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),Dv=[Ov],Nv=g(".");function zv(e,s,a,r,o,i){const n=m("cover-artwork"),h=m("spotify-list-item-album"),p=m("VueEternalLoading"),w=m("spotify-modal-dialog-album"),b=m("spotify-modal-dialog-artist"),k=m("content-with-heading");return l(),x(k,null,{"heading-left":d(()=>[t("p",Cv,u(o.artist.name),1)]),"heading-right":d(()=>[t("div",Av,[t("a",{class:"button is-small is-light is-rounded",onClick:s[0]||(s[0]=$=>o.show_artist_details_modal=!0)},qv),t("a",{class:"button is-small is-dark is-rounded",onClick:s[1]||(s[1]=(...$)=>i.play&&i.play(...$))},Lv)])]),content:d(()=>[t("p",Iv,u(o.total)+" albums",1),(l(!0),_(R,null,L(o.albums,$=>(l(),x(h,{key:$.id,album:$,onClick:S=>i.open_album($)},Y({actions:d(()=>[t("a",{onClick:E(S=>i.open_dialog($),["prevent","stop"])},Dv,8,Ev)]),_:2},[i.is_visible_artwork?{name:"artwork",fn:d(()=>[t("p",Uv,[c(n,{artwork_url:i.artwork_url($),artist:$.artist,album:$.name,maxwidth:64,maxheight:64},null,8,["artwork_url","artist","album"])])])}:void 0]),1032,["album","onClick"]))),128)),o.offset<o.total?(l(),x(p,{key:0,load:i.load_next},{"no-more":d(()=>[Nv]),_:1},8,["load"])):y("",!0),c(w,{show:o.show_details_modal,album:o.selected_album,onClose:s[2]||(s[2]=$=>o.show_details_modal=!1)},null,8,["show","album"]),c(b,{show:o.show_artist_details_modal,artist:o.artist,onClose:s[3]||(s[3]=$=>o.show_artist_details_modal=!1)},null,8,["show","artist"])]),_:1})}var Vv=v(xv,[["render",zv]]);const Bv={name:"SpotifyListItemTrack",props:["track","position","album","context_uri"],methods:{play:function(){f.player_play_uri(this.context_uri,!1,this.position)}}},Fv={class:"media"},Mv={key:0,class:"subtitle is-7"},jv=g(" (Track is not playable"),Gv={key:0},Hv=g(") "),Wv={class:"media-right"};function Kv(e,s,a,r,o,i){return l(),_("div",Fv,[t("div",{class:"media-content fd-has-action is-clipped",onClick:s[0]||(s[0]=(...n)=>i.play&&i.play(...n))},[t("h1",{class:A(["title is-6",{"has-text-grey-light":a.track.is_playable===!1}])},u(a.track.name),3),t("h2",{class:A(["subtitle is-7",{"has-text-grey":a.track.is_playable,"has-text-grey-light":a.track.is_playable===!1}])},[t("b",null,u(a.track.artists[0].name),1)],2),a.track.is_playable===!1?(l(),_("h2",Mv,[jv,a.track.restrictions&&a.track.restrictions.reason?(l(),_("span",Gv,", restriction reason: "+u(a.track.restrictions.reason),1)):y("",!0),Hv])):y("",!0)]),t("div",Wv,[I(e.$slots,"actions")])])}var hs=v(Bv,[["render",Kv]]);const Yv={name:"SpotifyModalDialogTrack",props:["show","track","album"],methods:{play:function(){this.$emit("close"),f.player_play_uri(this.track.uri,!1)},queue_add:function(){this.$emit("close"),f.queue_add(this.track.uri)},queue_add_next:function(){this.$emit("close"),f.queue_add_next(this.track.uri)},open_album:function(){this.$router.push({path:"/music/spotify/albums/"+this.album.id})},open_artist:function(){this.$router.push({path:"/music/spotify/artists/"+this.album.artists[0].id})}}},Qv={key:0,class:"modal is-active"},Jv={class:"modal-content fd-modal-card"},Xv={class:"card"},Zv={class:"card-content"},t$={class:"title is-4"},s$={class:"subtitle"},e$={class:"content is-small"},i$=t("span",{class:"heading"},"Album",-1),o$=t("span",{class:"heading"},"Album artist",-1),a$=t("span",{class:"heading"},"Release date",-1),n$={class:"title is-6"},l$=t("span",{class:"heading"},"Track / Disc",-1),r$={class:"title is-6"},d$=t("span",{class:"heading"},"Length",-1),_$={class:"title is-6"},c$=t("span",{class:"heading"},"Path",-1),u$={class:"title is-6"},m$={class:"card-footer"},h$=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-plus"})],-1),p$=g(),f$=t("span",{class:"is-size-7"},"Add",-1),y$=[h$,p$,f$],g$=t("span",{class:"icon"},[t("i",{class:"mdi mdi-playlist-play"})],-1),b$=g(),k$=t("span",{class:"is-size-7"},"Add Next",-1),w$=[g$,b$,k$],v$=t("span",{class:"icon"},[t("i",{class:"mdi mdi-play"})],-1),$$=g(),x$=t("span",{class:"is-size-7"},"Play",-1),C$=[v$,$$,x$];function A$(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",Qv,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",Jv,[t("div",Xv,[t("div",Zv,[t("p",t$,u(a.track.name),1),t("p",s$,u(a.track.artists[0].name),1),t("div",e$,[t("p",null,[i$,t("a",{class:"title is-6 has-text-link",onClick:s[1]||(s[1]=(...n)=>i.open_album&&i.open_album(...n))},u(a.album.name),1)]),t("p",null,[o$,t("a",{class:"title is-6 has-text-link",onClick:s[2]||(s[2]=(...n)=>i.open_artist&&i.open_artist(...n))},u(a.album.artists[0].name),1)]),t("p",null,[a$,t("span",n$,u(e.$filters.time(a.album.release_date,"L")),1)]),t("p",null,[l$,t("span",r$,u(a.track.track_number)+" / "+u(a.track.disc_number),1)]),t("p",null,[d$,t("span",_$,u(e.$filters.duration(a.track.duration_ms)),1)]),t("p",null,[c$,t("span",u$,u(a.track.uri),1)])])]),t("footer",m$,[t("a",{class:"card-footer-item has-text-dark",onClick:s[3]||(s[3]=(...n)=>i.queue_add&&i.queue_add(...n))},y$),t("a",{class:"card-footer-item has-text-dark",onClick:s[4]||(s[4]=(...n)=>i.queue_add_next&&i.queue_add_next(...n))},w$),t("a",{class:"card-footer-item has-text-dark",onClick:s[5]||(s[5]=(...n)=>i.play&&i.play(...n))},C$)])])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[6]||(s[6]=n=>e.$emit("close"))})])):y("",!0)]),_:1})])}var ps=v(Yv,[["render",A$]]);const Nt={load:function(e){const s=new B;return s.setAccessToken(T.state.spotify.webapi_token),s.getAlbum(e.params.album_id,{market:T.state.spotify.webapi_country})},set:function(e,s){e.album=s}},S$={name:"PageAlbum",components:{ContentWithHero:ds,SpotifyListItemTrack:hs,SpotifyModalDialogTrack:ps,SpotifyModalDialogAlbum:lt,CoverArtwork:M},data(){return{album:{artists:[{}],tracks:{}},show_track_details_modal:!1,selected_track:{},show_album_details_modal:!1}},computed:{artwork_url:function(){return this.album.images&&this.album.images.length>0?this.album.images[0].url:""}},methods:{open_artist:function(){this.$router.push({path:"/music/spotify/artists/"+this.album.artists[0].id})},play:function(){this.show_details_modal=!1,f.player_play_uri(this.album.uri,!0)},open_track_dialog:function(e){this.selected_track=e,this.show_track_details_modal=!0}},beforeRouteEnter(e,s,a){Nt.load(e).then(r=>{a(o=>Nt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;Nt.load(e).then(o=>{Nt.set(r,o),a()})}},q$={class:"title is-5"},P$={class:"subtitle is-6 has-text-link has-text-weight-normal"},T$={class:"buttons fd-is-centered-mobile fd-has-margin-top"},R$=t("span",{class:"icon"},[t("i",{class:"mdi mdi-shuffle"})],-1),L$=g(),I$=t("span",null,"Shuffle",-1),U$=[R$,L$,I$],E$=t("span",{class:"icon"},[t("i",{class:"mdi mdi-dots-horizontal mdi-18px"})],-1),O$=[E$],D$={class:"image is-square fd-has-shadow fd-has-action"},N$={class:"heading is-7 has-text-centered-mobile fd-has-margin-top"},z$=["onClick"],V$=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),B$=[V$];function F$(e,s,a,r,o,i){const n=m("cover-artwork"),h=m("spotify-list-item-track"),p=m("spotify-modal-dialog-track"),w=m("spotify-modal-dialog-album"),b=m("content-with-hero");return l(),x(b,null,{"heading-left":d(()=>[t("h1",q$,u(o.album.name),1),t("h2",P$,[t("a",{class:"has-text-link",onClick:s[0]||(s[0]=(...k)=>i.open_artist&&i.open_artist(...k))},u(o.album.artists[0].name),1)]),t("div",T$,[t("a",{class:"button is-small is-dark is-rounded",onClick:s[1]||(s[1]=(...k)=>i.play&&i.play(...k))},U$),t("a",{class:"button is-small is-light is-rounded",onClick:s[2]||(s[2]=k=>o.show_album_details_modal=!0)},O$)])]),"heading-right":d(()=>[t("p",D$,[c(n,{artwork_url:i.artwork_url,artist:o.album.artist,album:o.album.name,onClick:s[3]||(s[3]=k=>o.show_album_details_modal=!0)},null,8,["artwork_url","artist","album"])])]),content:d(()=>[t("p",N$,u(o.album.tracks.total)+" tracks",1),(l(!0),_(R,null,L(o.album.tracks.items,(k,$)=>(l(),x(h,{key:k.id,track:k,position:$,album:o.album,context_uri:o.album.uri},{actions:d(()=>[t("a",{onClick:S=>i.open_track_dialog(k)},B$,8,z$)]),_:2},1032,["track","position","album","context_uri"]))),128)),c(p,{show:o.show_track_details_modal,track:o.selected_track,album:o.album,onClose:s[4]||(s[4]=k=>o.show_track_details_modal=!1)},null,8,["show","track","album"]),c(w,{show:o.show_album_details_modal,album:o.album,onClose:s[5]||(s[5]=k=>o.show_album_details_modal=!1)},null,8,["show","album"])]),_:1})}var M$=v(S$,[["render",F$]]);const Yt=50,zt={load:function(e){const s=new B;return s.setAccessToken(T.state.spotify.webapi_token),Promise.all([s.getPlaylist(e.params.playlist_id),s.getPlaylistTracks(e.params.playlist_id,{limit:Yt,offset:0})])},set:function(e,s){e.playlist=s[0],e.tracks=[],e.total=0,e.offset=0,e.append_tracks(s[1])}},j$={name:"SpotifyPagePlaylist",components:{ContentWithHeading:U,SpotifyListItemTrack:hs,SpotifyModalDialogTrack:ps,SpotifyModalDialogPlaylist:Gt,VueEternalLoading:Xt.exports.VueEternalLoading},data(){return{playlist:{tracks:{}},tracks:[],total:0,offset:0,show_track_details_modal:!1,selected_track:{},show_playlist_details_modal:!1}},methods:{load_next:function({loaded:e}){const s=new B;s.setAccessToken(this.$store.state.spotify.webapi_token),s.getPlaylistTracks(this.playlist.id,{limit:Yt,offset:this.offset}).then(a=>{this.append_tracks(a),e(a.items.length,Yt)})},append_tracks:function(e){this.tracks=this.tracks.concat(e.items),this.total=e.total,this.offset+=e.limit},play:function(){this.show_details_modal=!1,f.player_play_uri(this.playlist.uri,!0)},open_track_dialog:function(e){this.selected_track=e,this.show_track_details_modal=!0}},beforeRouteEnter(e,s,a){zt.load(e).then(r=>{a(o=>zt.set(o,r))})},beforeRouteUpdate(e,s,a){const r=this;zt.load(e).then(o=>{zt.set(r,o),a()})}},G$={class:"title is-4"},H$={class:"buttons is-centered"},W$=t("span",{class:"icon"},[t("i",{class:"mdi mdi-dots-horizontal mdi-18px"})],-1),K$=[W$],Y$=t("span",{class:"icon"},[t("i",{class:"mdi mdi-shuffle"})],-1),Q$=g(),J$=t("span",null,"Shuffle",-1),X$=[Y$,Q$,J$],Z$={class:"heading has-text-centered-mobile"},t0=["onClick"],s0=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),e0=[s0],i0=g(".");function o0(e,s,a,r,o,i){const n=m("spotify-list-item-track"),h=m("VueEternalLoading"),p=m("spotify-modal-dialog-track"),w=m("spotify-modal-dialog-playlist"),b=m("content-with-heading");return l(),x(b,null,{"heading-left":d(()=>[t("div",G$,u(o.playlist.name),1)]),"heading-right":d(()=>[t("div",H$,[t("a",{class:"button is-small is-light is-rounded",onClick:s[0]||(s[0]=k=>o.show_playlist_details_modal=!0)},K$),t("a",{class:"button is-small is-dark is-rounded",onClick:s[1]||(s[1]=(...k)=>i.play&&i.play(...k))},X$)])]),content:d(()=>[t("p",Z$,u(o.playlist.tracks.total)+" tracks",1),(l(!0),_(R,null,L(o.tracks,(k,$)=>(l(),x(n,{key:k.track.id,track:k.track,album:k.track.album,position:$,context_uri:o.playlist.uri},{actions:d(()=>[t("a",{onClick:S=>i.open_track_dialog(k.track)},e0,8,t0)]),_:2},1032,["track","album","position","context_uri"]))),128)),o.offset<o.total?(l(),x(h,{key:0,load:i.load_next},{"no-more":d(()=>[i0]),_:1},8,["load"])):y("",!0),c(p,{show:o.show_track_details_modal,track:o.selected_track,album:o.selected_track.album,onClose:s[2]||(s[2]=k=>o.show_track_details_modal=!1)},null,8,["show","track","album"]),c(w,{show:o.show_playlist_details_modal,playlist:o.playlist,onClose:s[3]||(s[3]=k=>o.show_playlist_details_modal=!1)},null,8,["show","playlist"])]),_:1})}var a0=v(j$,[["render",o0]]);const n0={name:"SpotifyListItemArtist",props:["artist"],methods:{open_artist:function(){this.$router.push({path:"/music/spotify/artists/"+this.artist.id})}}},l0={class:"media"},r0={class:"title is-6"},d0={class:"media-right"};function _0(e,s,a,r,o,i){return l(),_("div",l0,[t("div",{class:"media-content fd-has-action is-clipped",onClick:s[0]||(s[0]=(...n)=>i.open_artist&&i.open_artist(...n))},[t("h1",r0,u(a.artist.name),1)]),t("div",d0,[I(e.$slots,"actions")])])}var c0=v(n0,[["render",_0]]);const tt=50,u0={name:"SpotifyPageSearch",components:{ContentWithHeading:U,ContentText:Bs,TabsSearch:Fs,SpotifyListItemTrack:hs,SpotifyListItemArtist:c0,SpotifyListItemAlbum:jt,SpotifyListItemPlaylist:ms,SpotifyModalDialogTrack:ps,SpotifyModalDialogArtist:Ms,SpotifyModalDialogAlbum:lt,SpotifyModalDialogPlaylist:Gt,VueEternalLoading:Xt.exports.VueEternalLoading,CoverArtwork:M},data(){return{search_query:"",tracks:{items:[],total:0},artists:{items:[],total:0},albums:{items:[],total:0},playlists:{items:[],total:0},query:{},search_param:{},show_track_details_modal:!1,selected_track:{},show_album_details_modal:!1,selected_album:{},show_artist_details_modal:!1,selected_artist:{},show_playlist_details_modal:!1,selected_playlist:{},validSearchTypes:["track","artist","album","playlist"]}},computed:{recent_searches(){return this.$store.state.recent_searches.filter(e=>!e.startsWith("query:"))},show_tracks(){return this.$route.query.type&&this.$route.query.type.includes("track")},show_all_tracks_button(){return this.tracks.total>this.tracks.items.length},show_artists(){return this.$route.query.type&&this.$route.query.type.includes("artist")},show_all_artists_button(){return this.artists.total>this.artists.items.length},show_albums(){return this.$route.query.type&&this.$route.query.type.includes("album")},show_all_albums_button(){return this.albums.total>this.albums.items.length},show_playlists(){return this.$route.query.type&&this.$route.query.type.includes("playlist")},show_all_playlists_button(){return this.playlists.total>this.playlists.items.length},is_visible_artwork(){return this.$store.getters.settings_option("webinterface","show_cover_artwork_in_album_lists").value}},methods:{reset:function(){this.tracks={items:[],total:0},this.artists={items:[],total:0},this.albums={items:[],total:0},this.playlists={items:[],total:0}},search:function(){if(this.reset(),!this.query.query||this.query.query===""||this.query.query.startsWith("query:")){this.search_query="",this.$refs.search_field.focus();return}this.search_query=this.query.query,this.search_param.limit=this.query.limit?this.query.limit:tt,this.search_param.offset=this.query.offset?this.query.offset:0,this.$store.commit(es,this.query.query),this.search_all()},spotify_search:function(){return f.spotify().then(({data:e})=>{this.search_param.market=e.webapi_country;const s=new B;s.setAccessToken(e.webapi_token);const a=this.query.type.split(",").filter(r=>this.validSearchTypes.includes(r));return s.search(this.query.query,a,this.search_param)})},search_all:function(){this.spotify_search().then(e=>{this.tracks=e.tracks?e.tracks:{items:[],total:0},this.artists=e.artists?e.artists:{items:[],total:0},this.albums=e.albums?e.albums:{items:[],total:0},this.playlists=e.playlists?e.playlists:{items:[],total:0}})},search_tracks_next:function({loaded:e}){this.spotify_search().then(s=>{this.tracks.items=this.tracks.items.concat(s.tracks.items),this.tracks.total=s.tracks.total,this.search_param.offset+=s.tracks.limit,e(s.tracks.items.length,tt)})},search_artists_next:function({loaded:e}){this.spotify_search().then(s=>{this.artists.items=this.artists.items.concat(s.artists.items),this.artists.total=s.artists.total,this.search_param.offset+=s.artists.limit,e(s.artists.items.length,tt)})},search_albums_next:function({loaded:e}){this.spotify_search().then(s=>{this.albums.items=this.albums.items.concat(s.albums.items),this.albums.total=s.albums.total,this.search_param.offset+=s.albums.limit,e(s.albums.items.length,tt)})},search_playlists_next:function({loaded:e}){this.spotify_search().then(s=>{this.playlists.items=this.playlists.items.concat(s.playlists.items),this.playlists.total=s.playlists.total,this.search_param.offset+=s.playlists.limit,e(s.playlists.items.length,tt)})},new_search:function(){!this.search_query||(this.$router.push({path:"/search/spotify",query:{type:"track,artist,album,playlist,audiobook,podcast",query:this.search_query,limit:3,offset:0}}),this.$refs.search_field.blur())},open_search_tracks:function(){this.$router.push({path:"/search/spotify",query:{type:"track",query:this.$route.query.query}})},open_search_artists:function(){this.$router.push({path:"/search/spotify",query:{type:"artist",query:this.$route.query.query}})},open_search_albums:function(){this.$router.push({path:"/search/spotify",query:{type:"album",query:this.$route.query.query}})},open_search_playlists:function(){this.$router.push({path:"/search/spotify",query:{type:"playlist",query:this.$route.query.query}})},open_recent_search:function(e){this.search_query=e,this.new_search()},open_track_dialog:function(e){this.selected_track=e,this.show_track_details_modal=!0},open_album_dialog:function(e){this.selected_album=e,this.show_album_details_modal=!0},open_artist_dialog:function(e){this.selected_artist=e,this.show_artist_details_modal=!0},open_playlist_dialog:function(e){this.selected_playlist=e,this.show_playlist_details_modal=!0},open_album:function(e){this.$router.push({path:"/music/spotify/albums/"+e.id})},artwork_url:function(e){return e.images&&e.images.length>0?e.images[0].url:""}},mounted:function(){this.query=this.$route.query,this.search()},watch:{$route(e,s){this.query=e.query,this.search()}}},m0={class:"section fd-remove-padding-bottom"},h0={class:"container"},p0={class:"columns is-centered"},f0={class:"column is-four-fifths"},y0={class:"field"},g0={class:"control is-expanded has-icons-left"},b0=t("span",{class:"icon is-left"},[t("i",{class:"mdi mdi-magnify"})],-1),k0={class:"tags",style:{"margin-top":"16px"}},w0=["onClick"],v0=t("p",{class:"title is-4"},"Tracks",-1),$0=["onClick"],x0=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),C0=[x0],A0=g("."),S0={key:0,class:"level"},q0={class:"level-item"},P0=t("p",null,[t("i",null,"No tracks found")],-1),T0=t("p",{class:"title is-4"},"Artists",-1),R0=["onClick"],L0=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),I0=[L0],U0=g("."),E0={key:0,class:"level"},O0={class:"level-item"},D0=t("p",null,[t("i",null,"No artists found")],-1),N0=t("p",{class:"title is-4"},"Albums",-1),z0={class:"image is-64x64 fd-has-shadow fd-has-action"},V0=["onClick"],B0=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),F0=[B0],M0=g("."),j0={key:0,class:"level"},G0={class:"level-item"},H0=t("p",null,[t("i",null,"No albums found")],-1),W0=t("p",{class:"title is-4"},"Playlists",-1),K0=["onClick"],Y0=t("span",{class:"icon has-text-dark"},[t("i",{class:"mdi mdi-dots-vertical mdi-18px"})],-1),Q0=[Y0],J0=g("."),X0={key:0,class:"level"},Z0={class:"level-item"},tx=t("p",null,[t("i",null,"No playlists found")],-1);function sx(e,s,a,r,o,i){const n=m("tabs-search"),h=m("spotify-list-item-track"),p=m("VueEternalLoading"),w=m("spotify-modal-dialog-track"),b=m("content-with-heading"),k=m("content-text"),$=m("spotify-list-item-artist"),S=m("spotify-modal-dialog-artist"),q=m("cover-artwork"),F=m("spotify-list-item-album"),rt=m("spotify-modal-dialog-album"),dt=m("spotify-list-item-playlist"),O=m("spotify-modal-dialog-playlist");return l(),_("div",null,[t("section",m0,[t("div",h0,[t("div",p0,[t("div",f0,[t("form",{onSubmit:s[1]||(s[1]=E((...P)=>i.new_search&&i.new_search(...P),["prevent"]))},[t("div",y0,[t("p",g0,[D(t("input",{class:"input is-rounded is-shadowless",type:"text",placeholder:"Search","onUpdate:modelValue":s[0]||(s[0]=P=>o.search_query=P),ref:"search_field",autocomplete:"off"},null,512),[[V,o.search_query]]),b0])])],32),t("div",k0,[(l(!0),_(R,null,L(i.recent_searches,P=>(l(),_("a",{class:"tag",key:P,onClick:Z=>i.open_recent_search(P)},u(P),9,w0))),128))])])])])]),c(n,{query:o.search_query},null,8,["query"]),i.show_tracks&&o.tracks.total?(l(),x(b,{key:0},{"heading-left":d(()=>[v0]),content:d(()=>[(l(!0),_(R,null,L(o.tracks.items,P=>(l(),x(h,{key:P.id,track:P,album:P.album,position:0,context_uri:P.uri},{actions:d(()=>[t("a",{onClick:Z=>i.open_track_dialog(P)},C0,8,$0)]),_:2},1032,["track","album","context_uri"]))),128)),o.query.type==="track"?(l(),x(p,{key:0,load:i.search_tracks_next},{"no-more":d(()=>[A0]),_:1},8,["load"])):y("",!0),c(w,{show:o.show_track_details_modal,track:o.selected_track,album:o.selected_track.album,onClose:s[2]||(s[2]=P=>o.show_track_details_modal=!1)},null,8,["show","track","album"])]),footer:d(()=>[i.show_all_tracks_button?(l(),_("nav",S0,[t("p",q0,[t("a",{class:"button is-light is-small is-rounded",onClick:s[3]||(s[3]=(...P)=>i.open_search_tracks&&i.open_search_tracks(...P))},"Show all "+u(o.tracks.total.toLocaleString())+" tracks",1)])])):y("",!0)]),_:1})):y("",!0),i.show_tracks&&!o.tracks.total?(l(),x(k,{key:1,class:"mt-6"},{content:d(()=>[P0]),_:1})):y("",!0),i.show_artists&&o.artists.total?(l(),x(b,{key:2},{"heading-left":d(()=>[T0]),content:d(()=>[(l(!0),_(R,null,L(o.artists.items,P=>(l(),x($,{key:P.id,artist:P},{actions:d(()=>[t("a",{onClick:Z=>i.open_artist_dialog(P)},I0,8,R0)]),_:2},1032,["artist"]))),128)),o.query.type==="artist"?(l(),x(p,{key:0,load:i.search_artists_next},{"no-more":d(()=>[U0]),_:1},8,["load"])):y("",!0),c(S,{show:o.show_artist_details_modal,artist:o.selected_artist,onClose:s[4]||(s[4]=P=>o.show_artist_details_modal=!1)},null,8,["show","artist"])]),footer:d(()=>[i.show_all_artists_button?(l(),_("nav",E0,[t("p",O0,[t("a",{class:"button is-light is-small is-rounded",onClick:s[5]||(s[5]=(...P)=>i.open_search_artists&&i.open_search_artists(...P))},"Show all "+u(o.artists.total.toLocaleString())+" artists",1)])])):y("",!0)]),_:1})):y("",!0),i.show_artists&&!o.artists.total?(l(),x(k,{key:3},{content:d(()=>[D0]),_:1})):y("",!0),i.show_albums&&o.albums.total?(l(),x(b,{key:4},{"heading-left":d(()=>[N0]),content:d(()=>[(l(!0),_(R,null,L(o.albums.items,P=>(l(),x(F,{key:P.id,album:P,onClick:Z=>i.open_album(P)},Y({actions:d(()=>[t("a",{onClick:Z=>i.open_album_dialog(P)},F0,8,V0)]),_:2},[i.is_visible_artwork?{name:"artwork",fn:d(()=>[t("p",z0,[c(q,{artwork_url:i.artwork_url(P),artist:P.artist,album:P.name,maxwidth:64,maxheight:64},null,8,["artwork_url","artist","album"])])])}:void 0]),1032,["album","onClick"]))),128)),o.query.type==="album"?(l(),x(p,{key:0,load:i.search_albums_next},{"no-more":d(()=>[M0]),_:1},8,["load"])):y("",!0),c(rt,{show:o.show_album_details_modal,album:o.selected_album,onClose:s[6]||(s[6]=P=>o.show_album_details_modal=!1)},null,8,["show","album"])]),footer:d(()=>[i.show_all_albums_button?(l(),_("nav",j0,[t("p",G0,[t("a",{class:"button is-light is-small is-rounded",onClick:s[7]||(s[7]=(...P)=>i.open_search_albums&&i.open_search_albums(...P))},"Show all "+u(o.albums.total.toLocaleString())+" albums",1)])])):y("",!0)]),_:1})):y("",!0),i.show_albums&&!o.albums.total?(l(),x(k,{key:5},{content:d(()=>[H0]),_:1})):y("",!0),i.show_playlists&&o.playlists.total?(l(),x(b,{key:6},{"heading-left":d(()=>[W0]),content:d(()=>[(l(!0),_(R,null,L(o.playlists.items,P=>(l(),x(dt,{key:P.id,playlist:P},{actions:d(()=>[t("a",{onClick:Z=>i.open_playlist_dialog(P)},Q0,8,K0)]),_:2},1032,["playlist"]))),128)),o.query.type==="playlist"?(l(),x(p,{key:0,load:i.search_playlists_next},{"no-more":d(()=>[J0]),_:1},8,["load"])):y("",!0),c(O,{show:o.show_playlist_details_modal,playlist:o.selected_playlist,onClose:s[8]||(s[8]=P=>o.show_playlist_details_modal=!1)},null,8,["show","playlist"])]),footer:d(()=>[i.show_all_playlists_button?(l(),_("nav",X0,[t("p",Z0,[t("a",{class:"button is-light is-small is-rounded",onClick:s[9]||(s[9]=(...P)=>i.open_search_playlists&&i.open_search_playlists(...P))},"Show all "+u(o.playlists.total.toLocaleString())+" playlists",1)])])):y("",!0)]),_:1})):y("",!0),i.show_playlists&&!o.playlists.total?(l(),x(k,{key:7},{content:d(()=>[tx]),_:1})):y("",!0)])}var ex=v(u0,[["render",sx]]);const ix={name:"TabsSettings",computed:{}},ox={class:"section fd-tabs-section"},ax={class:"container"},nx={class:"columns is-centered"},lx={class:"column is-four-fifths"},rx={class:"tabs is-centered is-small"},dx=["onClick","onKeypress"],_x=t("span",{class:""},"Webinterface",-1),cx=[_x],ux=["onClick","onKeypress"],mx=t("span",{class:""},"Remotes & Outputs",-1),hx=[mx],px=["onClick","onKeypress"],fx=t("span",{class:""},"Artwork",-1),yx=[fx],gx=["onClick","onKeypress"],bx=t("span",{class:""},"Online Services",-1),kx=[bx];function wx(e,s,a,r,o,i){const n=m("router-link");return l(),_("section",ox,[t("div",ax,[t("div",nx,[t("div",lx,[t("div",rx,[t("ul",null,[c(n,{to:"/settings/webinterface",custom:""},{default:d(({navigate:h,isActive:p})=>[t("li",{class:A({"is-active":p})},[t("a",{onClick:h,onKeypress:z(h,["enter"])},cx,40,dx)],2)]),_:1}),c(n,{to:"/settings/remotes-outputs",custom:""},{default:d(({navigate:h,isActive:p})=>[t("li",{class:A({"is-active":p})},[t("a",{onClick:h,onKeypress:z(h,["enter"])},hx,40,ux)],2)]),_:1}),c(n,{to:"/settings/artwork",custom:""},{default:d(({navigate:h,isActive:p})=>[t("li",{class:A({"is-active":p})},[t("a",{onClick:h,onKeypress:z(h,["enter"])},yx,40,px)],2)]),_:1}),c(n,{to:"/settings/online-services",custom:""},{default:d(({navigate:h,isActive:p})=>[t("li",{class:A({"is-active":p})},[t("a",{onClick:h,onKeypress:z(h,["enter"])},kx,40,gx)],2)]),_:1})])])])])])])}var Ht=v(ix,[["render",wx]]);const vx={name:"SettingsCheckbox",props:["category_name","option_name"],data(){return{timerDelay:2e3,timerId:-1,statusUpdate:""}},computed:{category(){return this.$store.state.settings.categories.find(e=>e.name===this.category_name)},option(){return this.category?this.category.options.find(e=>e.name===this.option_name):{}},value(){return this.option.value},info(){return this.statusUpdate==="success"?"(setting saved)":this.statusUpdate==="error"?"(error saving setting)":""}},methods:{set_update_timer(){this.timerId>0&&(window.clearTimeout(this.timerId),this.timerId=-1),this.statusUpdate="",this.$refs.settings_checkbox.checked!==this.value&&(this.timerId=window.setTimeout(this.update_setting,this.timerDelay))},update_setting(){this.timerId=-1;const e=this.$refs.settings_checkbox.checked;if(console.log(this.$refs.settings_checkbox),e===this.value){this.statusUpdate="";return}const s={category:this.category.name,name:this.option_name,value:e};f.settings_update(this.category.name,s).then(()=>{this.$store.commit(Bt,s),this.statusUpdate="success"}).catch(()=>{this.statusUpdate="error",this.$refs.settings_checkbox.checked=this.value}).finally(()=>{this.timerId=window.setTimeout(this.clear_status,this.timerDelay)})},clear_status:function(){this.statusUpdate=""}}},$x={class:"field"},xx={class:"checkbox"},Cx=["checked"],Ax={key:0,class:"help"};function Sx(e,s,a,r,o,i){return l(),_("div",$x,[t("label",xx,[t("input",{type:"checkbox",checked:i.value,onChange:s[0]||(s[0]=(...n)=>i.set_update_timer&&i.set_update_timer(...n)),ref:"settings_checkbox"},null,40,Cx),I(e.$slots,"label"),t("i",{class:A(["is-size-7",{"has-text-info":o.statusUpdate==="success","has-text-danger":o.statusUpdate==="error"}])},u(i.info),3)]),e.$slots.info?(l(),_("p",Ax,[I(e.$slots,"info")])):y("",!0)])}var js=v(vx,[["render",Sx]]);const qx={name:"SettingsTextfield",props:["category_name","option_name","placeholder","disabled"],data(){return{timerDelay:2e3,timerId:-1,statusUpdate:""}},computed:{category(){return this.$store.state.settings.categories.find(e=>e.name===this.category_name)},option(){return this.category?this.category.options.find(e=>e.name===this.option_name):{}},value(){return this.option.value},info(){return this.statusUpdate==="success"?"(setting saved)":this.statusUpdate==="error"?"(error saving setting)":""}},methods:{set_update_timer(){this.timerId>0&&(window.clearTimeout(this.timerId),this.timerId=-1),this.statusUpdate="",this.$refs.settings_text.value!==this.value&&(this.timerId=window.setTimeout(this.update_setting,this.timerDelay))},update_setting(){this.timerId=-1;const e=this.$refs.settings_text.value;if(e===this.value){this.statusUpdate="";return}const s={category:this.category.name,name:this.option_name,value:e};f.settings_update(this.category.name,s).then(()=>{this.$store.commit(Bt,s),this.statusUpdate="success"}).catch(()=>{this.statusUpdate="error",this.$refs.settings_text.value=this.value}).finally(()=>{this.timerId=window.setTimeout(this.clear_status,this.timerDelay)})},clear_status:function(){this.statusUpdate=""}}},Px=["disabled"],Tx={class:"field"},Rx={class:"label has-text-weight-normal"},Lx={class:"control"},Ix=["placeholder","value"],Ux={key:0,class:"help"};function Ex(e,s,a,r,o,i){return l(),_("fieldset",{disabled:a.disabled},[t("div",Tx,[t("label",Rx,[I(e.$slots,"label"),t("i",{class:A(["is-size-7",{"has-text-info":o.statusUpdate==="success","has-text-danger":o.statusUpdate==="error"}])},u(i.info),3)]),t("div",Lx,[t("input",{class:"input",type:"text",placeholder:a.placeholder,value:i.value,onInput:s[0]||(s[0]=(...n)=>i.set_update_timer&&i.set_update_timer(...n)),ref:"settings_text"},null,40,Ix)]),e.$slots.info?(l(),_("p",Ux,[I(e.$slots,"info")])):y("",!0)])],8,Px)}var Ox=v(qx,[["render",Ex]]);const Dx={name:"SettingsIntfield",props:["category_name","option_name","placeholder","disabled"],data(){return{timerDelay:2e3,timerId:-1,statusUpdate:""}},computed:{category(){return this.$store.state.settings.categories.find(e=>e.name===this.category_name)},option(){return this.category?this.category.options.find(e=>e.name===this.option_name):{}},value(){return this.option.value},info(){return this.statusUpdate==="success"?"(setting saved)":this.statusUpdate==="error"?"(error saving setting)":""}},methods:{set_update_timer(){this.timerId>0&&(window.clearTimeout(this.timerId),this.timerId=-1),this.statusUpdate="",this.$refs.settings_number.value!==this.value&&(this.timerId=window.setTimeout(this.update_setting,this.timerDelay))},update_setting(){this.timerId=-1;const e=this.$refs.settings_number.value;if(e===this.value){this.statusUpdate="";return}const s={category:this.category.name,name:this.option_name,value:parseInt(e,10)};f.settings_update(this.category.name,s).then(()=>{this.$store.commit(Bt,s),this.statusUpdate="success"}).catch(()=>{this.statusUpdate="error",this.$refs.settings_number.value=this.value}).finally(()=>{this.timerId=window.setTimeout(this.clear_status,this.timerDelay)})},clear_status:function(){this.statusUpdate=""}}},Nx=["disabled"],zx={class:"field"},Vx={class:"label has-text-weight-normal"},Bx={class:"control"},Fx=["placeholder","value"],Mx={key:0,class:"help"};function jx(e,s,a,r,o,i){return l(),_("fieldset",{disabled:a.disabled},[t("div",zx,[t("label",Vx,[I(e.$slots,"label"),t("i",{class:A(["is-size-7",{"has-text-info":o.statusUpdate==="success","has-text-danger":o.statusUpdate==="error"}])},u(i.info),3)]),t("div",Bx,[t("input",{class:"input",type:"number",min:"0",style:{width:"10em"},placeholder:a.placeholder,value:i.value,onInput:s[0]||(s[0]=(...n)=>i.set_update_timer&&i.set_update_timer(...n)),ref:"settings_number"},null,40,Fx)]),e.$slots.info?(l(),_("p",Mx,[I(e.$slots,"info")])):y("",!0)])],8,Nx)}var Gx=v(Dx,[["render",jx]]);const Hx={name:"SettingsPageWebinterface",components:{ContentWithHeading:U,TabsSettings:Ht,SettingsCheckbox:js,SettingsTextfield:Ox,SettingsIntfield:Gx},computed:{settings_option_show_composer_now_playing(){return this.$store.getters.settings_option_show_composer_now_playing}}},Wx={class:"fd-page-with-tabs"},Kx=t("div",{class:"title is-4"},"Navbar items",-1),Yx=t("p",{class:"content"}," Select the top navigation bar menu items ",-1),Qx=t("div",{class:"notification is-size-7"}," If you select more items than can be shown on your screen then the burger menu will disappear. ",-1),Jx=g(" Playlists"),Xx=g(" Music"),Zx=g(" Podcasts"),t2=g(" Audiobooks"),s2=g(" Radio"),e2=g(" Files"),i2=g(" Search"),o2=t("div",{class:"title is-4"},"Album lists",-1),a2=g(" Show cover artwork in album list"),n2=t("div",{class:"title is-4"},"Now playing page",-1),l2=g(" Show composer"),r2=g('If enabled the composer of the current playing track is shown on the "now playing page"'),d2=g("Show composer only for listed genres"),_2=t("p",{class:"help"},' Comma separated list of genres the composer should be displayed on the "now playing page". ',-1),c2=t("p",{class:"help"}," Leave empty to always show the composer. ",-1),u2=t("p",{class:"help"},[g(" The genre tag of the current track is matched by checking, if one of the defined genres are included. For example setting to "),t("code",null,"classical, soundtrack"),g(' will show the composer for tracks with a genre tag of "Contemporary Classical".'),t("br")],-1),m2=t("div",{class:"title is-4"},"Recently added page",-1),h2=g('Limit the number of albums shown on the "Recently Added" page');function p2(e,s,a,r,o,i){const n=m("tabs-settings"),h=m("settings-checkbox"),p=m("content-with-heading"),w=m("settings-textfield"),b=m("settings-intfield");return l(),_("div",Wx,[c(n),c(p,null,{"heading-left":d(()=>[Kx]),content:d(()=>[Yx,Qx,c(h,{category_name:"webinterface",option_name:"show_menu_item_playlists"},{label:d(()=>[Jx]),_:1}),c(h,{category_name:"webinterface",option_name:"show_menu_item_music"},{label:d(()=>[Xx]),_:1}),c(h,{category_name:"webinterface",option_name:"show_menu_item_podcasts"},{label:d(()=>[Zx]),_:1}),c(h,{category_name:"webinterface",option_name:"show_menu_item_audiobooks"},{label:d(()=>[t2]),_:1}),c(h,{category_name:"webinterface",option_name:"show_menu_item_radio"},{label:d(()=>[s2]),_:1}),c(h,{category_name:"webinterface",option_name:"show_menu_item_files"},{label:d(()=>[e2]),_:1}),c(h,{category_name:"webinterface",option_name:"show_menu_item_search"},{label:d(()=>[i2]),_:1})]),_:1}),c(p,null,{"heading-left":d(()=>[o2]),content:d(()=>[c(h,{category_name:"webinterface",option_name:"show_cover_artwork_in_album_lists"},{label:d(()=>[a2]),_:1})]),_:1}),c(p,null,{"heading-left":d(()=>[n2]),content:d(()=>[c(h,{category_name:"webinterface",option_name:"show_composer_now_playing"},{label:d(()=>[l2]),info:d(()=>[r2]),_:1}),c(w,{category_name:"webinterface",option_name:"show_composer_for_genre",disabled:!i.settings_option_show_composer_now_playing,placeholder:"Genres"},{label:d(()=>[d2]),info:d(()=>[_2,c2,u2]),_:1},8,["disabled"])]),_:1}),c(p,null,{"heading-left":d(()=>[m2]),content:d(()=>[c(b,{category_name:"webinterface",option_name:"recently_added_limit"},{label:d(()=>[h2]),_:1})]),_:1})])}var f2=v(Hx,[["render",p2]]);const y2={name:"SettingsPageArtwork",components:{ContentWithHeading:U,TabsSettings:Ht,SettingsCheckbox:js},computed:{spotify(){return this.$store.state.spotify}}},g2={class:"fd-page-with-tabs"},b2=t("div",{class:"title is-4"},"Artwork",-1),k2=t("div",{class:"content"},[t("p",null," OwnTone supports PNG and JPEG artwork which is either placed as separate image files in the library, embedded in the media files or made available online by radio stations. "),t("p",null,"In addition to that, you can enable fetching artwork from the following artwork providers:")],-1),w2=g(" Spotify"),v2=g(" Discogs ("),$2=t("a",{href:"https://www.discogs.com/"},"https://www.discogs.com/",-1),x2=g(")"),C2=g(" Cover Art Archive ("),A2=t("a",{href:"https://coverartarchive.org/"},"https://coverartarchive.org/",-1),S2=g(")");function q2(e,s,a,r,o,i){const n=m("tabs-settings"),h=m("settings-checkbox"),p=m("content-with-heading");return l(),_("div",g2,[c(n),c(p,null,{"heading-left":d(()=>[b2]),content:d(()=>[k2,i.spotify.libspotify_logged_in?(l(),x(h,{key:0,category_name:"artwork",option_name:"use_artwork_source_spotify"},{label:d(()=>[w2]),_:1})):y("",!0),c(h,{category_name:"artwork",option_name:"use_artwork_source_discogs"},{label:d(()=>[v2,$2,x2]),_:1}),c(h,{category_name:"artwork",option_name:"use_artwork_source_coverartarchive"},{label:d(()=>[C2,A2,S2]),_:1})]),_:1})])}var P2=v(y2,[["render",q2]]);const T2={name:"SettingsPageOnlineServices",components:{ContentWithHeading:U,TabsSettings:Ht},data(){return{libspotify:{user:"",password:"",errors:{user:"",password:"",error:""}},lastfm_login:{user:"",password:"",errors:{user:"",password:"",error:""}}}},computed:{lastfm(){return this.$store.state.lastfm},spotify(){return this.$store.state.spotify},spotify_required_scope(){return this.spotify.webapi_required_scope?this.spotify.webapi_required_scope.split(" "):[]},spotify_missing_scope(){return this.spotify.webapi_token_valid&&this.spotify.webapi_granted_scope&&this.spotify.webapi_required_scope?this.spotify.webapi_required_scope.split(" ").filter(e=>this.spotify.webapi_granted_scope.indexOf(e)<0):[]},use_libspotify(){return this.$store.state.config.use_libspotify}},methods:{login_libspotify(){f.spotify_login(this.libspotify).then(e=>{this.libspotify.user="",this.libspotify.password="",this.libspotify.errors.user="",this.libspotify.errors.password="",this.libspotify.errors.error="",e.data.success||(this.libspotify.errors.user=e.data.errors.user,this.libspotify.errors.password=e.data.errors.password,this.libspotify.errors.error=e.data.errors.error)})},logout_spotify(){f.spotify_logout()},login_lastfm(){f.lastfm_login(this.lastfm_login).then(e=>{this.lastfm_login.user="",this.lastfm_login.password="",this.lastfm_login.errors.user="",this.lastfm_login.errors.password="",this.lastfm_login.errors.error="",e.data.success||(this.lastfm_login.errors.user=e.data.errors.user,this.lastfm_login.errors.password=e.data.errors.password,this.lastfm_login.errors.error=e.data.errors.error)})},logoutLastfm(){f.lastfm_logout()}},filters:{join(e){return e.join(", ")}}},R2={class:"fd-page-with-tabs"},L2=t("div",{class:"title is-4"},"Spotify",-1),I2={key:0,class:"notification is-size-7"},U2=t("p",null,"OwnTone was either built without support for Spotify or libspotify is not installed.",-1),E2=[U2],O2={key:1},D2={class:"notification is-size-7"},N2=t("b",null,"You must have a Spotify premium account",-1),z2=g(". "),V2={key:0},B2={key:0},F2=t("p",{class:"content"},[t("b",null,"libspotify"),g(" - Login with your Spotify username and password ")],-1),M2={key:0,class:"fd-has-margin-bottom"},j2=g(" Logged in as "),G2={class:"field is-grouped"},H2={class:"control is-expanded"},W2={class:"help is-danger"},K2={class:"control is-expanded"},Y2={class:"help is-danger"},Q2=t("div",{class:"control"},[t("button",{class:"button is-info"},"Login")],-1),J2={class:"help is-danger"},X2=t("p",{class:"help"}," libspotify enables OwnTone to play Spotify tracks. ",-1),Z2=t("p",{class:"help"}," OwnTone will not store your password, but will still be able to log you in automatically afterwards, because libspotify saves a login token. ",-1),tC={class:"fd-has-margin-top"},sC=t("p",{class:"content"},[t("b",null,"Spotify Web API"),g(" - Grant access to the Spotify Web API ")],-1),eC={key:0},iC=g(" Access granted for "),oC={key:1,class:"help is-danger"},aC=g(" Please reauthorize Web API access to grant OwnTone the following additional access rights: "),nC={class:"field fd-has-margin-top"},lC={class:"control"},rC=["href"],dC={class:"help"},_C=g(" Access to the Spotify Web API enables scanning of your Spotify library. Required scopes are "),cC=g(". "),uC={key:2,class:"field fd-has-margin-top"},mC={class:"control"},hC=t("div",{class:"title is-4"},"Last.fm",-1),pC={key:0,class:"notification is-size-7"},fC=t("p",null,"OwnTone was built without support for Last.fm.",-1),yC=[fC],gC={key:1},bC=t("p",{class:"content"},[t("b",null,"Last.fm"),g(" - Login with your Last.fm username and password to enable scrobbling ")],-1),kC={key:0},wC={key:1},vC={class:"field is-grouped"},$C={class:"control is-expanded"},xC={class:"help is-danger"},CC={class:"control is-expanded"},AC={class:"help is-danger"},SC=t("div",{class:"control"},[t("button",{class:"button is-info",type:"submit"},"Login")],-1),qC={class:"help is-danger"},PC=t("p",{class:"help"}," OwnTone will not store your Last.fm username/password, only the session key. The session key does not expire. ",-1);function TC(e,s,a,r,o,i){const n=m("tabs-settings"),h=m("content-with-heading");return l(),_("div",R2,[c(n),c(h,null,{"heading-left":d(()=>[L2]),content:d(()=>[i.spotify.spotify_installed?y("",!0):(l(),_("div",I2,E2)),i.spotify.spotify_installed?(l(),_("div",O2,[t("div",D2,[N2,z2,e.use_libspotity?(l(),_("span",V2,"If you normally log into Spotify with your Facebook account you must first go to Spotify's web site where you can get the Spotify username and password that matches your account.")):y("",!0)]),e.use_libspotity?(l(),_("div",B2,[F2,i.spotify.libspotify_logged_in?(l(),_("p",M2,[j2,t("b",null,[t("code",null,u(i.spotify.libspotify_user),1)])])):y("",!0),i.spotify.spotify_installed&&!i.spotify.libspotify_logged_in?(l(),_("form",{key:1,onSubmit:s[2]||(s[2]=E((...p)=>i.login_libspotify&&i.login_libspotify(...p),["prevent"]))},[t("div",G2,[t("div",H2,[D(t("input",{class:"input",type:"text",placeholder:"Username","onUpdate:modelValue":s[0]||(s[0]=p=>o.libspotify.user=p)},null,512),[[V,o.libspotify.user]]),t("p",W2,u(o.libspotify.errors.user),1)]),t("div",K2,[D(t("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":s[1]||(s[1]=p=>o.libspotify.password=p)},null,512),[[V,o.libspotify.password]]),t("p",Y2,u(o.libspotify.errors.password),1)]),Q2])],32)):y("",!0),t("p",J2,u(o.libspotify.errors.error),1),X2,Z2])):y("",!0),t("div",tC,[sC,i.spotify.webapi_token_valid?(l(),_("p",eC,[iC,t("b",null,[t("code",null,u(i.spotify.webapi_user),1)])])):y("",!0),i.spotify_missing_scope.length>0?(l(),_("p",oC,[aC,t("b",null,[t("code",null,u(i.spotify_missing_scope.join()),1)])])):y("",!0),t("div",nC,[t("div",lC,[t("a",{class:A(["button",{"is-info":!i.spotify.webapi_token_valid||i.spotify_missing_scope.length>0}]),href:i.spotify.oauth_uri},"Authorize Web API access",10,rC)])]),t("p",dC,[_C,t("code",null,u(i.spotify_required_scope.join()),1),cC]),i.spotify.webapi_token_valid?(l(),_("div",uC,[t("div",mC,[t("a",{class:"button is-danger",onClick:s[3]||(s[3]=(...p)=>i.logout_spotify&&i.logout_spotify(...p))},"Logout")])])):y("",!0)])])):y("",!0)]),_:1}),c(h,null,{"heading-left":d(()=>[hC]),content:d(()=>[i.lastfm.enabled?y("",!0):(l(),_("div",pC,yC)),i.lastfm.enabled?(l(),_("div",gC,[bC,i.lastfm.scrobbling_enabled?(l(),_("div",kC,[t("a",{class:"button",onClick:s[4]||(s[4]=(...p)=>i.logoutLastfm&&i.logoutLastfm(...p))},"Stop scrobbling")])):y("",!0),i.lastfm.scrobbling_enabled?y("",!0):(l(),_("div",wC,[t("form",{onSubmit:s[7]||(s[7]=E((...p)=>i.login_lastfm&&i.login_lastfm(...p),["prevent"]))},[t("div",vC,[t("div",$C,[D(t("input",{class:"input",type:"text",placeholder:"Username","onUpdate:modelValue":s[5]||(s[5]=p=>o.lastfm_login.user=p)},null,512),[[V,o.lastfm_login.user]]),t("p",xC,u(o.lastfm_login.errors.user),1)]),t("div",CC,[D(t("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":s[6]||(s[6]=p=>o.lastfm_login.password=p)},null,512),[[V,o.lastfm_login.password]]),t("p",AC,u(o.lastfm_login.errors.password),1)]),SC]),t("p",qC,u(o.lastfm_login.errors.error),1),PC],32)]))])):y("",!0)]),_:1})])}var RC=v(T2,[["render",TC]]);const LC={name:"SettingsPageRemotesOutputs",components:{ContentWithHeading:U,TabsSettings:Ht},data(){return{pairing_req:{pin:""},verification_req:{pin:""}}},computed:{pairing(){return this.$store.state.pairing},outputs(){return this.$store.state.outputs}},methods:{kickoff_pairing(){f.pairing_kickoff(this.pairing_req)},output_toggle(e){f.output_toggle(e)},kickoff_verification(e){f.output_update(e,this.verification_req)}},filters:{}},IC={class:"fd-page-with-tabs"},UC=t("div",{class:"title is-4"},"Remote Pairing",-1),EC={key:0,class:"notification"},OC={class:"label has-text-weight-normal"},DC=g(" Remote pairing request from "),NC={class:"field is-grouped"},zC={class:"control"},VC=t("div",{class:"control"},[t("button",{class:"button is-info",type:"submit"},"Send")],-1),BC={key:1,class:"content"},FC=t("p",null,"No active pairing request.",-1),MC=[FC],jC=t("div",{class:"title is-4"},"Speaker pairing and device verification",-1),GC=t("p",{class:"content"}," If your speaker requires pairing then activate it below and enter the PIN that it displays. ",-1),HC={class:"field"},WC={class:"control"},KC={class:"checkbox"},YC=["onUpdate:modelValue","onChange"],QC=["onSubmit"],JC={class:"field is-grouped"},XC={class:"control"},ZC=t("div",{class:"control"},[t("button",{class:"button is-info",type:"submit"},"Verify")],-1);function t3(e,s,a,r,o,i){const n=m("tabs-settings"),h=m("content-with-heading");return l(),_("div",IC,[c(n),c(h,null,{"heading-left":d(()=>[UC]),content:d(()=>[i.pairing.active?(l(),_("div",EC,[t("form",{onSubmit:s[1]||(s[1]=E((...p)=>i.kickoff_pairing&&i.kickoff_pairing(...p),["prevent"]))},[t("label",OC,[DC,t("b",null,u(i.pairing.remote),1)]),t("div",NC,[t("div",zC,[D(t("input",{class:"input",type:"text",placeholder:"Enter pairing code","onUpdate:modelValue":s[0]||(s[0]=p=>o.pairing_req.pin=p)},null,512),[[V,o.pairing_req.pin]])]),VC])],32)])):y("",!0),i.pairing.active?y("",!0):(l(),_("div",BC,MC))]),_:1}),c(h,null,{"heading-left":d(()=>[jC]),content:d(()=>[GC,(l(!0),_(R,null,L(i.outputs,p=>(l(),_("div",{key:p.id},[t("div",HC,[t("div",WC,[t("label",KC,[D(t("input",{type:"checkbox","onUpdate:modelValue":w=>p.selected=w,onChange:w=>i.output_toggle(p.id)},null,40,YC),[[Q,p.selected]]),g(" "+u(p.name),1)])])]),p.needs_auth_key?(l(),_("form",{key:0,onSubmit:E(w=>i.kickoff_verification(p.id),["prevent"]),class:"fd-has-margin-bottom"},[t("div",JC,[t("div",XC,[D(t("input",{class:"input",type:"text",placeholder:"Enter verification code","onUpdate:modelValue":s[2]||(s[2]=w=>o.verification_req.pin=w)},null,512),[[V,o.verification_req.pin]])]),ZC])],40,QC)):y("",!0)]))),128))]),_:1})])}var s3=v(LC,[["render",t3]]);const Gs=Xs({history:Zs(),routes:[{path:"/",name:"PageQueue",component:ea},{path:"/about",name:"About",component:tk},{path:"/now-playing",name:"Now playing",component:$a},{path:"/music",redirect:"/music/browse"},{path:"/music/browse",name:"Browse",component:ld,meta:{show_progress:!0,has_tabs:!0}},{path:"/music/browse/recently_added",name:"Browse Recently Added",component:md,meta:{show_progress:!0,has_tabs:!0}},{path:"/music/browse/recently_played",name:"Browse Recently Played",component:bd,meta:{show_progress:!0,has_tabs:!0}},{path:"/music/artists",name:"Artists",component:F_,meta:{show_progress:!0,has_tabs:!0,has_index:!0}},{path:"/music/artists/:artist_id",name:"Artist",component:ic,meta:{show_progress:!0,has_index:!0}},{path:"/music/artists/:artist_id/tracks",name:"Tracks",component:pm,meta:{show_progress:!0,has_index:!0}},{path:"/music/albums",name:"Albums",component:vc,meta:{show_progress:!0,has_tabs:!0,has_index:!0}},{path:"/music/albums/:album_id",name:"Album",component:Jc,meta:{show_progress:!0}},{path:"/music/genres",name:"Genres",component:Iu,meta:{show_progress:!0,has_tabs:!0,has_index:!0}},{path:"/music/genres/:genre",name:"Genre",component:Gu,meta:{show_progress:!0,has_index:!0}},{path:"/music/genres/:genre/tracks",name:"GenreTracks",component:im,meta:{show_progress:!0,has_index:!0}},{path:"/music/composers",name:"Composers",component:nh,meta:{show_progress:!0,has_tabs:!0,has_index:!0}},{path:"/music/composers/:composer/albums",name:"ComposerAlbums",component:vh,meta:{show_progress:!0,has_tabs:!0,has_index:!0}},{path:"/music/composers/:composer/tracks",name:"ComposerTracks",component:Dh,meta:{show_progress:!0,has_tabs:!0,has_index:!0}},{path:"/podcasts",name:"Podcasts",component:Tp,meta:{show_progress:!0}},{path:"/podcasts/:album_id",name:"Podcast",component:Kp,meta:{show_progress:!0}},{path:"/audiobooks",redirect:"/audiobooks/artists"},{path:"/audiobooks/artists",name:"AudiobooksArtists",component:vf,meta:{show_progress:!0,has_tabs:!0,has_index:!0}},{path:"/audiobooks/artists/:artist_id",name:"AudiobooksArtist",component:Uf,meta:{show_progress:!0}},{path:"/audiobooks/albums",name:"AudiobooksAlbums",component:ff,meta:{show_progress:!0,has_tabs:!0,has_index:!0}},{path:"/audiobooks/:album_id",name:"Audiobook",component:Kf,meta:{show_progress:!0}},{path:"/radio",name:"Radio",component:eb,meta:{show_progress:!0}},{path:"/files",name:"Files",component:Jg,meta:{show_progress:!0}},{path:"/playlists",redirect:"/playlists/0"},{path:"/playlists/:playlist_id",name:"Playlists",component:Dy,meta:{show_progress:!0}},{path:"/playlists/:playlist_id/tracks",name:"Playlist",component:Yy,meta:{show_progress:!0}},{path:"/search",redirect:"/search/library"},{path:"/search/library",name:"Search Library",component:_1},{path:"/music/spotify",name:"Spotify",component:Ew,meta:{show_progress:!0,has_tabs:!0}},{path:"/music/spotify/new-releases",name:"Spotify Browse New Releases",component:jw,meta:{show_progress:!0,has_tabs:!0}},{path:"/music/spotify/featured-playlists",name:"Spotify Browse Featured Playlists",component:Xw,meta:{show_progress:!0,has_tabs:!0}},{path:"/music/spotify/artists/:artist_id",name:"Spotify Artist",component:Vv,meta:{show_progress:!0}},{path:"/music/spotify/albums/:album_id",name:"Spotify Album",component:M$,meta:{show_progress:!0}},{path:"/music/spotify/playlists/:playlist_id",name:"Spotify Playlist",component:a0,meta:{show_progress:!0}},{path:"/search/spotify",name:"Spotify Search",component:ex},{path:"/settings/webinterface",name:"Settings Webinterface",component:f2},{path:"/settings/artwork",name:"Settings Artwork",component:P2},{path:"/settings/online-services",name:"Settings Online Services",component:RC},{path:"/settings/remotes-outputs",name:"Settings Remotes Outputs",component:s3}],scrollBehavior(e,s,a){return a?new Promise((r,o)=>{setTimeout(()=>{r(a)},100)}):e.path===s.path&&e.hash?{el:e.hash,top:120}:e.hash?new Promise((r,o)=>{setTimeout(()=>{r({el:e.hash,top:120})},500)}):e.meta.has_index?new Promise((r,o)=>{setTimeout(()=>{e.meta.has_tabs?r({el:"#top",top:140}):r({el:"#top",top:100})},500)}):{left:0,top:0}}});Gs.beforeEach((e,s,a)=>{if(T.state.show_burger_menu){T.commit(J,!1),a(!1);return}if(T.state.show_player_menu){T.commit(X,!1),a(!1);return}a(!0)});te(K);const e3={duration:function(e,s){return s?K.duration(e).format(s):K.duration(e).format("hh:*mm:ss")},time:function(e,s){return s?K(e).format(s):K(e).format()},timeFromNow:function(e,s){return K(e).fromNow(s)},number:function(e){return e.toLocaleString()},channels:function(e){return e===1?"mono":e===2?"stereo":e?e+" channels":""}},i3={name:"NavbarItemLink",props:{to:String,exact:Boolean},computed:{is_active(){return this.exact?this.$route.path===this.to:this.$route.path.startsWith(this.to)},show_player_menu:{get(){return this.$store.state.show_player_menu},set(e){this.$store.commit(X,e)}},show_burger_menu:{get(){return this.$store.state.show_burger_menu},set(e){this.$store.commit(J,e)}}},methods:{open_link:function(){this.show_burger_menu&&this.$store.commit(J,!1),this.show_player_menu&&this.$store.commit(X,!1),this.$router.push({path:this.to})},full_path:function(){return this.$router.resolve(this.to).href}}},o3=["href"];function a3(e,s,a,r,o,i){return l(),_("a",{class:A(["navbar-item",{"is-active":i.is_active}]),onClick:s[0]||(s[0]=E(n=>i.open_link(),["stop","prevent"])),href:i.full_path()},[I(e.$slots,"default")],10,o3)}var Hs=v(i3,[["render",a3]]);const n3={name:"NavbarTop",components:{NavbarItemLink:Hs},data(){return{show_settings_menu:!1}},computed:{is_visible_playlists(){return this.$store.getters.settings_option("webinterface","show_menu_item_playlists").value},is_visible_music(){return this.$store.getters.settings_option("webinterface","show_menu_item_music").value},is_visible_podcasts(){return this.$store.getters.settings_option("webinterface","show_menu_item_podcasts").value},is_visible_audiobooks(){return this.$store.getters.settings_option("webinterface","show_menu_item_audiobooks").value},is_visible_radio(){return this.$store.getters.settings_option("webinterface","show_menu_item_radio").value},is_visible_files(){return this.$store.getters.settings_option("webinterface","show_menu_item_files").value},is_visible_search(){return this.$store.getters.settings_option("webinterface","show_menu_item_search").value},player(){return this.$store.state.player},config(){return this.$store.state.config},library(){return this.$store.state.library},audiobooks(){return this.$store.state.audiobooks_count},podcasts(){return this.$store.state.podcasts_count},spotify_enabled(){return this.$store.state.spotify.webapi_token_valid},show_burger_menu:{get(){return this.$store.state.show_burger_menu},set(e){this.$store.commit(J,e)}},show_player_menu(){return this.$store.state.show_player_menu},show_update_dialog:{get(){return this.$store.state.show_update_dialog},set(e){this.$store.commit(et,e)}},zindex(){return this.show_player_menu?"z-index: 20":""}},methods:{on_click_outside_settings(){this.show_settings_menu=!this.show_settings_menu}},watch:{$route(e,s){this.show_settings_menu=!1}}},l3={class:"navbar-brand"},r3=t("span",{class:"icon"},[t("i",{class:"mdi mdi-library-music"})],-1),d3=t("span",{class:"icon"},[t("i",{class:"mdi mdi-music"})],-1),_3=t("span",{class:"icon"},[t("i",{class:"mdi mdi-microphone"})],-1),c3=t("span",{class:"icon"},[t("i",{class:"mdi mdi-book-open-variant"})],-1),u3=t("span",{class:"icon"},[t("i",{class:"mdi mdi-radio"})],-1),m3=t("span",{class:"icon"},[t("i",{class:"mdi mdi-folder-open"})],-1),h3=t("span",{class:"icon"},[t("i",{class:"mdi mdi-magnify"})],-1),p3=t("span",null,null,-1),f3=t("span",null,null,-1),y3=t("span",null,null,-1),g3=[p3,f3,y3],b3=t("div",{class:"navbar-start"},null,-1),k3={class:"navbar-end"},w3=t("a",{class:"navbar-link is-arrowless"},[t("span",{class:"icon is-hidden-touch"},[t("i",{class:"mdi mdi-24px mdi-menu"})]),t("span",{class:"is-hidden-desktop has-text-weight-bold"},"OwnTone")],-1),v3={class:"navbar-dropdown is-right"},$3=t("span",{class:"icon"},[t("i",{class:"mdi mdi-library-music"})],-1),x3=g(),C3=t("b",null,"Playlists",-1),A3=t("span",{class:"icon"},[t("i",{class:"mdi mdi-music"})],-1),S3=g(),q3=t("b",null,"Music",-1),P3=t("span",{class:"fd-navbar-item-level2"},"Artists",-1),T3=t("span",{class:"fd-navbar-item-level2"},"Albums",-1),R3=t("span",{class:"fd-navbar-item-level2"},"Genres",-1),L3=t("span",{class:"fd-navbar-item-level2"},"Spotify",-1),I3=t("span",{class:"icon"},[t("i",{class:"mdi mdi-microphone"})],-1),U3=g(),E3=t("b",null,"Podcasts",-1),O3=t("span",{class:"icon"},[t("i",{class:"mdi mdi-book-open-variant"})],-1),D3=g(),N3=t("b",null,"Audiobooks",-1),z3=t("span",{class:"icon"},[t("i",{class:"mdi mdi-radio"})],-1),V3=g(),B3=t("b",null,"Radio",-1),F3=t("span",{class:"icon"},[t("i",{class:"mdi mdi-folder-open"})],-1),M3=g(),j3=t("b",null,"Files",-1),G3=t("span",{class:"icon"},[t("i",{class:"mdi mdi-magnify"})],-1),H3=g(),W3=t("b",null,"Search",-1),K3=t("hr",{class:"fd-navbar-divider"},null,-1),Y3=g("Settings"),Q3=g("About"),J3=t("div",{class:"navbar-item is-hidden-desktop",style:{"margin-bottom":"2.5rem"}},null,-1);function X3(e,s,a,r,o,i){const n=m("navbar-item-link");return l(),_("nav",{class:"fd-top-navbar navbar is-light is-fixed-top",style:Jt(i.zindex),role:"navigation","aria-label":"main navigation"},[t("div",l3,[i.is_visible_playlists?(l(),x(n,{key:0,to:"/playlists"},{default:d(()=>[r3]),_:1})):y("",!0),i.is_visible_music?(l(),x(n,{key:1,to:"/music"},{default:d(()=>[d3]),_:1})):y("",!0),i.is_visible_podcasts?(l(),x(n,{key:2,to:"/podcasts"},{default:d(()=>[_3]),_:1})):y("",!0),i.is_visible_audiobooks?(l(),x(n,{key:3,to:"/audiobooks"},{default:d(()=>[c3]),_:1})):y("",!0),i.is_visible_radio?(l(),x(n,{key:4,to:"/radio"},{default:d(()=>[u3]),_:1})):y("",!0),i.is_visible_files?(l(),x(n,{key:5,to:"/files"},{default:d(()=>[m3]),_:1})):y("",!0),i.is_visible_search?(l(),x(n,{key:6,to:"/search"},{default:d(()=>[h3]),_:1})):y("",!0),t("div",{class:A(["navbar-burger",{"is-active":i.show_burger_menu}]),onClick:s[0]||(s[0]=h=>i.show_burger_menu=!i.show_burger_menu)},g3,2)]),t("div",{class:A(["navbar-menu",{"is-active":i.show_burger_menu}])},[b3,t("div",k3,[t("div",{class:A(["navbar-item has-dropdown is-hoverable",{"is-active":o.show_settings_menu}]),onClick:s[2]||(s[2]=(...h)=>i.on_click_outside_settings&&i.on_click_outside_settings(...h))},[w3,t("div",v3,[c(n,{to:"/playlists"},{default:d(()=>[$3,x3,C3]),_:1}),c(n,{to:"/music",exact:""},{default:d(()=>[A3,S3,q3]),_:1}),c(n,{to:"/music/artists"},{default:d(()=>[P3]),_:1}),c(n,{to:"/music/albums"},{default:d(()=>[T3]),_:1}),c(n,{to:"/music/genres"},{default:d(()=>[R3]),_:1}),i.spotify_enabled?(l(),x(n,{key:0,to:"/music/spotify"},{default:d(()=>[L3]),_:1})):y("",!0),c(n,{to:"/podcasts"},{default:d(()=>[I3,U3,E3]),_:1}),c(n,{to:"/audiobooks"},{default:d(()=>[O3,D3,N3]),_:1}),c(n,{to:"/radio"},{default:d(()=>[z3,V3,B3]),_:1}),c(n,{to:"/files"},{default:d(()=>[F3,M3,j3]),_:1}),c(n,{to:"/search"},{default:d(()=>[G3,H3,W3]),_:1}),K3,c(n,{to:"/settings/webinterface"},{default:d(()=>[Y3]),_:1}),t("a",{class:"navbar-item",onClick:s[1]||(s[1]=E(h=>{i.show_update_dialog=!0,o.show_settings_menu=!1,i.show_burger_menu=!1},["stop","prevent"]))}," Update Library "),c(n,{to:"/about"},{default:d(()=>[Q3]),_:1}),J3])],2)])],2),D(t("div",{class:"is-overlay",style:{"z-index":"10",width:"100vw",height:"100vh"},onClick:s[3]||(s[3]=h=>o.show_settings_menu=!1)},null,512),[[Vt,o.show_settings_menu]])],4)}var Z3=v(n3,[["render",X3]]),st={_audio:new Audio,_context:null,_source:null,_gain:null,setupAudio(){const e=window.AudioContext||window.webkitAudioContext;return this._context=new e,this._source=this._context.createMediaElementSource(this._audio),this._gain=this._context.createGain(),this._source.connect(this._gain),this._gain.connect(this._context.destination),this._audio.addEventListener("canplaythrough",s=>{this._audio.play()}),this._audio.addEventListener("canplay",s=>{this._audio.play()}),this._audio},setVolume(e){!this._gain||(e=parseFloat(e)||0,e=e<0?0:e,e=e>1?1:e,this._gain.gain.value=e)},playSource(e){this.stopAudio(),this._context.resume().then(()=>{this._audio.src=String(e||"")+"?x="+Date.now(),this._audio.crossOrigin="anonymous",this._audio.load()})},stopAudio(){try{this._audio.pause()}catch{}try{this._audio.stop()}catch{}try{this._audio.close()}catch{}}};const t4={name:"NavbarItemOutput",components:{Slider:Qt},props:["output"],computed:{type_class(){return this.output.type.startsWith("AirPlay")?"mdi-airplay":this.output.type==="Chromecast"?"mdi-cast":this.output.type==="fifo"?"mdi-pipe":"mdi-server"},volume(){return this.output.selected?this.output.volume:0}},methods:{play_next:function(){f.player_next()},set_volume:function(e){f.player_output_volume(this.output.id,e)},set_enabled:function(){const e={selected:!this.output.selected};f.output_update(this.output.id,e)}}},s4={class:"navbar-item"},e4={class:"level is-mobile"},i4={class:"level-left fd-expanded"},o4={class:"level-item",style:{"flex-grow":"0"}},a4={class:"button is-white is-small"},n4=["title"],l4={class:"level-item fd-expanded"},r4={class:"fd-expanded"};function d4(e,s,a,r,o,i){const n=m("Slider");return l(),_("div",s4,[t("div",e4,[t("div",i4,[t("div",o4,[t("a",a4,[t("span",{class:A(["icon fd-has-action",{"has-text-grey-light":!a.output.selected}]),onClick:s[0]||(s[0]=(...h)=>i.set_enabled&&i.set_enabled(...h))},[t("i",{class:A(["mdi mdi-18px",i.type_class]),title:a.output.type},null,10,n4)],2)])]),t("div",l4,[t("div",r4,[t("p",{class:A(["heading",{"has-text-grey-light":!a.output.selected}])},u(a.output.name),3),c(n,{modelValue:i.volume,"onUpdate:modelValue":s[1]||(s[1]=h=>i.volume=h),min:0,max:100,step:1,tooltips:!1,disabled:!a.output.selected,onChange:i.set_volume,classes:{target:"slider"}},null,8,["modelValue","disabled","onChange"])])])])])])}var _4=v(t4,[["render",d4]]);const c4={name:"PlayerButtonPlayPause",props:{icon_style:String,show_disabled_message:Boolean},computed:{is_playing(){return this.$store.state.player.state==="play"},is_pause_allowed(){return this.$store.getters.now_playing&&this.$store.getters.now_playing.data_kind!=="pipe"},disabled(){return!this.$store.state.queue||this.$store.state.queue.count<=0}},methods:{toggle_play_pause:function(){if(this.disabled){this.show_disabled_message&&this.$store.dispatch("add_notification",{text:"Queue is empty",type:"info",topic:"connection",timeout:2e3});return}this.is_playing&&this.is_pause_allowed?f.player_pause():this.is_playing&&!this.is_pause_allowed?f.player_stop():f.player_play()}}},u4=["disabled"],m4={class:"icon"};function h4(e,s,a,r,o,i){return l(),_("a",{onClick:s[0]||(s[0]=(...n)=>i.toggle_play_pause&&i.toggle_play_pause(...n)),disabled:i.disabled},[t("span",m4,[t("i",{class:A(["mdi",[a.icon_style,{"mdi-play":!i.is_playing,"mdi-pause":i.is_playing&&i.is_pause_allowed,"mdi-stop":i.is_playing&&!i.is_pause_allowed}]])},null,2)])],8,u4)}var p4=v(c4,[["render",h4]]);const f4={name:"PlayerButtonNext",props:{icon_style:String},computed:{disabled(){return!this.$store.state.queue||this.$store.state.queue.count<=0}},methods:{play_next:function(){this.disabled||f.player_next()}}},y4=["disabled"],g4={class:"icon"};function b4(e,s,a,r,o,i){return l(),_("a",{onClick:s[0]||(s[0]=(...n)=>i.play_next&&i.play_next(...n)),disabled:i.disabled},[t("span",g4,[t("i",{class:A(["mdi mdi-skip-forward",a.icon_style])},null,2)])],8,y4)}var k4=v(f4,[["render",b4]]);const w4={name:"PlayerButtonPrevious",props:{icon_style:String},computed:{disabled(){return!this.$store.state.queue||this.$store.state.queue.count<=0}},methods:{play_previous:function(){this.disabled||f.player_previous()}}},v4=["disabled"],$4={class:"icon"};function x4(e,s,a,r,o,i){return l(),_("a",{onClick:s[0]||(s[0]=(...n)=>i.play_previous&&i.play_previous(...n)),disabled:i.disabled},[t("span",$4,[t("i",{class:A(["mdi mdi-skip-backward",a.icon_style])},null,2)])],8,v4)}var C4=v(w4,[["render",x4]]);const A4={name:"PlayerButtonShuffle",props:{icon_style:String},computed:{is_shuffle(){return this.$store.state.player.shuffle}},methods:{toggle_shuffle_mode:function(){f.player_shuffle(!this.is_shuffle)}}},S4={class:"icon"};function q4(e,s,a,r,o,i){return l(),_("a",{onClick:s[0]||(s[0]=(...n)=>i.toggle_shuffle_mode&&i.toggle_shuffle_mode(...n)),class:A({"is-warning":i.is_shuffle})},[t("span",S4,[t("i",{class:A(["mdi",[a.icon_style,{"mdi-shuffle":i.is_shuffle,"mdi-shuffle-disabled":!i.is_shuffle}]])},null,2)])],2)}var P4=v(A4,[["render",q4]]);const T4={name:"PlayerButtonConsume",props:{icon_style:String},computed:{is_consume(){return this.$store.state.player.consume}},methods:{toggle_consume_mode:function(){f.player_consume(!this.is_consume)}}},R4={class:"icon"};function L4(e,s,a,r,o,i){return l(),_("a",{onClick:s[0]||(s[0]=(...n)=>i.toggle_consume_mode&&i.toggle_consume_mode(...n)),class:A({"is-warning":i.is_consume})},[t("span",R4,[t("i",{class:A(["mdi mdi-fire",a.icon_style])},null,2)])],2)}var I4=v(T4,[["render",L4]]);const U4={name:"PlayerButtonRepeat",props:{icon_style:String},computed:{is_repeat_all(){return this.$store.state.player.repeat==="all"},is_repeat_single(){return this.$store.state.player.repeat==="single"},is_repeat_off(){return!this.is_repeat_all&&!this.is_repeat_single}},methods:{toggle_repeat_mode:function(){this.is_repeat_all?f.player_repeat("single"):this.is_repeat_single?f.player_repeat("off"):f.player_repeat("all")}}},E4={class:"icon"};function O4(e,s,a,r,o,i){return l(),_("a",{onClick:s[0]||(s[0]=(...n)=>i.toggle_repeat_mode&&i.toggle_repeat_mode(...n)),class:A({"is-warning":!i.is_repeat_off})},[t("span",E4,[t("i",{class:A(["mdi",[a.icon_style,{"mdi-repeat":i.is_repeat_all,"mdi-repeat-once":i.is_repeat_single,"mdi-repeat-off":i.is_repeat_off}]])},null,2)])],2)}var D4=v(U4,[["render",O4]]);const N4={name:"PlayerButtonSeekBack",props:["seek_ms","icon_style"],computed:{now_playing(){return this.$store.getters.now_playing},is_stopped(){return this.$store.state.player.state==="stop"},disabled(){return!this.$store.state.queue||this.$store.state.queue.count<=0||this.is_stopped||this.now_playing.data_kind==="pipe"},visible(){return["podcast","audiobook"].includes(this.now_playing.media_kind)}},methods:{seek:function(){this.disabled||f.player_seek(this.seek_ms*-1)}}},z4=["disabled"],V4={class:"icon"};function B4(e,s,a,r,o,i){return i.visible?(l(),_("a",{key:0,onClick:s[0]||(s[0]=(...n)=>i.seek&&i.seek(...n)),disabled:i.disabled},[t("span",V4,[t("i",{class:A(["mdi mdi-rewind",a.icon_style])},null,2)])],8,z4)):y("",!0)}var F4=v(N4,[["render",B4]]);const M4={name:"PlayerButtonSeekForward",props:["seek_ms","icon_style"],computed:{now_playing(){return this.$store.getters.now_playing},is_stopped(){return this.$store.state.player.state==="stop"},disabled(){return!this.$store.state.queue||this.$store.state.queue.count<=0||this.is_stopped||this.now_playing.data_kind==="pipe"},visible(){return["podcast","audiobook"].includes(this.now_playing.media_kind)}},methods:{seek:function(){this.disabled||f.player_seek(this.seek_ms)}}},j4=["disabled"],G4={class:"icon"};function H4(e,s,a,r,o,i){return i.visible?(l(),_("a",{key:0,onClick:s[0]||(s[0]=(...n)=>i.seek&&i.seek(...n)),disabled:i.disabled},[t("span",G4,[t("i",{class:A(["mdi mdi-fast-forward",a.icon_style])},null,2)])],8,j4)):y("",!0)}var W4=v(M4,[["render",H4]]);const K4={name:"NavbarBottom",components:{NavbarItemLink:Hs,NavbarItemOutput:_4,Slider:Qt,PlayerButtonPlayPause:p4,PlayerButtonNext:k4,PlayerButtonPrevious:C4,PlayerButtonShuffle:P4,PlayerButtonConsume:I4,PlayerButtonRepeat:D4,PlayerButtonSeekForward:W4,PlayerButtonSeekBack:F4},data(){return{old_volume:0,playing:!1,loading:!1,stream_volume:10,show_outputs_menu:!1,show_desktop_outputs_menu:!1}},computed:{show_player_menu:{get(){return this.$store.state.show_player_menu},set(e){this.$store.commit(X,e)}},show_burger_menu(){return this.$store.state.show_burger_menu},zindex(){return this.show_burger_menu?"z-index: 20":""},state(){return this.$store.state.player},now_playing(){return this.$store.getters.now_playing},is_now_playing_page(){return this.$route.path==="/now-playing"},outputs(){return this.$store.state.outputs},player(){return this.$store.state.player},config(){return this.$store.state.config}},methods:{on_click_outside_outputs(){this.show_outputs_menu=!1},set_volume:function(e){f.player_volume(e)},toggle_mute_volume:function(){this.player.volume>0?this.set_volume(0):this.set_volume(this.old_volume)},setupAudio:function(){const e=st.setupAudio();e.addEventListener("waiting",s=>{this.playing=!1,this.loading=!0}),e.addEventListener("playing",s=>{this.playing=!0,this.loading=!1}),e.addEventListener("ended",s=>{this.playing=!1,this.loading=!1}),e.addEventListener("error",s=>{this.closeAudio(),this.$store.dispatch("add_notification",{text:"HTTP stream error: failed to load stream or stopped loading due to network problem",type:"danger"}),this.playing=!1,this.loading=!1})},closeAudio:function(){st.stopAudio(),this.playing=!1},playChannel:function(){if(this.playing)return;const e="/stream.mp3";this.loading=!0,st.playSource(e),st.setVolume(this.stream_volume/100)},togglePlay:function(){if(!this.loading)return this.playing?this.closeAudio():this.playChannel()},set_stream_volume:function(e){this.stream_volume=e,st.setVolume(this.stream_volume/100)}},watch:{"$store.state.player.volume"(){this.player.volume>0&&(this.old_volume=this.player.volume)}},mounted(){this.setupAudio()},destroyed(){this.closeAudio()}},Y4={class:"navbar-brand fd-expanded"},Q4=t("span",{class:"icon"},[t("i",{class:"mdi mdi-24px mdi-playlist-play"})],-1),J4={class:"is-clipped"},X4={class:"is-size-7 fd-is-text-clipped"},Z4=t("br",null,null,-1),t8={key:0},s8={class:"icon"},e8={class:"icon"},i8={class:"navbar-dropdown is-right is-boxed",style:{"margin-right":"6px","margin-bottom":"6px","border-radius":"6px"}},o8={class:"navbar-item"},a8={class:"level is-mobile"},n8={class:"level-left fd-expanded"},l8={class:"level-item",style:{"flex-grow":"0"}},r8={class:"icon"},d8={class:"level-item fd-expanded"},_8={class:"fd-expanded"},c8=t("p",{class:"heading"},"Volume",-1),u8=t("hr",{class:"fd-navbar-divider"},null,-1),m8=t("hr",{class:"fd-navbar-divider"},null,-1),h8={class:"navbar-item"},p8={class:"level is-mobile"},f8={class:"level-left fd-expanded"},y8={class:"level-item",style:{"flex-grow":"0"}},g8=t("i",{class:"mdi mdi-18px mdi-radio-tower"},null,-1),b8=[g8],k8={class:"level-item fd-expanded"},w8={class:"fd-expanded"},v8=g("HTTP stream "),$8=t("a",{href:"stream.mp3"},[t("span",{class:"is-lowercase"},"(stream.mp3)")],-1),x8=[v8,$8],C8=t("hr",{class:"fd-navbar-divider"},null,-1),A8={class:"navbar-item"},S8={class:"level is-mobile fd-expanded"},q8={class:"level-item"},P8={class:"buttons has-addons"},T8=t("div",{class:"navbar-start"},null,-1),R8={class:"navbar-end"},L8={class:"navbar-item"},I8={class:"buttons is-centered"},U8=t("hr",{class:"fd-navbar-divider"},null,-1),E8={class:"navbar-item"},O8={class:"level is-mobile"},D8={class:"level-left fd-expanded"},N8={class:"level-item",style:{"flex-grow":"0"}},z8={class:"icon"},V8={class:"level-item fd-expanded"},B8={class:"fd-expanded"},F8=t("p",{class:"heading"},"Volume",-1),M8=t("hr",{class:"fd-navbar-divider"},null,-1),j8={class:"navbar-item fd-has-margin-bottom"},G8={class:"level is-mobile"},H8={class:"level-left fd-expanded"},W8={class:"level-item",style:{"flex-grow":"0"}},K8=t("i",{class:"mdi mdi-18px mdi-radio-tower"},null,-1),Y8=[K8],Q8={class:"level-item fd-expanded"},J8={class:"fd-expanded"},X8=g("HTTP stream "),Z8=t("a",{href:"stream.mp3"},[t("span",{class:"is-lowercase"},"(stream.mp3)")],-1),tA=[X8,Z8];function sA(e,s,a,r,o,i){const n=m("navbar-item-link"),h=m("router-link"),p=m("player-button-previous"),w=m("player-button-seek-back"),b=m("player-button-play-pause"),k=m("player-button-seek-forward"),$=m("player-button-next"),S=m("Slider"),q=m("navbar-item-output"),F=m("player-button-repeat"),rt=m("player-button-shuffle"),dt=m("player-button-consume");return l(),_("nav",{class:A(["fd-bottom-navbar navbar is-white is-fixed-bottom",{"is-transparent":i.is_now_playing_page,"is-dark":!i.is_now_playing_page}]),style:Jt(i.zindex),role:"navigation","aria-label":"player controls"},[t("div",Y4,[c(n,{to:"/",exact:""},{default:d(()=>[Q4]),_:1}),i.is_now_playing_page?y("",!0):(l(),x(h,{key:0,to:"/now-playing",class:"navbar-item is-expanded is-clipped","active-class":"is-active",exact:""},{default:d(()=>[t("div",J4,[t("p",X4,[t("strong",null,u(i.now_playing.title),1),Z4,g(" "+u(i.now_playing.artist),1),i.now_playing.data_kind==="url"?(l(),_("span",t8," - "+u(i.now_playing.album),1)):y("",!0)])])]),_:1})),i.is_now_playing_page?(l(),x(p,{key:1,class:"navbar-item fd-margin-left-auto",icon_style:"mdi-24px"})):y("",!0),i.is_now_playing_page?(l(),x(w,{key:2,seek_ms:"10000",class:"navbar-item",icon_style:"mdi-24px"})):y("",!0),c(b,{class:"navbar-item",icon_style:"mdi-36px",show_disabled_message:""}),i.is_now_playing_page?(l(),x(k,{key:3,seek_ms:"30000",class:"navbar-item",icon_style:"mdi-24px"})):y("",!0),i.is_now_playing_page?(l(),x($,{key:4,class:"navbar-item",icon_style:"mdi-24px"})):y("",!0),t("a",{class:"navbar-item fd-margin-left-auto is-hidden-desktop",onClick:s[0]||(s[0]=O=>i.show_player_menu=!i.show_player_menu)},[t("span",s8,[t("i",{class:A(["mdi mdi-18px",{"mdi-chevron-up":!i.show_player_menu,"mdi-chevron-down":i.show_player_menu}])},null,2)])]),t("div",{class:A(["navbar-item has-dropdown has-dropdown-up fd-margin-left-auto is-hidden-touch",{"is-active":i.show_player_menu}])},[t("a",{class:"navbar-link is-arrowless",onClick:s[1]||(s[1]=O=>i.show_player_menu=!i.show_player_menu)},[t("span",e8,[t("i",{class:A(["mdi mdi-18px",{"mdi-chevron-up":!i.show_player_menu,"mdi-chevron-down":i.show_player_menu}])},null,2)])]),t("div",i8,[t("div",o8,[t("div",a8,[t("div",n8,[t("div",l8,[t("a",{class:"button is-white is-small",onClick:s[2]||(s[2]=(...O)=>i.toggle_mute_volume&&i.toggle_mute_volume(...O))},[t("span",r8,[t("i",{class:A(["mdi mdi-18px",{"mdi-volume-off":i.player.volume<=0,"mdi-volume-high":i.player.volume>0}])},null,2)])])]),t("div",d8,[t("div",_8,[c8,c(S,{modelValue:i.player.volume,"onUpdate:modelValue":s[3]||(s[3]=O=>i.player.volume=O),min:0,max:100,step:1,tooltips:!1,onChange:i.set_volume,classes:{target:"slider"}},null,8,["modelValue","onChange"])])])])])]),u8,(l(!0),_(R,null,L(i.outputs,O=>(l(),x(q,{key:O.id,output:O},null,8,["output"]))),128)),m8,t("div",h8,[t("div",p8,[t("div",f8,[t("div",y8,[t("a",{class:A(["button is-white is-small",{"is-loading":o.loading}])},[t("span",{class:A(["icon fd-has-action",{"has-text-grey-light":!o.playing&&!o.loading,"is-loading":o.loading}]),onClick:s[4]||(s[4]=(...O)=>i.togglePlay&&i.togglePlay(...O))},b8,2)],2)]),t("div",k8,[t("div",w8,[t("p",{class:A(["heading",{"has-text-grey-light":!o.playing}])},x8,2),c(S,{modelValue:o.stream_volume,"onUpdate:modelValue":s[5]||(s[5]=O=>o.stream_volume=O),min:0,max:100,step:1,tooltips:!1,disabled:!o.playing,onChange:i.set_stream_volume,classes:{target:"slider"}},null,8,["modelValue","disabled","onChange"])])])])])]),C8,t("div",A8,[t("div",S8,[t("div",q8,[t("div",P8,[c(F,{class:"button"}),c(rt,{class:"button"}),c(dt,{class:"button"})])])])])])],2)]),t("div",{class:A(["navbar-menu is-hidden-desktop",{"is-active":i.show_player_menu}])},[T8,t("div",R8,[t("div",L8,[t("div",I8,[c(F,{class:"button",icon_style:"mdi-18px"}),c(rt,{class:"button",icon_style:"mdi-18px"}),c(dt,{class:"button",icon_style:"mdi-18px"})])]),U8,t("div",E8,[t("div",O8,[t("div",D8,[t("div",N8,[t("a",{class:"button is-white is-small",onClick:s[6]||(s[6]=(...O)=>i.toggle_mute_volume&&i.toggle_mute_volume(...O))},[t("span",z8,[t("i",{class:A(["mdi mdi-18px",{"mdi-volume-off":i.player.volume<=0,"mdi-volume-high":i.player.volume>0}])},null,2)])])]),t("div",V8,[t("div",B8,[F8,c(S,{modelValue:i.player.volume,"onUpdate:modelValue":s[7]||(s[7]=O=>i.player.volume=O),min:0,max:100,step:1,tooltips:!1,onChange:i.set_volume,classes:{target:"slider"}},null,8,["modelValue","onChange"])])])])])]),(l(!0),_(R,null,L(i.outputs,O=>(l(),x(q,{key:O.id,output:O},null,8,["output"]))),128)),M8,t("div",j8,[t("div",G8,[t("div",H8,[t("div",W8,[t("a",{class:A(["button is-white is-small",{"is-loading":o.loading}])},[t("span",{class:A(["icon fd-has-action",{"has-text-grey-light":!o.playing&&!o.loading,"is-loading":o.loading}]),onClick:s[8]||(s[8]=(...O)=>i.togglePlay&&i.togglePlay(...O))},Y8,2)],2)]),t("div",Q8,[t("div",J8,[t("p",{class:A(["heading",{"has-text-grey-light":!o.playing}])},tA,2),c(S,{modelValue:o.stream_volume,"onUpdate:modelValue":s[9]||(s[9]=O=>o.stream_volume=O),min:0,max:100,step:1,tooltips:!1,disabled:!o.playing,onChange:i.set_stream_volume,classes:{target:"slider"}},null,8,["modelValue","disabled","onChange"])])])])])])])],2)],6)}var eA=v(K4,[["render",sA]]);const iA={name:"Notifications",components:{},data(){return{showNav:!1}},computed:{notifications(){return this.$store.state.notifications.list}},methods:{remove:function(e){this.$store.commit(Wt,e)}}},oA={key:0,class:"fd-notifications"},aA={class:"columns is-centered"},nA={class:"column is-half"},lA=["onClick"];function rA(e,s,a,r,o,i){return i.notifications.length>0?(l(),_("section",oA,[t("div",aA,[t("div",nA,[(l(!0),_(R,null,L(i.notifications,n=>(l(),_("div",{class:A(["notification has-shadow",["notification",n.type?`is-${n.type}`:""]]),key:n.id},[t("button",{class:"delete",onClick:h=>i.remove(n)},null,8,lA),g(" "+u(n.text),1)],2))),128))])])])):y("",!0)}var dA=v(iA,[["render",rA]]);const _A={name:"ModalDialogRemotePairing",props:["show"],data(){return{pairing_req:{pin:""}}},computed:{pairing(){return this.$store.state.pairing}},methods:{kickoff_pairing(){f.pairing_kickoff(this.pairing_req).then(()=>{this.pairing_req.pin=""})}},watch:{show(){this.show&&(this.loading=!1,setTimeout(()=>{this.$refs.pin_field.focus()},10))}}},cA={key:0,class:"modal is-active"},uA={class:"modal-content fd-modal-card"},mA={class:"card"},hA={class:"card-content"},pA=t("p",{class:"title is-4"}," Remote pairing request ",-1),fA={class:"label"},yA={class:"field"},gA={class:"control"},bA={class:"card-footer"},kA=t("span",{class:"icon"},[t("i",{class:"mdi mdi-cancel"})],-1),wA=g(),vA=t("span",{class:"is-size-7"},"Cancel",-1),$A=[kA,wA,vA],xA=t("span",{class:"icon"},[t("i",{class:"mdi mdi-cellphone-iphone"})],-1),CA=g(),AA=t("span",{class:"is-size-7"},"Pair Remote",-1),SA=[xA,CA,AA];function qA(e,s,a,r,o,i){return l(),_("div",null,[c(N,{name:"fade"},{default:d(()=>[a.show?(l(),_("div",cA,[t("div",{class:"modal-background",onClick:s[0]||(s[0]=n=>e.$emit("close"))}),t("div",uA,[t("div",mA,[t("div",hA,[pA,t("form",{onSubmit:s[2]||(s[2]=E((...n)=>i.kickoff_pairing&&i.kickoff_pairing(...n),["prevent"]))},[t("label",fA,u(i.pairing.remote),1),t("div",yA,[t("div",gA,[D(t("input",{class:"input",type:"text",placeholder:"Enter pairing code","onUpdate:modelValue":s[1]||(s[1]=n=>o.pairing_req.pin=n),ref:"pin_field"},null,512),[[V,o.pairing_req.pin]])])])],32)]),t("footer",bA,[t("a",{class:"card-footer-item has-text-danger",onClick:s[3]||(s[3]=n=>e.$emit("close"))},$A),t("a",{class:"card-footer-item has-background-info has-text-white has-text-weight-bold",onClick:s[4]||(s[4]=(...n)=>i.kickoff_pairing&&i.kickoff_pairing(...n))},SA)])])]),t("button",{class:"modal-close is-large","aria-label":"close",onClick:s[5]||(s[5]=n=>e.$emit("close"))})])):y("",!0)]),_:1})])}var PA=v(_A,[["render",qA]]);const TA={name:"ModalDialogUpdate",components:{ModalDialog:as},props:["show"],data(){return{rescan_metadata:!1}},computed:{library(){return this.$store.state.library},rss(){return this.$store.state.rss_count},spotify_enabled(){return this.$store.state.spotify.webapi_token_valid},update_dialog_scan_kind:{get(){return this.$store.state.update_dialog_scan_kind},set(e){this.$store.commit(os,e)}}},methods:{update_library(){this.rescan_metadata?f.library_rescan(this.update_dialog_scan_kind):f.library_update(this.update_dialog_scan_kind)},close(){this.update_dialog_scan_kind="",this.$emit("close")}}},RA={"slot:modal-content":""},LA={key:0},IA=t("p",{class:"mb-3"},"Scan for new, deleted and modified files",-1),UA={key:0,class:"field"},EA={class:"control"},OA={class:"select is-small"},DA=t("option",{value:""},"Update everything",-1),NA=t("option",{value:"files"},"Only update local library",-1),zA={key:0,value:"spotify"},VA={key:1,value:"rss"},BA={class:"field"},FA={class:"checkbox is-size-7 is-small"},MA=g(" Rescan metadata for unmodified files "),jA={key:1},GA=t("p",{class:"mb-3"},"Library update in progress ...",-1),HA=[GA];function WA(e,s,a,r,o,i){const n=m("modal-dialog");return l(),x(n,{show:a.show,title:"Update library",ok_action:i.library.updating?"":"Rescan",close_action:"Close",onOk:i.update_library,onClose:s[2]||(s[2]=h=>i.close())},{default:d(()=>[t("template",RA,[i.library.updating?(l(),_("div",jA,HA)):(l(),_("div",LA,[IA,i.spotify_enabled||i.rss.tracks>0?(l(),_("div",UA,[t("div",EA,[t("div",OA,[D(t("select",{"onUpdate:modelValue":s[0]||(s[0]=h=>i.update_dialog_scan_kind=h)},[DA,NA,i.spotify_enabled?(l(),_("option",zA,"Only update Spotify")):y("",!0),i.rss.tracks>0?(l(),_("option",VA,"Only update RSS feeds")):y("",!0)],512),[[se,i.update_dialog_scan_kind]])])])])):y("",!0),t("div",BA,[t("label",FA,[D(t("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=h=>o.rescan_metadata=h)},null,512),[[Q,o.rescan_metadata]]),MA])])]))])]),_:1},8,["show","ok_action","onOk"])}var KA=v(TA,[["render",WA]]);const YA={name:"App",components:{NavbarTop:Z3,NavbarBottom:eA,Notifications:dA,ModalDialogRemotePairing:PA,ModalDialogUpdate:KA},template:"<App/>",data(){return{token_timer_id:0,reconnect_attempts:0,pairing_active:!1}},computed:{show_burger_menu:{get(){return this.$store.state.show_burger_menu},set(e){this.$store.commit(J,e)}},show_player_menu:{get(){return this.$store.state.show_player_menu},set(e){this.$store.commit(X,e)}},show_update_dialog:{get(){return this.$store.state.show_update_dialog},set(e){this.$store.commit(et,e)}}},created:function(){K.locale(navigator.language),this.connect(),this.$Progress.start(),this.$router.beforeEach((e,s,a)=>{if(e.meta.show_progress){if(e.meta.progress!==void 0){const r=e.meta.progress;this.$Progress.parseMeta(r)}this.$Progress.start()}a()}),this.$router.afterEach((e,s)=>{e.meta.show_progress&&this.$Progress.finish()})},methods:{connect:function(){this.$store.dispatch("add_notification",{text:"Connecting to OwnTone server",type:"info",topic:"connection",timeout:2e3}),f.config().then(({data:e})=>{this.$store.commit(gs,e),this.$store.commit(Ft,e.hide_singles),document.title=e.library_name,this.open_ws(),this.$Progress.finish()}).catch(()=>{this.$store.dispatch("add_notification",{text:"Failed to connect to OwnTone server",type:"danger",topic:"connection"})})},open_ws:function(){if(this.$store.state.config.websocket_port<=0){this.$store.dispatch("add_notification",{text:"Missing websocket port",type:"danger"});return}const e=this;let s="ws://";window.location.protocol==="https:"&&(s="wss://");let a=s+window.location.hostname+":"+e.$store.state.config.websocket_port;const r=new ee(a,"notify",{reconnectInterval:3e3});r.onopen=function(){e.$store.dispatch("add_notification",{text:"Connection to server established",type:"primary",topic:"connection",timeout:2e3}),e.reconnect_attempts=0,r.send(JSON.stringify({notify:["update","database","player","options","outputs","volume","queue","spotify","lastfm","pairing"]})),e.update_outputs(),e.update_player_status(),e.update_library_stats(),e.update_settings(),e.update_queue(),e.update_spotify(),e.update_lastfm(),e.update_pairing()},r.onclose=function(){},r.onerror=function(){e.reconnect_attempts++,e.$store.dispatch("add_notification",{text:"Connection lost. Reconnecting ... ("+e.reconnect_attempts+")",type:"danger",topic:"connection"})},r.onmessage=function(o){const i=JSON.parse(o.data);(i.notify.includes("update")||i.notify.includes("database"))&&e.update_library_stats(),(i.notify.includes("player")||i.notify.includes("options")||i.notify.includes("volume"))&&e.update_player_status(),(i.notify.includes("outputs")||i.notify.includes("volume"))&&e.update_outputs(),i.notify.includes("queue")&&e.update_queue(),i.notify.includes("spotify")&&e.update_spotify(),i.notify.includes("lastfm")&&e.update_lastfm(),i.notify.includes("pairing")&&e.update_pairing()}},update_library_stats:function(){f.library_stats().then(({data:e})=>{this.$store.commit(ks,e)}),f.library_count("media_kind is audiobook").then(({data:e})=>{this.$store.commit(ws,e)}),f.library_count("media_kind is podcast").then(({data:e})=>{this.$store.commit(vs,e)}),f.library_count("scan_kind is rss").then(({data:e})=>{this.$store.commit($s,e)})},update_outputs:function(){f.outputs().then(({data:e})=>{this.$store.commit(xs,e.outputs)})},update_player_status:function(){f.player_status().then(({data:e})=>{this.$store.commit(Zt,e)})},update_queue:function(){f.queue().then(({data:e})=>{this.$store.commit(Cs,e)})},update_settings:function(){f.settings().then(({data:e})=>{this.$store.commit(bs,e)})},update_lastfm:function(){f.lastfm().then(({data:e})=>{this.$store.commit(As,e)})},update_spotify:function(){f.spotify().then(({data:e})=>{this.$store.commit(Ss,e),this.token_timer_id>0&&(window.clearTimeout(this.token_timer_id),this.token_timer_id=0),e.webapi_token_expires_in>0&&e.webapi_token&&(this.token_timer_id=window.setTimeout(this.update_spotify,1e3*e.webapi_token_expires_in))})},update_pairing:function(){f.pairing().then(({data:e})=>{this.$store.commit(qs,e),this.pairing_active=e.active})},update_is_clipped:function(){this.show_burger_menu||this.show_player_menu?document.querySelector("html").classList.add("is-clipped"):document.querySelector("html").classList.remove("is-clipped")}},watch:{show_burger_menu(){this.update_is_clipped()},show_player_menu(){this.update_is_clipped()}}},QA={id:"app"};function JA(e,s,a,r,o,i){const n=m("navbar-top"),h=m("vue-progress-bar"),p=m("router-view"),w=m("modal-dialog-remote-pairing"),b=m("modal-dialog-update"),k=m("notifications"),$=m("navbar-bottom");return l(),_("div",QA,[c(n),c(h,{class:"fd-progress-bar"}),c(p,null,{default:d(({Component:S})=>[c(N,{name:"fade"},{default:d(()=>[(l(),x(ie(S),{class:"fd-page"}))]),_:2},1024)]),_:1}),c(w,{show:o.pairing_active,onClose:s[0]||(s[0]=S=>o.pairing_active=!1)},null,8,["show"]),c(b,{show:i.show_update_dialog,onClose:s[1]||(s[1]=S=>i.show_update_dialog=!1)},null,8,["show"]),D(c(k,null,null,512),[[Vt,!i.show_burger_menu]]),c($),D(t("div",{class:"fd-overlay-fullscreen",onClick:s[2]||(s[2]=S=>i.show_burger_menu=i.show_player_menu=!1)},null,512),[[Vt,i.show_burger_menu||i.show_player_menu]])])}var XA=v(YA,[["render",JA]]);const Ws=oe(XA).use(T).use(Gs).use(ae,{color:"hsl(204, 86%, 53%)",failedColor:"red",height:"1px"}).use(ne).use(le,{log:!1}).use(re);Ws.config.globalProperties.$filters=e3;Ws.mount("#app");
